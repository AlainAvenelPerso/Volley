import{$ as js,$a as Wt,A as H,Aa as $a,Ac as pc,B as Er,Bc as gc,C as Ba,Cc as vc,D as ka,Da as An,E as ee,Ea as Ms,F as Is,Fa as qa,Fb as oc,G as Be,Ga as Ha,H as Oa,Ha as za,I as wn,Ia as Ls,Ja as Wa,Ka as Sr,L as pt,Ma as $s,N as $t,Na as qs,O as Cr,Oa as Va,Q as Fs,R as qt,Ra as Ar,Sa as Ga,T as En,Ta as Ka,U as nt,V as Ps,Va as zt,W as Ia,Wa as Rr,X as Fa,Z as Pa,Za as Ja,_ as Ce,_a as Ya,a as M,aa as de,ab as Xa,b as De,c as Sa,cb as Qa,da as ae,db as Hs,e as q,ea as ja,eb as Za,ec as ac,f as Aa,g as Mt,ga as Y,gb as Rn,gc as it,h as b,i as Ra,ia as Ua,ic as cc,j as Da,ja as fe,jc as lc,k as Ta,ka as Q,kb as ec,l as ks,la as W,lb as tc,lc as zs,m as Os,ma as Na,mb as rc,mc as uc,n as We,nb as nc,nc as Dn,o as ie,oa as Ma,ob as ic,pa as Ht,qa as je,qc as Dr,rc as hc,s as Ve,sc as dc,t as ft,ta as Us,tc as fc,u as P,ua as ke,uc as Tn,v as Lt,va as La,w as oe,wa as Ns,xa as Cn,z as Te,za as Sn,zb as sc}from"./chunk-RYDLNXIP.js";var Do=q(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var Ao=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ro.default=Ao});var ko=q(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var ff=(oe(),Mt(Lt)),pf=ff.__importDefault(Do()),To=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>b(this,null,function*(){var o,a,c,l;let u=null,d=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){let v=yield s.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=v:d=JSON.parse(v))}let x=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(c=s.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");x&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let x=yield s.text();try{u=JSON.parse(x),Array.isArray(u)&&s.status===404&&(d=[],u=null,f=200,p="OK")}catch{s.status===404&&x===""?(f=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new pf.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}}));return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,c;return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:`${(a=s?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=s?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}};Bo.default=To});var Fo=q(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var gf=(oe(),Mt(Lt)),vf=gf.__importDefault(ko()),Oo=class extends vf.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){let o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;let c=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Io.default=Oo});var li=q(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var xf=(oe(),Mt(Lt)),mf=xf.__importDefault(Fo()),yf=new RegExp("[,()]"),Po=class extends mf.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&yf.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");let o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};jo.default=Po});var Mo=q(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var _f=(oe(),Mt(Lt)),tn=_f.__importDefault(li()),Uo=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(t,e){let{head:r=!1,count:i}=e??{},s=r?"HEAD":"GET",o=!1,a=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new tn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;let s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let o=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){let a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new tn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var o;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new tn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;let i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new tn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;let r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new tn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};No.default=Uo});var wl=q($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var bl=(oe(),Mt(Lt)),bf=bl.__importDefault(Mo()),wf=bl.__importDefault(li()),Lo=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(e),this.schemaName=r,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new bf.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:s}={}){var o;let a,c=new URL(`${this.url}/rpc/${t}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(e).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",l=e);let u=new Headers(this.headers);return s&&u.set("Prefer",`count=${s}`),new wf.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};$o.default=Lo});var Tl=q(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;var ir=(oe(),Mt(Lt)),El=ir.__importDefault(wl());xe.PostgrestClient=El.default;var Cl=ir.__importDefault(Mo());xe.PostgrestQueryBuilder=Cl.default;var Sl=ir.__importDefault(li());xe.PostgrestFilterBuilder=Sl.default;var Al=ir.__importDefault(Fo());xe.PostgrestTransformBuilder=Al.default;var Rl=ir.__importDefault(ko());xe.PostgrestBuilder=Rl.default;var Dl=ir.__importDefault(Do());xe.PostgrestError=Dl.default;xe.default={PostgrestClient:El.default,PostgrestQueryBuilder:Cl.default,PostgrestFilterBuilder:Sl.default,PostgrestTransformBuilder:Al.default,PostgrestBuilder:Rl.default,PostgrestError:Dl.default}});var Uu=q(()=>{"use strict"});var K=q((zi,Nu)=>{"use strict";(function(n,t){typeof zi=="object"?Nu.exports=zi=t():typeof define=="function"&&define.amd?define([],t):n.CryptoJS=t()})(zi,function(){var n=n||(function(t,e){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof global<"u"&&global.crypto&&(r=global.crypto),!r&&typeof Sa=="function")try{r=Uu()}catch{}var i=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||(function(){function g(){}return function(v){var _;return g.prototype=v,_=new g,g.prototype=null,_}})(),o={},a=o.lib={},c=a.Base=(function(){return{extend:function(g){var v=s(this);return g&&v.mixIn(g),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var v in g)g.hasOwnProperty(v)&&(this[v]=g[v]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),l=a.WordArray=c.extend({init:function(g,v){g=this.words=g||[],v!=e?this.sigBytes=v:this.sigBytes=g.length*4},toString:function(g){return(g||d).stringify(this)},concat:function(g){var v=this.words,_=g.words,y=this.sigBytes,w=g.sigBytes;if(this.clamp(),y%4)for(var E=0;E<w;E++){var A=_[E>>>2]>>>24-E%4*8&255;v[y+E>>>2]|=A<<24-(y+E)%4*8}else for(var S=0;S<w;S+=4)v[y+S>>>2]=_[S>>>2];return this.sigBytes+=w,this},clamp:function(){var g=this.words,v=this.sigBytes;g[v>>>2]&=4294967295<<32-v%4*8,g.length=t.ceil(v/4)},clone:function(){var g=c.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var v=[],_=0;_<g;_+=4)v.push(i());return new l.init(v,g)}}),u=o.enc={},d=u.Hex={stringify:function(g){for(var v=g.words,_=g.sigBytes,y=[],w=0;w<_;w++){var E=v[w>>>2]>>>24-w%4*8&255;y.push((E>>>4).toString(16)),y.push((E&15).toString(16))}return y.join("")},parse:function(g){for(var v=g.length,_=[],y=0;y<v;y+=2)_[y>>>3]|=parseInt(g.substr(y,2),16)<<24-y%8*4;return new l.init(_,v/2)}},h=u.Latin1={stringify:function(g){for(var v=g.words,_=g.sigBytes,y=[],w=0;w<_;w++){var E=v[w>>>2]>>>24-w%4*8&255;y.push(String.fromCharCode(E))}return y.join("")},parse:function(g){for(var v=g.length,_=[],y=0;y<v;y++)_[y>>>2]|=(g.charCodeAt(y)&255)<<24-y%4*8;return new l.init(_,v)}},f=u.Utf8={stringify:function(g){try{return decodeURIComponent(escape(h.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return h.parse(unescape(encodeURIComponent(g)))}},p=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=f.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var v,_=this._data,y=_.words,w=_.sigBytes,E=this.blockSize,A=E*4,S=w/A;g?S=t.ceil(S):S=t.max((S|0)-this._minBufferSize,0);var O=S*E,F=t.min(O*4,w);if(O){for(var C=0;C<O;C+=E)this._doProcessBlock(y,C);v=y.splice(0,O),_.sigBytes-=F}return new l.init(v,F)},clone:function(){var g=c.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0}),m=a.Hasher=p.extend({cfg:c.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var v=this._doFinalize();return v},blockSize:512/32,_createHelper:function(g){return function(v,_){return new g.init(_).finalize(v)}},_createHmacHelper:function(g){return function(v,_){return new x.HMAC.init(g,_).finalize(v)}}}),x=o.algo={};return o})(Math);return n})});var mn=q((Wi,Mu)=>{"use strict";(function(n,t){typeof Wi=="object"?Mu.exports=Wi=t(K()):typeof define=="function"&&define.amd?define(["./core"],t):t(n.CryptoJS)})(Wi,function(n){return(function(t){var e=n,r=e.lib,i=r.Base,s=r.WordArray,o=e.x64={},a=o.Word=i.extend({init:function(l,u){this.high=l,this.low=u}}),c=o.WordArray=i.extend({init:function(l,u){l=this.words=l||[],u!=t?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,d=[],h=0;h<u;h++){var f=l[h];d.push(f.high),d.push(f.low)}return s.create(d,this.sigBytes)},clone:function(){for(var l=i.clone.call(this),u=l.words=this.words.slice(0),d=u.length,h=0;h<d;h++)u[h]=u[h].clone();return l}})})(),n})});var $u=q((Vi,Lu)=>{"use strict";(function(n,t){typeof Vi=="object"?Lu.exports=Vi=t(K()):typeof define=="function"&&define.amd?define(["./core"],t):t(n.CryptoJS)})(Vi,function(n){return(function(){if(typeof ArrayBuffer=="function"){var t=n,e=t.lib,r=e.WordArray,i=r.init,s=r.init=function(o){if(o instanceof ArrayBuffer&&(o=new Uint8Array(o)),(o instanceof Int8Array||typeof Uint8ClampedArray<"u"&&o instanceof Uint8ClampedArray||o instanceof Int16Array||o instanceof Uint16Array||o instanceof Int32Array||o instanceof Uint32Array||o instanceof Float32Array||o instanceof Float64Array)&&(o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength)),o instanceof Uint8Array){for(var a=o.byteLength,c=[],l=0;l<a;l++)c[l>>>2]|=o[l]<<24-l%4*8;i.call(this,c,a)}else i.apply(this,arguments)};s.prototype=r}})(),n.lib.WordArray})});var Hu=q((Gi,qu)=>{"use strict";(function(n,t){typeof Gi=="object"?qu.exports=Gi=t(K()):typeof define=="function"&&define.amd?define(["./core"],t):t(n.CryptoJS)})(Gi,function(n){return(function(){var t=n,e=t.lib,r=e.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:function(a){for(var c=a.words,l=a.sigBytes,u=[],d=0;d<l;d+=2){var h=c[d>>>2]>>>16-d%4*8&65535;u.push(String.fromCharCode(h))}return u.join("")},parse:function(a){for(var c=a.length,l=[],u=0;u<c;u++)l[u>>>1]|=a.charCodeAt(u)<<16-u%2*16;return r.create(l,c*2)}};i.Utf16LE={stringify:function(a){for(var c=a.words,l=a.sigBytes,u=[],d=0;d<l;d+=2){var h=o(c[d>>>2]>>>16-d%4*8&65535);u.push(String.fromCharCode(h))}return u.join("")},parse:function(a){for(var c=a.length,l=[],u=0;u<c;u++)l[u>>>1]|=o(a.charCodeAt(u)<<16-u%2*16);return r.create(l,c*2)}};function o(a){return a<<8&4278255360|a>>>8&16711935}})(),n.enc.Utf16})});var ht=q((Ki,zu)=>{"use strict";(function(n,t){typeof Ki=="object"?zu.exports=Ki=t(K()):typeof define=="function"&&define.amd?define(["./core"],t):t(n.CryptoJS)})(Ki,function(n){return(function(){var t=n,e=t.lib,r=e.WordArray,i=t.enc,s=i.Base64={stringify:function(a){var c=a.words,l=a.sigBytes,u=this._map;a.clamp();for(var d=[],h=0;h<l;h+=3)for(var f=c[h>>>2]>>>24-h%4*8&255,p=c[h+1>>>2]>>>24-(h+1)%4*8&255,m=c[h+2>>>2]>>>24-(h+2)%4*8&255,x=f<<16|p<<8|m,g=0;g<4&&h+g*.75<l;g++)d.push(u.charAt(x>>>6*(3-g)&63));var v=u.charAt(64);if(v)for(;d.length%4;)d.push(v);return d.join("")},parse:function(a){var c=a.length,l=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var d=0;d<l.length;d++)u[l.charCodeAt(d)]=d}var h=l.charAt(64);if(h){var f=a.indexOf(h);f!==-1&&(c=f)}return o(a,c,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(a,c,l){for(var u=[],d=0,h=0;h<c;h++)if(h%4){var f=l[a.charCodeAt(h-1)]<<h%4*2,p=l[a.charCodeAt(h)]>>>6-h%4*2,m=f|p;u[d>>>2]|=m<<24-d%4*8,d++}return r.create(u,d)}})(),n.enc.Base64})});var Vu=q((Ji,Wu)=>{"use strict";(function(n,t){typeof Ji=="object"?Wu.exports=Ji=t(K()):typeof define=="function"&&define.amd?define(["./core"],t):t(n.CryptoJS)})(Ji,function(n){return(function(){var t=n,e=t.lib,r=e.WordArray,i=t.enc,s=i.Base64url={stringify:function(a,c){c===void 0&&(c=!0);var l=a.words,u=a.sigBytes,d=c?this._safe_map:this._map;a.clamp();for(var h=[],f=0;f<u;f+=3)for(var p=l[f>>>2]>>>24-f%4*8&255,m=l[f+1>>>2]>>>24-(f+1)%4*8&255,x=l[f+2>>>2]>>>24-(f+2)%4*8&255,g=p<<16|m<<8|x,v=0;v<4&&f+v*.75<u;v++)h.push(d.charAt(g>>>6*(3-v)&63));var _=d.charAt(64);if(_)for(;h.length%4;)h.push(_);return h.join("")},parse:function(a,c){c===void 0&&(c=!0);var l=a.length,u=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<u.length;h++)d[u.charCodeAt(h)]=h}var f=u.charAt(64);if(f){var p=a.indexOf(f);p!==-1&&(l=p)}return o(a,l,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(a,c,l){for(var u=[],d=0,h=0;h<c;h++)if(h%4){var f=l[a.charCodeAt(h-1)]<<h%4*2,p=l[a.charCodeAt(h)]>>>6-h%4*2,m=f|p;u[d>>>2]|=m<<24-d%4*8,d++}return r.create(u,d)}})(),n.enc.Base64url})});var dt=q((Yi,Gu)=>{"use strict";(function(n,t){typeof Yi=="object"?Gu.exports=Yi=t(K()):typeof define=="function"&&define.amd?define(["./core"],t):t(n.CryptoJS)})(Yi,function(n){return(function(t){var e=n,r=e.lib,i=r.WordArray,s=r.Hasher,o=e.algo,a=[];(function(){for(var f=0;f<64;f++)a[f]=t.abs(t.sin(f+1))*4294967296|0})();var c=o.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,p){for(var m=0;m<16;m++){var x=p+m,g=f[x];f[x]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var v=this._hash.words,_=f[p+0],y=f[p+1],w=f[p+2],E=f[p+3],A=f[p+4],S=f[p+5],O=f[p+6],F=f[p+7],C=f[p+8],I=f[p+9],j=f[p+10],B=f[p+11],$=f[p+12],N=f[p+13],V=f[p+14],J=f[p+15],R=v[0],T=v[1],k=v[2],D=v[3];R=l(R,T,k,D,_,7,a[0]),D=l(D,R,T,k,y,12,a[1]),k=l(k,D,R,T,w,17,a[2]),T=l(T,k,D,R,E,22,a[3]),R=l(R,T,k,D,A,7,a[4]),D=l(D,R,T,k,S,12,a[5]),k=l(k,D,R,T,O,17,a[6]),T=l(T,k,D,R,F,22,a[7]),R=l(R,T,k,D,C,7,a[8]),D=l(D,R,T,k,I,12,a[9]),k=l(k,D,R,T,j,17,a[10]),T=l(T,k,D,R,B,22,a[11]),R=l(R,T,k,D,$,7,a[12]),D=l(D,R,T,k,N,12,a[13]),k=l(k,D,R,T,V,17,a[14]),T=l(T,k,D,R,J,22,a[15]),R=u(R,T,k,D,y,5,a[16]),D=u(D,R,T,k,O,9,a[17]),k=u(k,D,R,T,B,14,a[18]),T=u(T,k,D,R,_,20,a[19]),R=u(R,T,k,D,S,5,a[20]),D=u(D,R,T,k,j,9,a[21]),k=u(k,D,R,T,J,14,a[22]),T=u(T,k,D,R,A,20,a[23]),R=u(R,T,k,D,I,5,a[24]),D=u(D,R,T,k,V,9,a[25]),k=u(k,D,R,T,E,14,a[26]),T=u(T,k,D,R,C,20,a[27]),R=u(R,T,k,D,N,5,a[28]),D=u(D,R,T,k,w,9,a[29]),k=u(k,D,R,T,F,14,a[30]),T=u(T,k,D,R,$,20,a[31]),R=d(R,T,k,D,S,4,a[32]),D=d(D,R,T,k,C,11,a[33]),k=d(k,D,R,T,B,16,a[34]),T=d(T,k,D,R,V,23,a[35]),R=d(R,T,k,D,y,4,a[36]),D=d(D,R,T,k,A,11,a[37]),k=d(k,D,R,T,F,16,a[38]),T=d(T,k,D,R,j,23,a[39]),R=d(R,T,k,D,N,4,a[40]),D=d(D,R,T,k,_,11,a[41]),k=d(k,D,R,T,E,16,a[42]),T=d(T,k,D,R,O,23,a[43]),R=d(R,T,k,D,I,4,a[44]),D=d(D,R,T,k,$,11,a[45]),k=d(k,D,R,T,J,16,a[46]),T=d(T,k,D,R,w,23,a[47]),R=h(R,T,k,D,_,6,a[48]),D=h(D,R,T,k,F,10,a[49]),k=h(k,D,R,T,V,15,a[50]),T=h(T,k,D,R,S,21,a[51]),R=h(R,T,k,D,$,6,a[52]),D=h(D,R,T,k,E,10,a[53]),k=h(k,D,R,T,j,15,a[54]),T=h(T,k,D,R,y,21,a[55]),R=h(R,T,k,D,C,6,a[56]),D=h(D,R,T,k,J,10,a[57]),k=h(k,D,R,T,O,15,a[58]),T=h(T,k,D,R,N,21,a[59]),R=h(R,T,k,D,A,6,a[60]),D=h(D,R,T,k,B,10,a[61]),k=h(k,D,R,T,w,15,a[62]),T=h(T,k,D,R,I,21,a[63]),v[0]=v[0]+R|0,v[1]=v[1]+T|0,v[2]=v[2]+k|0,v[3]=v[3]+D|0},_doFinalize:function(){var f=this._data,p=f.words,m=this._nDataBytes*8,x=f.sigBytes*8;p[x>>>5]|=128<<24-x%32;var g=t.floor(m/4294967296),v=m;p[(x+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,p[(x+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,f.sigBytes=(p.length+1)*4,this._process();for(var _=this._hash,y=_.words,w=0;w<4;w++){var E=y[w];y[w]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}return _},clone:function(){var f=s.clone.call(this);return f._hash=this._hash.clone(),f}});function l(f,p,m,x,g,v,_){var y=f+(p&m|~p&x)+g+_;return(y<<v|y>>>32-v)+p}function u(f,p,m,x,g,v,_){var y=f+(p&x|m&~x)+g+_;return(y<<v|y>>>32-v)+p}function d(f,p,m,x,g,v,_){var y=f+(p^m^x)+g+_;return(y<<v|y>>>32-v)+p}function h(f,p,m,x,g,v,_){var y=f+(m^(p|~x))+g+_;return(y<<v|y>>>32-v)+p}e.MD5=s._createHelper(c),e.HmacMD5=s._createHmacHelper(c)})(Math),n.MD5})});var ha=q((Xi,Ku)=>{"use strict";(function(n,t){typeof Xi=="object"?Ku.exports=Xi=t(K()):typeof define=="function"&&define.amd?define(["./core"],t):t(n.CryptoJS)})(Xi,function(n){return(function(){var t=n,e=t.lib,r=e.WordArray,i=e.Hasher,s=t.algo,o=[],a=s.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,l){for(var u=this._hash.words,d=u[0],h=u[1],f=u[2],p=u[3],m=u[4],x=0;x<80;x++){if(x<16)o[x]=c[l+x]|0;else{var g=o[x-3]^o[x-8]^o[x-14]^o[x-16];o[x]=g<<1|g>>>31}var v=(d<<5|d>>>27)+m+o[x];x<20?v+=(h&f|~h&p)+1518500249:x<40?v+=(h^f^p)+1859775393:x<60?v+=(h&f|h&p|f&p)-1894007588:v+=(h^f^p)-899497514,m=p,p=f,f=h<<30|h>>>2,h=d,d=v}u[0]=u[0]+d|0,u[1]=u[1]+h|0,u[2]=u[2]+f|0,u[3]=u[3]+p|0,u[4]=u[4]+m|0},_doFinalize:function(){var c=this._data,l=c.words,u=this._nDataBytes*8,d=c.sigBytes*8;return l[d>>>5]|=128<<24-d%32,l[(d+64>>>9<<4)+14]=Math.floor(u/4294967296),l[(d+64>>>9<<4)+15]=u,c.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c}});t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a)})(),n.SHA1})});var Zi=q((Qi,Ju)=>{"use strict";(function(n,t){typeof Qi=="object"?Ju.exports=Qi=t(K()):typeof define=="function"&&define.amd?define(["./core"],t):t(n.CryptoJS)})(Qi,function(n){return(function(t){var e=n,r=e.lib,i=r.WordArray,s=r.Hasher,o=e.algo,a=[],c=[];(function(){function d(m){for(var x=t.sqrt(m),g=2;g<=x;g++)if(!(m%g))return!1;return!0}function h(m){return(m-(m|0))*4294967296|0}for(var f=2,p=0;p<64;)d(f)&&(p<8&&(a[p]=h(t.pow(f,1/2))),c[p]=h(t.pow(f,1/3)),p++),f++})();var l=[],u=o.SHA256=s.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(d,h){for(var f=this._hash.words,p=f[0],m=f[1],x=f[2],g=f[3],v=f[4],_=f[5],y=f[6],w=f[7],E=0;E<64;E++){if(E<16)l[E]=d[h+E]|0;else{var A=l[E-15],S=(A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3,O=l[E-2],F=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;l[E]=S+l[E-7]+F+l[E-16]}var C=v&_^~v&y,I=p&m^p&x^m&x,j=(p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22),B=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),$=w+B+C+c[E]+l[E],N=j+I;w=y,y=_,_=v,v=g+$|0,g=x,x=m,m=p,p=$+N|0}f[0]=f[0]+p|0,f[1]=f[1]+m|0,f[2]=f[2]+x|0,f[3]=f[3]+g|0,f[4]=f[4]+v|0,f[5]=f[5]+_|0,f[6]=f[6]+y|0,f[7]=f[7]+w|0},_doFinalize:function(){var d=this._data,h=d.words,f=this._nDataBytes*8,p=d.sigBytes*8;return h[p>>>5]|=128<<24-p%32,h[(p+64>>>9<<4)+14]=t.floor(f/4294967296),h[(p+64>>>9<<4)+15]=f,d.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d}});e.SHA256=s._createHelper(u),e.HmacSHA256=s._createHmacHelper(u)})(Math),n.SHA256})});var Xu=q((es,Yu)=>{"use strict";(function(n,t,e){typeof es=="object"?Yu.exports=es=t(K(),Zi()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(n.CryptoJS)})(es,function(n){return(function(){var t=n,e=t.lib,r=e.WordArray,i=t.algo,s=i.SHA256,o=i.SHA224=s.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=s._doFinalize.call(this);return a.sigBytes-=4,a}});t.SHA224=s._createHelper(o),t.HmacSHA224=s._createHmacHelper(o)})(),n.SHA224})});var da=q((ts,Qu)=>{"use strict";(function(n,t,e){typeof ts=="object"?Qu.exports=ts=t(K(),mn()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(n.CryptoJS)})(ts,function(n){return(function(){var t=n,e=t.lib,r=e.Hasher,i=t.x64,s=i.Word,o=i.WordArray,a=t.algo;function c(){return s.create.apply(s,arguments)}var l=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],u=[];(function(){for(var h=0;h<80;h++)u[h]=c()})();var d=a.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(h,f){for(var p=this._hash.words,m=p[0],x=p[1],g=p[2],v=p[3],_=p[4],y=p[5],w=p[6],E=p[7],A=m.high,S=m.low,O=x.high,F=x.low,C=g.high,I=g.low,j=v.high,B=v.low,$=_.high,N=_.low,V=y.high,J=y.low,R=w.high,T=w.low,k=E.high,D=E.low,ne=A,te=S,ye=O,G=F,vr=C,jt=I,Ts=j,xr=B,Fe=$,we=N,yn=V,mr=J,_n=R,yr=T,Bs=k,_r=D,Pe=0;Pe<80;Pe++){var Re,tt,bn=u[Pe];if(Pe<16)tt=bn.high=h[f+Pe*2]|0,Re=bn.low=h[f+Pe*2+1]|0;else{var fa=u[Pe-15],Ut=fa.high,br=fa.low,Y0=(Ut>>>1|br<<31)^(Ut>>>8|br<<24)^Ut>>>7,pa=(br>>>1|Ut<<31)^(br>>>8|Ut<<24)^(br>>>7|Ut<<25),ga=u[Pe-2],Nt=ga.high,wr=ga.low,X0=(Nt>>>19|wr<<13)^(Nt<<3|wr>>>29)^Nt>>>6,va=(wr>>>19|Nt<<13)^(wr<<3|Nt>>>29)^(wr>>>6|Nt<<26),xa=u[Pe-7],Q0=xa.high,Z0=xa.low,ma=u[Pe-16],eh=ma.high,ya=ma.low;Re=pa+Z0,tt=Y0+Q0+(Re>>>0<pa>>>0?1:0),Re=Re+va,tt=tt+X0+(Re>>>0<va>>>0?1:0),Re=Re+ya,tt=tt+eh+(Re>>>0<ya>>>0?1:0),bn.high=tt,bn.low=Re}var th=Fe&yn^~Fe&_n,_a=we&mr^~we&yr,rh=ne&ye^ne&vr^ye&vr,nh=te&G^te&jt^G&jt,ih=(ne>>>28|te<<4)^(ne<<30|te>>>2)^(ne<<25|te>>>7),ba=(te>>>28|ne<<4)^(te<<30|ne>>>2)^(te<<25|ne>>>7),sh=(Fe>>>14|we<<18)^(Fe>>>18|we<<14)^(Fe<<23|we>>>9),oh=(we>>>14|Fe<<18)^(we>>>18|Fe<<14)^(we<<23|Fe>>>9),wa=l[Pe],ah=wa.high,Ea=wa.low,Ee=_r+oh,rt=Bs+sh+(Ee>>>0<_r>>>0?1:0),Ee=Ee+_a,rt=rt+th+(Ee>>>0<_a>>>0?1:0),Ee=Ee+Ea,rt=rt+ah+(Ee>>>0<Ea>>>0?1:0),Ee=Ee+Re,rt=rt+tt+(Ee>>>0<Re>>>0?1:0),Ca=ba+nh,ch=ih+rh+(Ca>>>0<ba>>>0?1:0);Bs=_n,_r=yr,_n=yn,yr=mr,yn=Fe,mr=we,we=xr+Ee|0,Fe=Ts+rt+(we>>>0<xr>>>0?1:0)|0,Ts=vr,xr=jt,vr=ye,jt=G,ye=ne,G=te,te=Ee+Ca|0,ne=rt+ch+(te>>>0<Ee>>>0?1:0)|0}S=m.low=S+te,m.high=A+ne+(S>>>0<te>>>0?1:0),F=x.low=F+G,x.high=O+ye+(F>>>0<G>>>0?1:0),I=g.low=I+jt,g.high=C+vr+(I>>>0<jt>>>0?1:0),B=v.low=B+xr,v.high=j+Ts+(B>>>0<xr>>>0?1:0),N=_.low=N+we,_.high=$+Fe+(N>>>0<we>>>0?1:0),J=y.low=J+mr,y.high=V+yn+(J>>>0<mr>>>0?1:0),T=w.low=T+yr,w.high=R+_n+(T>>>0<yr>>>0?1:0),D=E.low=D+_r,E.high=k+Bs+(D>>>0<_r>>>0?1:0)},_doFinalize:function(){var h=this._data,f=h.words,p=this._nDataBytes*8,m=h.sigBytes*8;f[m>>>5]|=128<<24-m%32,f[(m+128>>>10<<5)+30]=Math.floor(p/4294967296),f[(m+128>>>10<<5)+31]=p,h.sigBytes=f.length*4,this._process();var x=this._hash.toX32();return x},clone:function(){var h=r.clone.call(this);return h._hash=this._hash.clone(),h},blockSize:1024/32});t.SHA512=r._createHelper(d),t.HmacSHA512=r._createHmacHelper(d)})(),n.SHA512})});var e0=q((rs,Zu)=>{"use strict";(function(n,t,e){typeof rs=="object"?Zu.exports=rs=t(K(),mn(),da()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(n.CryptoJS)})(rs,function(n){return(function(){var t=n,e=t.x64,r=e.Word,i=e.WordArray,s=t.algo,o=s.SHA512,a=s.SHA384=o.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var c=o._doFinalize.call(this);return c.sigBytes-=16,c}});t.SHA384=o._createHelper(a),t.HmacSHA384=o._createHmacHelper(a)})(),n.SHA384})});var r0=q((ns,t0)=>{"use strict";(function(n,t,e){typeof ns=="object"?t0.exports=ns=t(K(),mn()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(n.CryptoJS)})(ns,function(n){return(function(t){var e=n,r=e.lib,i=r.WordArray,s=r.Hasher,o=e.x64,a=o.Word,c=e.algo,l=[],u=[],d=[];(function(){for(var p=1,m=0,x=0;x<24;x++){l[p+5*m]=(x+1)*(x+2)/2%64;var g=m%5,v=(2*p+3*m)%5;p=g,m=v}for(var p=0;p<5;p++)for(var m=0;m<5;m++)u[p+5*m]=m+(2*p+3*m)%5*5;for(var _=1,y=0;y<24;y++){for(var w=0,E=0,A=0;A<7;A++){if(_&1){var S=(1<<A)-1;S<32?E^=1<<S:w^=1<<S-32}_&128?_=_<<1^113:_<<=1}d[y]=a.create(w,E)}})();var h=[];(function(){for(var p=0;p<25;p++)h[p]=a.create()})();var f=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var p=this._state=[],m=0;m<25;m++)p[m]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(p,m){for(var x=this._state,g=this.blockSize/2,v=0;v<g;v++){var _=p[m+2*v],y=p[m+2*v+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360;var w=x[v];w.high^=y,w.low^=_}for(var E=0;E<24;E++){for(var A=0;A<5;A++){for(var S=0,O=0,F=0;F<5;F++){var w=x[A+5*F];S^=w.high,O^=w.low}var C=h[A];C.high=S,C.low=O}for(var A=0;A<5;A++)for(var I=h[(A+4)%5],j=h[(A+1)%5],B=j.high,$=j.low,S=I.high^(B<<1|$>>>31),O=I.low^($<<1|B>>>31),F=0;F<5;F++){var w=x[A+5*F];w.high^=S,w.low^=O}for(var N=1;N<25;N++){var S,O,w=x[N],V=w.high,J=w.low,R=l[N];R<32?(S=V<<R|J>>>32-R,O=J<<R|V>>>32-R):(S=J<<R-32|V>>>64-R,O=V<<R-32|J>>>64-R);var T=h[u[N]];T.high=S,T.low=O}var k=h[0],D=x[0];k.high=D.high,k.low=D.low;for(var A=0;A<5;A++)for(var F=0;F<5;F++){var N=A+5*F,w=x[N],ne=h[N],te=h[(A+1)%5+5*F],ye=h[(A+2)%5+5*F];w.high=ne.high^~te.high&ye.high,w.low=ne.low^~te.low&ye.low}var w=x[0],G=d[E];w.high^=G.high,w.low^=G.low}},_doFinalize:function(){var p=this._data,m=p.words,x=this._nDataBytes*8,g=p.sigBytes*8,v=this.blockSize*32;m[g>>>5]|=1<<24-g%32,m[(t.ceil((g+1)/v)*v>>>5)-1]|=128,p.sigBytes=m.length*4,this._process();for(var _=this._state,y=this.cfg.outputLength/8,w=y/8,E=[],A=0;A<w;A++){var S=_[A],O=S.high,F=S.low;O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,E.push(F),E.push(O)}return new i.init(E,y)},clone:function(){for(var p=s.clone.call(this),m=p._state=this._state.slice(0),x=0;x<25;x++)m[x]=m[x].clone();return p}});e.SHA3=s._createHelper(f),e.HmacSHA3=s._createHmacHelper(f)})(Math),n.SHA3})});var i0=q((is,n0)=>{"use strict";(function(n,t){typeof is=="object"?n0.exports=is=t(K()):typeof define=="function"&&define.amd?define(["./core"],t):t(n.CryptoJS)})(is,function(n){return(function(t){var e=n,r=e.lib,i=r.WordArray,s=r.Hasher,o=e.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),f=o.RIPEMD160=s.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,w){for(var E=0;E<16;E++){var A=w+E,S=y[A];y[A]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var O=this._hash.words,F=d.words,C=h.words,I=a.words,j=c.words,B=l.words,$=u.words,N,V,J,R,T,k,D,ne,te,ye;k=N=O[0],D=V=O[1],ne=J=O[2],te=R=O[3],ye=T=O[4];for(var G,E=0;E<80;E+=1)G=N+y[w+I[E]]|0,E<16?G+=p(V,J,R)+F[0]:E<32?G+=m(V,J,R)+F[1]:E<48?G+=x(V,J,R)+F[2]:E<64?G+=g(V,J,R)+F[3]:G+=v(V,J,R)+F[4],G=G|0,G=_(G,B[E]),G=G+T|0,N=T,T=R,R=_(J,10),J=V,V=G,G=k+y[w+j[E]]|0,E<16?G+=v(D,ne,te)+C[0]:E<32?G+=g(D,ne,te)+C[1]:E<48?G+=x(D,ne,te)+C[2]:E<64?G+=m(D,ne,te)+C[3]:G+=p(D,ne,te)+C[4],G=G|0,G=_(G,$[E]),G=G+ye|0,k=ye,ye=te,te=_(ne,10),ne=D,D=G;G=O[1]+J+te|0,O[1]=O[2]+R+ye|0,O[2]=O[3]+T+k|0,O[3]=O[4]+N+D|0,O[4]=O[0]+V+ne|0,O[0]=G},_doFinalize:function(){var y=this._data,w=y.words,E=this._nDataBytes*8,A=y.sigBytes*8;w[A>>>5]|=128<<24-A%32,w[(A+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,y.sigBytes=(w.length+1)*4,this._process();for(var S=this._hash,O=S.words,F=0;F<5;F++){var C=O[F];O[F]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return S},clone:function(){var y=s.clone.call(this);return y._hash=this._hash.clone(),y}});function p(y,w,E){return y^w^E}function m(y,w,E){return y&w|~y&E}function x(y,w,E){return(y|~w)^E}function g(y,w,E){return y&E|w&~E}function v(y,w,E){return y^(w|~E)}function _(y,w){return y<<w|y>>>32-w}e.RIPEMD160=s._createHelper(f),e.HmacRIPEMD160=s._createHmacHelper(f)})(Math),n.RIPEMD160})});var os=q((ss,s0)=>{"use strict";(function(n,t){typeof ss=="object"?s0.exports=ss=t(K()):typeof define=="function"&&define.amd?define(["./core"],t):t(n.CryptoJS)})(ss,function(n){(function(){var t=n,e=t.lib,r=e.Base,i=t.enc,s=i.Utf8,o=t.algo,a=o.HMAC=r.extend({init:function(c,l){c=this._hasher=new c.init,typeof l=="string"&&(l=s.parse(l));var u=c.blockSize,d=u*4;l.sigBytes>d&&(l=c.finalize(l)),l.clamp();for(var h=this._oKey=l.clone(),f=this._iKey=l.clone(),p=h.words,m=f.words,x=0;x<u;x++)p[x]^=1549556828,m[x]^=909522486;h.sigBytes=f.sigBytes=d,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var l=this._hasher,u=l.finalize(c);l.reset();var d=l.finalize(this._oKey.clone().concat(u));return d}})})()})});var a0=q((as,o0)=>{"use strict";(function(n,t,e){typeof as=="object"?o0.exports=as=t(K(),Zi(),os()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(n.CryptoJS)})(as,function(n){return(function(){var t=n,e=t.lib,r=e.Base,i=e.WordArray,s=t.algo,o=s.SHA256,a=s.HMAC,c=s.PBKDF2=r.extend({cfg:r.extend({keySize:128/32,hasher:o,iterations:25e4}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,u){for(var d=this.cfg,h=a.create(d.hasher,l),f=i.create(),p=i.create([1]),m=f.words,x=p.words,g=d.keySize,v=d.iterations;m.length<g;){var _=h.update(u).finalize(p);h.reset();for(var y=_.words,w=y.length,E=_,A=1;A<v;A++){E=h.finalize(E),h.reset();for(var S=E.words,O=0;O<w;O++)y[O]^=S[O]}f.concat(_),x[0]++}return f.sigBytes=g*4,f}});t.PBKDF2=function(l,u,d){return c.create(d).compute(l,u)}})(),n.PBKDF2})});var et=q((cs,c0)=>{"use strict";(function(n,t,e){typeof cs=="object"?c0.exports=cs=t(K(),ha(),os()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(n.CryptoJS)})(cs,function(n){return(function(){var t=n,e=t.lib,r=e.Base,i=e.WordArray,s=t.algo,o=s.MD5,a=s.EvpKDF=r.extend({cfg:r.extend({keySize:128/32,hasher:o,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,l){for(var u,d=this.cfg,h=d.hasher.create(),f=i.create(),p=f.words,m=d.keySize,x=d.iterations;p.length<m;){u&&h.update(u),u=h.update(c).finalize(l),h.reset();for(var g=1;g<x;g++)u=h.finalize(u),h.reset();f.concat(u)}return f.sigBytes=m*4,f}});t.EvpKDF=function(c,l,u){return a.create(u).compute(c,l)}})(),n.EvpKDF})});var ue=q((ls,l0)=>{"use strict";(function(n,t,e){typeof ls=="object"?l0.exports=ls=t(K(),et()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(n.CryptoJS)})(ls,function(n){n.lib.Cipher||(function(t){var e=n,r=e.lib,i=r.Base,s=r.WordArray,o=r.BufferedBlockAlgorithm,a=e.enc,c=a.Utf8,l=a.Base64,u=e.algo,d=u.EvpKDF,h=r.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(C,I){return this.create(this._ENC_XFORM_MODE,C,I)},createDecryptor:function(C,I){return this.create(this._DEC_XFORM_MODE,C,I)},init:function(C,I,j){this.cfg=this.cfg.extend(j),this._xformMode=C,this._key=I,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(C){return this._append(C),this._process()},finalize:function(C){C&&this._append(C);var I=this._doFinalize();return I},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function C(I){return typeof I=="string"?F:A}return function(I){return{encrypt:function(j,B,$){return C(B).encrypt(I,j,B,$)},decrypt:function(j,B,$){return C(B).decrypt(I,j,B,$)}}}})()}),f=r.StreamCipher=h.extend({_doFinalize:function(){var C=this._process(!0);return C},blockSize:1}),p=e.mode={},m=r.BlockCipherMode=i.extend({createEncryptor:function(C,I){return this.Encryptor.create(C,I)},createDecryptor:function(C,I){return this.Decryptor.create(C,I)},init:function(C,I){this._cipher=C,this._iv=I}}),x=p.CBC=(function(){var C=m.extend();C.Encryptor=C.extend({processBlock:function(j,B){var $=this._cipher,N=$.blockSize;I.call(this,j,B,N),$.encryptBlock(j,B),this._prevBlock=j.slice(B,B+N)}}),C.Decryptor=C.extend({processBlock:function(j,B){var $=this._cipher,N=$.blockSize,V=j.slice(B,B+N);$.decryptBlock(j,B),I.call(this,j,B,N),this._prevBlock=V}});function I(j,B,$){var N,V=this._iv;V?(N=V,this._iv=t):N=this._prevBlock;for(var J=0;J<$;J++)j[B+J]^=N[J]}return C})(),g=e.pad={},v=g.Pkcs7={pad:function(C,I){for(var j=I*4,B=j-C.sigBytes%j,$=B<<24|B<<16|B<<8|B,N=[],V=0;V<B;V+=4)N.push($);var J=s.create(N,B);C.concat(J)},unpad:function(C){var I=C.words[C.sigBytes-1>>>2]&255;C.sigBytes-=I}},_=r.BlockCipher=h.extend({cfg:h.cfg.extend({mode:x,padding:v}),reset:function(){var C;h.reset.call(this);var I=this.cfg,j=I.iv,B=I.mode;this._xformMode==this._ENC_XFORM_MODE?C=B.createEncryptor:(C=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==C?this._mode.init(this,j&&j.words):(this._mode=C.call(B,this,j&&j.words),this._mode.__creator=C)},_doProcessBlock:function(C,I){this._mode.processBlock(C,I)},_doFinalize:function(){var C,I=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(I.pad(this._data,this.blockSize),C=this._process(!0)):(C=this._process(!0),I.unpad(C)),C},blockSize:128/32}),y=r.CipherParams=i.extend({init:function(C){this.mixIn(C)},toString:function(C){return(C||this.formatter).stringify(this)}}),w=e.format={},E=w.OpenSSL={stringify:function(C){var I,j=C.ciphertext,B=C.salt;return B?I=s.create([1398893684,1701076831]).concat(B).concat(j):I=j,I.toString(l)},parse:function(C){var I,j=l.parse(C),B=j.words;return B[0]==1398893684&&B[1]==1701076831&&(I=s.create(B.slice(2,4)),B.splice(0,4),j.sigBytes-=16),y.create({ciphertext:j,salt:I})}},A=r.SerializableCipher=i.extend({cfg:i.extend({format:E}),encrypt:function(C,I,j,B){B=this.cfg.extend(B);var $=C.createEncryptor(j,B),N=$.finalize(I),V=$.cfg;return y.create({ciphertext:N,key:j,iv:V.iv,algorithm:C,mode:V.mode,padding:V.padding,blockSize:C.blockSize,formatter:B.format})},decrypt:function(C,I,j,B){B=this.cfg.extend(B),I=this._parse(I,B.format);var $=C.createDecryptor(j,B).finalize(I.ciphertext);return $},_parse:function(C,I){return typeof C=="string"?I.parse(C,this):C}}),S=e.kdf={},O=S.OpenSSL={execute:function(C,I,j,B,$){if(B||(B=s.random(64/8)),$)var N=d.create({keySize:I+j,hasher:$}).compute(C,B);else var N=d.create({keySize:I+j}).compute(C,B);var V=s.create(N.words.slice(I),j*4);return N.sigBytes=I*4,y.create({key:N,iv:V,salt:B})}},F=r.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:O}),encrypt:function(C,I,j,B){B=this.cfg.extend(B);var $=B.kdf.execute(j,C.keySize,C.ivSize,B.salt,B.hasher);B.iv=$.iv;var N=A.encrypt.call(this,C,I,$.key,B);return N.mixIn($),N},decrypt:function(C,I,j,B){B=this.cfg.extend(B),I=this._parse(I,B.format);var $=B.kdf.execute(j,C.keySize,C.ivSize,I.salt,B.hasher);B.iv=$.iv;var N=A.decrypt.call(this,C,I,$.key,B);return N}})})()})});var h0=q((us,u0)=>{"use strict";(function(n,t,e){typeof us=="object"?u0.exports=us=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(us,function(n){return n.mode.CFB=(function(){var t=n.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(r,i){var s=this._cipher,o=s.blockSize;e.call(this,r,i,o,s),this._prevBlock=r.slice(i,i+o)}}),t.Decryptor=t.extend({processBlock:function(r,i){var s=this._cipher,o=s.blockSize,a=r.slice(i,i+o);e.call(this,r,i,o,s),this._prevBlock=a}});function e(r,i,s,o){var a,c=this._iv;c?(a=c.slice(0),this._iv=void 0):a=this._prevBlock,o.encryptBlock(a,0);for(var l=0;l<s;l++)r[i+l]^=a[l]}return t})(),n.mode.CFB})});var f0=q((hs,d0)=>{"use strict";(function(n,t,e){typeof hs=="object"?d0.exports=hs=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(hs,function(n){return n.mode.CTR=(function(){var t=n.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(r,i){var s=this._cipher,o=s.blockSize,a=this._iv,c=this._counter;a&&(c=this._counter=a.slice(0),this._iv=void 0);var l=c.slice(0);s.encryptBlock(l,0),c[o-1]=c[o-1]+1|0;for(var u=0;u<o;u++)r[i+u]^=l[u]}});return t.Decryptor=e,t})(),n.mode.CTR})});var g0=q((ds,p0)=>{"use strict";(function(n,t,e){typeof ds=="object"?p0.exports=ds=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(ds,function(n){return n.mode.CTRGladman=(function(){var t=n.lib.BlockCipherMode.extend();function e(s){if((s>>24&255)===255){var o=s>>16&255,a=s>>8&255,c=s&255;o===255?(o=0,a===255?(a=0,c===255?c=0:++c):++a):++o,s=0,s+=o<<16,s+=a<<8,s+=c}else s+=1<<24;return s}function r(s){return(s[0]=e(s[0]))===0&&(s[1]=e(s[1])),s}var i=t.Encryptor=t.extend({processBlock:function(s,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0),r(u);var d=u.slice(0);a.encryptBlock(d,0);for(var h=0;h<c;h++)s[o+h]^=d[h]}});return t.Decryptor=i,t})(),n.mode.CTRGladman})});var x0=q((fs,v0)=>{"use strict";(function(n,t,e){typeof fs=="object"?v0.exports=fs=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(fs,function(n){return n.mode.OFB=(function(){var t=n.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(r,i){var s=this._cipher,o=s.blockSize,a=this._iv,c=this._keystream;a&&(c=this._keystream=a.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var l=0;l<o;l++)r[i+l]^=c[l]}});return t.Decryptor=e,t})(),n.mode.OFB})});var y0=q((ps,m0)=>{"use strict";(function(n,t,e){typeof ps=="object"?m0.exports=ps=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(ps,function(n){return n.mode.ECB=(function(){var t=n.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,r){this._cipher.encryptBlock(e,r)}}),t.Decryptor=t.extend({processBlock:function(e,r){this._cipher.decryptBlock(e,r)}}),t})(),n.mode.ECB})});var b0=q((gs,_0)=>{"use strict";(function(n,t,e){typeof gs=="object"?_0.exports=gs=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(gs,function(n){return n.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,i=e*4,s=i-r%i,o=r+s-1;t.clamp(),t.words[o>>>2]|=s<<24-o%4*8,t.sigBytes+=s},unpad:function(t){var e=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=e}},n.pad.Ansix923})});var E0=q((vs,w0)=>{"use strict";(function(n,t,e){typeof vs=="object"?w0.exports=vs=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(vs,function(n){return n.pad.Iso10126={pad:function(t,e){var r=e*4,i=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=e}},n.pad.Iso10126})});var S0=q((xs,C0)=>{"use strict";(function(n,t,e){typeof xs=="object"?C0.exports=xs=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(xs,function(n){return n.pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971})});var R0=q((ms,A0)=>{"use strict";(function(n,t,e){typeof ms=="object"?A0.exports=ms=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(ms,function(n){return n.pad.ZeroPadding={pad:function(t,e){var r=e*4;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){for(var e=t.words,r=t.sigBytes-1,r=t.sigBytes-1;r>=0;r--)if(e[r>>>2]>>>24-r%4*8&255){t.sigBytes=r+1;break}}},n.pad.ZeroPadding})});var T0=q((ys,D0)=>{"use strict";(function(n,t,e){typeof ys=="object"?D0.exports=ys=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(ys,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})});var k0=q((_s,B0)=>{"use strict";(function(n,t,e){typeof _s=="object"?B0.exports=_s=t(K(),ue()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(n.CryptoJS)})(_s,function(n){return(function(t){var e=n,r=e.lib,i=r.CipherParams,s=e.enc,o=s.Hex,a=e.format,c=a.Hex={stringify:function(l){return l.ciphertext.toString(o)},parse:function(l){var u=o.parse(l);return i.create({ciphertext:u})}}})(),n.format.Hex})});var I0=q((bs,O0)=>{"use strict";(function(n,t,e){typeof bs=="object"?O0.exports=bs=t(K(),ht(),dt(),et(),ue()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(n.CryptoJS)})(bs,function(n){return(function(){var t=n,e=t.lib,r=e.BlockCipher,i=t.algo,s=[],o=[],a=[],c=[],l=[],u=[],d=[],h=[],f=[],p=[];(function(){for(var g=[],v=0;v<256;v++)v<128?g[v]=v<<1:g[v]=v<<1^283;for(var _=0,y=0,v=0;v<256;v++){var w=y^y<<1^y<<2^y<<3^y<<4;w=w>>>8^w&255^99,s[_]=w,o[w]=_;var E=g[_],A=g[E],S=g[A],O=g[w]*257^w*16843008;a[_]=O<<24|O>>>8,c[_]=O<<16|O>>>16,l[_]=O<<8|O>>>24,u[_]=O;var O=S*16843009^A*65537^E*257^_*16843008;d[w]=O<<24|O>>>8,h[w]=O<<16|O>>>16,f[w]=O<<8|O>>>24,p[w]=O,_?(_=E^g[g[g[S^E]]],y^=g[g[y]]):_=y=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],x=i.AES=r.extend({_doReset:function(){var g;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,_=v.words,y=v.sigBytes/4,w=this._nRounds=y+6,E=(w+1)*4,A=this._keySchedule=[],S=0;S<E;S++)S<y?A[S]=_[S]:(g=A[S-1],S%y?y>6&&S%y==4&&(g=s[g>>>24]<<24|s[g>>>16&255]<<16|s[g>>>8&255]<<8|s[g&255]):(g=g<<8|g>>>24,g=s[g>>>24]<<24|s[g>>>16&255]<<16|s[g>>>8&255]<<8|s[g&255],g^=m[S/y|0]<<24),A[S]=A[S-y]^g);for(var O=this._invKeySchedule=[],F=0;F<E;F++){var S=E-F;if(F%4)var g=A[S];else var g=A[S-4];F<4||S<=4?O[F]=g:O[F]=d[s[g>>>24]]^h[s[g>>>16&255]]^f[s[g>>>8&255]]^p[s[g&255]]}}},encryptBlock:function(g,v){this._doCryptBlock(g,v,this._keySchedule,a,c,l,u,s)},decryptBlock:function(g,v){var _=g[v+1];g[v+1]=g[v+3],g[v+3]=_,this._doCryptBlock(g,v,this._invKeySchedule,d,h,f,p,o);var _=g[v+1];g[v+1]=g[v+3],g[v+3]=_},_doCryptBlock:function(g,v,_,y,w,E,A,S){for(var O=this._nRounds,F=g[v]^_[0],C=g[v+1]^_[1],I=g[v+2]^_[2],j=g[v+3]^_[3],B=4,$=1;$<O;$++){var N=y[F>>>24]^w[C>>>16&255]^E[I>>>8&255]^A[j&255]^_[B++],V=y[C>>>24]^w[I>>>16&255]^E[j>>>8&255]^A[F&255]^_[B++],J=y[I>>>24]^w[j>>>16&255]^E[F>>>8&255]^A[C&255]^_[B++],R=y[j>>>24]^w[F>>>16&255]^E[C>>>8&255]^A[I&255]^_[B++];F=N,C=V,I=J,j=R}var N=(S[F>>>24]<<24|S[C>>>16&255]<<16|S[I>>>8&255]<<8|S[j&255])^_[B++],V=(S[C>>>24]<<24|S[I>>>16&255]<<16|S[j>>>8&255]<<8|S[F&255])^_[B++],J=(S[I>>>24]<<24|S[j>>>16&255]<<16|S[F>>>8&255]<<8|S[C&255])^_[B++],R=(S[j>>>24]<<24|S[F>>>16&255]<<16|S[C>>>8&255]<<8|S[I&255])^_[B++];g[v]=N,g[v+1]=V,g[v+2]=J,g[v+3]=R},keySize:256/32});t.AES=r._createHelper(x)})(),n.AES})});var P0=q((ws,F0)=>{"use strict";(function(n,t,e){typeof ws=="object"?F0.exports=ws=t(K(),ht(),dt(),et(),ue()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(n.CryptoJS)})(ws,function(n){return(function(){var t=n,e=t.lib,r=e.WordArray,i=e.BlockCipher,s=t.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=s.DES=i.extend({_doReset:function(){for(var m=this._key,x=m.words,g=[],v=0;v<56;v++){var _=o[v]-1;g[v]=x[_>>>5]>>>31-_%32&1}for(var y=this._subKeys=[],w=0;w<16;w++){for(var E=y[w]=[],A=c[w],v=0;v<24;v++)E[v/6|0]|=g[(a[v]-1+A)%28]<<31-v%6,E[4+(v/6|0)]|=g[28+(a[v+24]-1+A)%28]<<31-v%6;E[0]=E[0]<<1|E[0]>>>31;for(var v=1;v<7;v++)E[v]=E[v]>>>(v-1)*4+3;E[7]=E[7]<<5|E[7]>>>27}for(var S=this._invSubKeys=[],v=0;v<16;v++)S[v]=y[15-v]},encryptBlock:function(m,x){this._doCryptBlock(m,x,this._subKeys)},decryptBlock:function(m,x){this._doCryptBlock(m,x,this._invSubKeys)},_doCryptBlock:function(m,x,g){this._lBlock=m[x],this._rBlock=m[x+1],h.call(this,4,252645135),h.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),h.call(this,1,1431655765);for(var v=0;v<16;v++){for(var _=g[v],y=this._lBlock,w=this._rBlock,E=0,A=0;A<8;A++)E|=l[A][((w^_[A])&u[A])>>>0];this._lBlock=w,this._rBlock=y^E}var S=this._lBlock;this._lBlock=this._rBlock,this._rBlock=S,h.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),m[x]=this._lBlock,m[x+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function h(m,x){var g=(this._lBlock>>>m^this._rBlock)&x;this._rBlock^=g,this._lBlock^=g<<m}function f(m,x){var g=(this._rBlock>>>m^this._lBlock)&x;this._lBlock^=g,this._rBlock^=g<<m}t.DES=i._createHelper(d);var p=s.TripleDES=i.extend({_doReset:function(){var m=this._key,x=m.words;if(x.length!==2&&x.length!==4&&x.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=x.slice(0,2),v=x.length<4?x.slice(0,2):x.slice(2,4),_=x.length<6?x.slice(0,2):x.slice(4,6);this._des1=d.createEncryptor(r.create(g)),this._des2=d.createEncryptor(r.create(v)),this._des3=d.createEncryptor(r.create(_))},encryptBlock:function(m,x){this._des1.encryptBlock(m,x),this._des2.decryptBlock(m,x),this._des3.encryptBlock(m,x)},decryptBlock:function(m,x){this._des3.decryptBlock(m,x),this._des2.encryptBlock(m,x),this._des1.decryptBlock(m,x)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(p)})(),n.TripleDES})});var U0=q((Es,j0)=>{"use strict";(function(n,t,e){typeof Es=="object"?j0.exports=Es=t(K(),ht(),dt(),et(),ue()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(n.CryptoJS)})(Es,function(n){return(function(){var t=n,e=t.lib,r=e.StreamCipher,i=t.algo,s=i.RC4=r.extend({_doReset:function(){for(var c=this._key,l=c.words,u=c.sigBytes,d=this._S=[],h=0;h<256;h++)d[h]=h;for(var h=0,f=0;h<256;h++){var p=h%u,m=l[p>>>2]>>>24-p%4*8&255;f=(f+d[h]+m)%256;var x=d[h];d[h]=d[f],d[f]=x}this._i=this._j=0},_doProcessBlock:function(c,l){c[l]^=o.call(this)},keySize:256/32,ivSize:0});function o(){for(var c=this._S,l=this._i,u=this._j,d=0,h=0;h<4;h++){l=(l+1)%256,u=(u+c[l])%256;var f=c[l];c[l]=c[u],c[u]=f,d|=c[(c[l]+c[u])%256]<<24-h*8}return this._i=l,this._j=u,d}t.RC4=r._createHelper(s);var a=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)o.call(this)}});t.RC4Drop=r._createHelper(a)})(),n.RC4})});var M0=q((Cs,N0)=>{"use strict";(function(n,t,e){typeof Cs=="object"?N0.exports=Cs=t(K(),ht(),dt(),et(),ue()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(n.CryptoJS)})(Cs,function(n){return(function(){var t=n,e=t.lib,r=e.StreamCipher,i=t.algo,s=[],o=[],a=[],c=i.Rabbit=r.extend({_doReset:function(){for(var u=this._key.words,d=this.cfg.iv,h=0;h<4;h++)u[h]=(u[h]<<8|u[h]>>>24)&16711935|(u[h]<<24|u[h]>>>8)&4278255360;var f=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],p=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var h=0;h<4;h++)l.call(this);for(var h=0;h<8;h++)p[h]^=f[h+4&7];if(d){var m=d.words,x=m[0],g=m[1],v=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,y=v>>>16|_&4294901760,w=_<<16|v&65535;p[0]^=v,p[1]^=y,p[2]^=_,p[3]^=w,p[4]^=v,p[5]^=y,p[6]^=_,p[7]^=w;for(var h=0;h<4;h++)l.call(this)}},_doProcessBlock:function(u,d){var h=this._X;l.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var f=0;f<4;f++)s[f]=(s[f]<<8|s[f]>>>24)&16711935|(s[f]<<24|s[f]>>>8)&4278255360,u[d+f]^=s[f]},blockSize:128/32,ivSize:64/32});function l(){for(var u=this._X,d=this._C,h=0;h<8;h++)o[h]=d[h];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<o[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<o[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<o[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<o[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<o[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<o[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<o[6]>>>0?1:0)|0,this._b=d[7]>>>0<o[7]>>>0?1:0;for(var h=0;h<8;h++){var f=u[h]+d[h],p=f&65535,m=f>>>16,x=((p*p>>>17)+p*m>>>15)+m*m,g=((f&4294901760)*f|0)+((f&65535)*f|0);a[h]=x^g}u[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,u[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,u[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,u[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,u[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,u[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,u[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,u[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=r._createHelper(c)})(),n.Rabbit})});var $0=q((Ss,L0)=>{"use strict";(function(n,t,e){typeof Ss=="object"?L0.exports=Ss=t(K(),ht(),dt(),et(),ue()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(n.CryptoJS)})(Ss,function(n){return(function(){var t=n,e=t.lib,r=e.StreamCipher,i=t.algo,s=[],o=[],a=[],c=i.RabbitLegacy=r.extend({_doReset:function(){var u=this._key.words,d=this.cfg.iv,h=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],f=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var p=0;p<4;p++)l.call(this);for(var p=0;p<8;p++)f[p]^=h[p+4&7];if(d){var m=d.words,x=m[0],g=m[1],v=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,y=v>>>16|_&4294901760,w=_<<16|v&65535;f[0]^=v,f[1]^=y,f[2]^=_,f[3]^=w,f[4]^=v,f[5]^=y,f[6]^=_,f[7]^=w;for(var p=0;p<4;p++)l.call(this)}},_doProcessBlock:function(u,d){var h=this._X;l.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var f=0;f<4;f++)s[f]=(s[f]<<8|s[f]>>>24)&16711935|(s[f]<<24|s[f]>>>8)&4278255360,u[d+f]^=s[f]},blockSize:128/32,ivSize:64/32});function l(){for(var u=this._X,d=this._C,h=0;h<8;h++)o[h]=d[h];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<o[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<o[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<o[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<o[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<o[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<o[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<o[6]>>>0?1:0)|0,this._b=d[7]>>>0<o[7]>>>0?1:0;for(var h=0;h<8;h++){var f=u[h]+d[h],p=f&65535,m=f>>>16,x=((p*p>>>17)+p*m>>>15)+m*m,g=((f&4294901760)*f|0)+((f&65535)*f|0);a[h]=x^g}u[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,u[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,u[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,u[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,u[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,u[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,u[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,u[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=r._createHelper(c)})(),n.RabbitLegacy})});var H0=q((As,q0)=>{"use strict";(function(n,t,e){typeof As=="object"?q0.exports=As=t(K(),ht(),dt(),et(),ue()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(n.CryptoJS)})(As,function(n){return(function(){var t=n,e=t.lib,r=e.BlockCipher,i=t.algo;let s=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function l(p,m){let x=m>>24&255,g=m>>16&255,v=m>>8&255,_=m&255,y=p.sbox[0][x]+p.sbox[1][g];return y=y^p.sbox[2][v],y=y+p.sbox[3][_],y}function u(p,m,x){let g=m,v=x,_;for(let y=0;y<s;++y)g=g^p.pbox[y],v=l(p,g)^v,_=g,g=v,v=_;return _=g,g=v,v=_,v=v^p.pbox[s],g=g^p.pbox[s+1],{left:g,right:v}}function d(p,m,x){let g=m,v=x,_;for(let y=s+1;y>1;--y)g=g^p.pbox[y],v=l(p,g)^v,_=g,g=v,v=_;return _=g,g=v,v=_,v=v^p.pbox[1],g=g^p.pbox[0],{left:g,right:v}}function h(p,m,x){for(let w=0;w<4;w++){p.sbox[w]=[];for(let E=0;E<256;E++)p.sbox[w][E]=a[w][E]}let g=0;for(let w=0;w<s+2;w++)p.pbox[w]=o[w]^m[g],g++,g>=x&&(g=0);let v=0,_=0,y=0;for(let w=0;w<s+2;w+=2)y=u(p,v,_),v=y.left,_=y.right,p.pbox[w]=v,p.pbox[w+1]=_;for(let w=0;w<4;w++)for(let E=0;E<256;E+=2)y=u(p,v,_),v=y.left,_=y.right,p.sbox[w][E]=v,p.sbox[w][E+1]=_;return!0}var f=i.Blowfish=r.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var p=this._keyPriorReset=this._key,m=p.words,x=p.sigBytes/4;h(c,m,x)}},encryptBlock:function(p,m){var x=u(c,p[m],p[m+1]);p[m]=x.left,p[m+1]=x.right},decryptBlock:function(p,m){var x=d(c,p[m],p[m+1]);p[m]=x.left,p[m+1]=x.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=r._createHelper(f)})(),n.Blowfish})});var W0=q((Rs,z0)=>{"use strict";(function(n,t,e){typeof Rs=="object"?z0.exports=Rs=t(K(),mn(),$u(),Hu(),ht(),Vu(),dt(),ha(),Zi(),Xu(),da(),e0(),r0(),i0(),os(),a0(),et(),ue(),h0(),f0(),g0(),x0(),y0(),b0(),E0(),S0(),R0(),T0(),k0(),I0(),P0(),U0(),M0(),$0(),H0()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):n.CryptoJS=t(n.CryptoJS)})(Rs,function(n){return n})});var Tr=class{_doc;constructor(t){this._doc=t}manager},Bn=(()=>{class n extends Tr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,s){return e.addEventListener(r,i,s),()=>this.removeEventListener(e,r,i,s)}removeEventListener(e,r,i,s){return e.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(Q(ke))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),On=new fe(""),Js=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(o=>{o.manager=this});let i=e.filter(o=>!(o instanceof Bn));this._plugins=i.slice().reverse();let s=e.find(o=>o instanceof Bn);s&&this._plugins.push(s)}addEventListener(e,r,i,s){return this._findPluginFor(r).addEventListener(e,r,i,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new ae(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(Q(On),Q(Rr))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Ws="ng-app-id";function xc(n){for(let t of n)t.remove()}function mc(n,t){let e=t.createElement("style");return e.textContent=n,e}function lh(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Ws}="${t}"],link[${Ws}="${t}"]`);if(i)for(let s of i)s.removeAttribute(Ws),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function Gs(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Ys=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,lh(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,mc);r?.forEach(i=>this.addUsage(i,this.external,Gs))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let s=r.get(e);s?s.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(xc(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])xc(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,mc(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Gs(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Q(ke),Q(Ls),Q($s,8),Q(Sr))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Vs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xs=/%COMP%/g;var _c="%COMP%",uh=`_nghost-${_c}`,hh=`_ngcontent-${_c}`,dh=!0,fh=new fe("",{providedIn:"root",factory:()=>dh});function ph(n){return hh.replace(Xs,n)}function gh(n){return uh.replace(Xs,n)}function bc(n,t){return t.map(e=>e.replace(Xs,n))}var Qs=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,s,o,a,c,l=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Br(e,o,c,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,r);return i instanceof kn?i.applyToHost(e):i instanceof kr&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case qs.Emulated:s=new kn(c,l,r,this.appId,u,o,a,d,h);break;case qs.ShadowDom:return new Ks(c,l,e,r,o,a,this.nonce,d,h);default:s=new kr(c,l,r,u,o,a,d,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(Q(Js),Q(Ys),Q(Ls),Q(fh),Q(ke),Q(Sr),Q(Rr),Q($s),Q(Ka,8))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),Br=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,s){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Vs[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(yc(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(yc(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new ae(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let s=Vs[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=Vs[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Ar.DashCase|Ar.Important)?t.style.setProperty(e,r,i&Ar.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Ar.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Dr().getGlobalEventTarget(this.doc,t),!t))throw new ae(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function yc(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ks=class extends Br{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,s,o,a,c,l){super(t,s,o,c,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=bc(i.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let h of d){let f=Gs(h,s);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},kr=class extends Br{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,s,o,a,c,l){super(t,s,o,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?bc(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ga.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},kn=class extends kr{contentAttr;hostAttr;constructor(t,e,r,i,s,o,a,c,l){let u=i+"-"+r.id;super(t,e,r,s,o,a,c,l,u),this.contentAttr=ph(u),this.hostAttr=gh(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var In=class n extends dc{supportsDOMEvents=!0;static makeCurrent(){hc(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=vh();return e==null?null:xh(e)}resetBaseElement(){Or=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return pc(document.cookie,t)}},Or=null;function vh(){return Or=Or||document.head.querySelector("base"),Or?Or.getAttribute("href"):null}function xh(n){return new URL(n,document.baseURI).pathname}var mh=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),wc=["alt","control","meta","shift"],yh={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_h={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Sc=(()=>{class n extends Tr{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dr().onAndCancel(e,o.domEventName,a,s))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),wc.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(e,r){let i=yh[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),wc.forEach(o=>{if(o!==i){let a=_h[o];a(e)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(Q(ke))};static \u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function bh(n,t,e){let r=M({rootComponent:n,platformRef:e?.platformRef},wh(t));return uc(r)}function wh(n){return{appProviders:[...Rh,...n?.providers??[]],platformProviders:Ah}}function Eh(){In.makeCurrent()}function Ch(){return new Ns}function Sh(){return za(document),document}var Ah=[{provide:Sr,useValue:vc},{provide:Wa,useValue:Eh,multi:!0},{provide:ke,useFactory:Sh}];var Rh=[{provide:Ma,useValue:"root"},{provide:Ns,useFactory:Ch},{provide:On,useClass:Bn,multi:!0,deps:[ke]},{provide:On,useClass:Sc,multi:!0,deps:[ke]},Qs,Ys,Js,{provide:Ja,useExisting:Qs},{provide:gc,useClass:mh},[]];var Ac=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(Q(ke))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var z="primary",Gr=Symbol("RouteTitle"),no=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function mt(n){return new no(n)}function Fc(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Th(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Me(n[e],t[e]))return!1;return!0}function Me(n,t){let e=n?io(n):void 0,r=t?io(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!Pc(n[i],t[i]))return!1;return!0}function io(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Pc(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}else return n===t}function jc(n){return n.length>0?n[n.length-1]:null}function Je(n){return Ba(n)?n:tc(n)?Te(Promise.resolve(n)):H(n)}var Bh={exact:Nc,subset:Mc},Uc={exact:kh,subset:Oh,ignored:()=>!0};function Rc(n,t,e){return Bh[e.paths](n.root,t.root,e.matrixParams)&&Uc[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function kh(n,t){return Me(n,t)}function Nc(n,t,e){if(!vt(n.segments,t.segments)||!jn(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!Nc(n.children[r],t.children[r],e))return!1;return!0}function Oh(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Pc(n[e],t[e]))}function Mc(n,t,e){return Lc(n,t,t.segments,e)}function Lc(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!vt(i,e)||t.hasChildren()||!jn(i,e,r))}else if(n.segments.length===e.length){if(!vt(n.segments,e)||!jn(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!Mc(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!vt(n.segments,i)||!jn(n.segments,i,r)||!n.children[z]?!1:Lc(n.children[z],t,s,r)}}function jn(n,t,e){return t.every((r,i)=>Uc[e](n[i].parameters,r.parameters))}var $e=class{root;queryParams;fragment;_queryParamMap;constructor(t=new X([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=mt(this.queryParams),this._queryParamMap}toString(){return Ph.serialize(this)}},X=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Un(this)}},st=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=mt(this.parameters),this._parameterMap}toString(){return qc(this)}};function Ih(n,t){return vt(n,t)&&n.every((e,r)=>Me(e.parameters,t[r].parameters))}function vt(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function Fh(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===z&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==z&&(e=e.concat(t(i,r)))}),e}var Kr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>new yt,providedIn:"root"})}return n})(),yt=class{parse(t){let e=new oo(t);return new $e(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Ir(t.root,!0)}`,r=Nh(t.queryParams),i=typeof t.fragment=="string"?`#${jh(t.fragment)}`:"";return`${e}${r}${i}`}},Ph=new yt;function Un(n){return n.segments.map(t=>qc(t)).join("/")}function Ir(n,t){if(!n.hasChildren())return Un(n);if(t){let e=n.children[z]?Ir(n.children[z],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==z&&r.push(`${i}:${Ir(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=Fh(n,(r,i)=>i===z?[Ir(n.children[z],!1)]:[`${i}:${Ir(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[z]!=null?`${Un(n)}/${e[0]}`:`${Un(n)}/(${e.join("//")})`}}function $c(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fn(n){return $c(n).replace(/%3B/gi,";")}function jh(n){return encodeURI(n)}function so(n){return $c(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nn(n){return decodeURIComponent(n)}function Dc(n){return Nn(n.replace(/\+/g,"%20"))}function qc(n){return`${so(n.path)}${Uh(n.parameters)}`}function Uh(n){return Object.entries(n).map(([t,e])=>`;${so(t)}=${so(e)}`).join("")}function Nh(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Fn(e)}=${Fn(i)}`).join("&"):`${Fn(e)}=${Fn(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Mh=/^[^\/()?;#]+/;function Zs(n){let t=n.match(Mh);return t?t[0]:""}var Lh=/^[^\/()?;=#]+/;function $h(n){let t=n.match(Lh);return t?t[0]:""}var qh=/^[^=?&#]+/;function Hh(n){let t=n.match(qh);return t?t[0]:""}var zh=/^[^&#]+/;function Wh(n){let t=n.match(zh);return t?t[0]:""}var oo=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[z]=new X(t,e)),r}parseSegment(){let t=Zs(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(t),new st(Nn(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=$h(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Zs(this.remaining);i&&(r=i,this.capture(r))}t[Nn(e)]=Nn(r)}parseQueryParam(t){let e=Hh(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=Wh(this.remaining);o&&(r=o,this.capture(r))}let i=Dc(e),s=Dc(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zs(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ae(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=z);let o=this.parseChildren();e[s??z]=Object.keys(o).length===1&&o[z]?o[z]:new X([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ae(4011,!1)}};function Hc(n){return n.segments.length>0?new X([],{[z]:n}):n}function zc(n){let t={};for(let[r,i]of Object.entries(n.children)){let s=zc(i);if(r===z&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}let e=new X(n.segments,t);return Vh(e)}function Vh(n){if(n.numberOfChildren===1&&n.children[z]){let t=n.children[z];return new X(n.segments.concat(t.segments),t.children)}return n}function ot(n){return n instanceof $e}function Wc(n,t,e=null,r=null){let i=Vc(n);return Gc(i,t,e,r)}function Vc(n){let t;function e(s){let o={};for(let c of s.children){let l=e(c);o[c.outlet]=l}let a=new X(s.url,o);return s===n&&(t=a),a}let r=e(n.root),i=Hc(r);return t??i}function Gc(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return eo(i,i,i,e,r);let s=Gh(t);if(s.toRoot())return eo(i,i,new X([],{}),e,r);let o=Kh(s,i,n),a=o.processChildren?Pr(o.segmentGroup,o.index,s.commands):Jc(o.segmentGroup,o.index,s.commands);return eo(i,o.segmentGroup,a,e,r)}function Mn(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Nr(n){return typeof n=="object"&&n!=null&&n.outlets}function eo(n,t,e,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;n===t?o=e:o=Kc(n,t,e);let a=Hc(zc(o));return new $e(a,s,i)}function Kc(n,t,e){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===t?r[i]=e:r[i]=Kc(s,t,e)}),new X(n.segments,r)}var Ln=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Mn(r[0]))throw new ae(4003,!1);let i=r.find(Nr);if(i&&i!==jc(r))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Gh(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ln(!0,0,n);let t=0,e=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ln(e,t,r)}var Kt=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function Kh(n,t,e){if(n.isAbsolute)return new Kt(t,!0,0);if(!e)return new Kt(t,!1,NaN);if(e.parent===null)return new Kt(e,!0,0);let r=Mn(n.commands[0])?0:1,i=e.segments.length-1+r;return Jh(e,i,n.numberOfDoubleDots)}function Jh(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ae(4005,!1);i=r.segments.length}return new Kt(r,!1,i-s)}function Yh(n){return Nr(n[0])?n[0].outlets:{[z]:n}}function Jc(n,t,e){if(n??=new X([],{}),n.segments.length===0&&n.hasChildren())return Pr(n,t,e);let r=Xh(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new X(n.segments.slice(0,r.pathIndex),{});return s.children[z]=new X(n.segments.slice(r.pathIndex),n.children),Pr(s,0,i)}else return r.match&&i.length===0?new X(n.segments,{}):r.match&&!n.hasChildren()?ao(n,t,e):r.match?Pr(n,0,i):ao(n,t,e)}function Pr(n,t,e){if(e.length===0)return new X(n.segments,{});{let r=Yh(e),i={};if(Object.keys(r).some(s=>s!==z)&&n.children[z]&&n.numberOfChildren===1&&n.children[z].segments.length===0){let s=Pr(n.children[z],t,e);return new X(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Jc(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new X(n.segments,i)}}function Xh(n,t,e){let r=0,i=t,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;let o=n.segments[i],a=e[r];if(Nr(a))break;let c=`${a}`,l=r<e.length-1?e[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Bc(c,l,o))return s;r+=2}else{if(!Bc(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ao(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let s=e[i];if(Nr(s)){let c=Qh(s.outlets);return new X(r,c)}if(i===0&&Mn(e[0])){let c=n.segments[t];r.push(new st(c.path,Tc(e[0]))),i++;continue}let o=Nr(s)?s.outlets[z]:`${s}`,a=i<e.length-1?e[i+1]:null;o&&a&&Mn(a)?(r.push(new st(o,Tc(a))),i+=2):(r.push(new st(o,{})),i++)}return new X(r,{})}function Qh(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=ao(new X([],{}),0,r))}),t}function Tc(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function Bc(n,t,e){return n==e.path&&Me(t,e.parameters)}var jr="imperative",he=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(he||{}),Ae=class{id;url;constructor(t,e){this.id=t,this.url=e}},_t=class extends Ae{type=he.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qe=class extends Ae{urlAfterRedirects;type=he.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ve=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(ve||{}),Mr=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Mr||{}),Le=class extends Ae{reason;code;type=he.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ge=class extends Ae{reason;code;type=he.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},Yt=class extends Ae{error;target;type=he.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lr=class extends Ae{urlAfterRedirects;state;type=he.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$n=class extends Ae{urlAfterRedirects;state;type=he.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qn=class extends Ae{urlAfterRedirects;state;shouldActivate;type=he.GuardsCheckEnd;constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hn=class extends Ae{urlAfterRedirects;state;type=he.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zn=class extends Ae{urlAfterRedirects;state;type=he.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wn=class{route;type=he.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vn=class{route;type=he.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gn=class{snapshot;type=he.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kn=class{snapshot;type=he.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jn=class{snapshot;type=he.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yn=class{snapshot;type=he.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var $r=class{},Xt=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Zh(n){return!(n instanceof $r)&&!(n instanceof Xt)}function ed(n,t){return n.providers&&!n._injector&&(n._injector=Hs(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ue(n){return n.outlet||z}function td(n,t){let e=n.filter(r=>Ue(r)===t);return e.push(...n.filter(r=>Ue(r)!==t)),e}function er(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Xn=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return er(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new tr(this.rootInjector)}},tr=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Xn(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(Q(Ht))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qn=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=co(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=co(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=lo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return lo(t,this._root).map(e=>e.value)}};function co(n,t){if(n===t.value)return t;for(let e of t.children){let r=co(n,e);if(r)return r}return null}function lo(n,t){if(n===t.value)return[t];for(let e of t.children){let r=lo(n,e);if(r.length)return r.unshift(t),r}return[]}var Se=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Gt(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var qr=class extends Qn{snapshot;constructor(t,e){super(t),this.snapshot=e,mo(this,t)}toString(){return this.snapshot.toString()}};function Yc(n){let t=rd(n),e=new ie([new st("",{})]),r=new ie({}),i=new ie({}),s=new ie({}),o=new ie(""),a=new Ke(e,r,s,o,i,z,n,t.root);return a.snapshot=t.root,new qr(new Se(a,[]),t)}function rd(n){let t={},e={},r={},s=new xt([],t,r,"",e,z,n,null,{});return new Hr("",new Se(s,[]))}var Ke=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,s,o,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[Gr]))??H(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(t=>mt(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(t=>mt(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zn(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:M(M({},t.params),n.params),data:M(M({},t.data),n.data),resolve:M(M(M(M({},n.data),t.data),i?.data),n._resolvedData)}:r={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},i&&Qc(i)&&(r.resolve[Gr]=i.title),r}var xt=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Gr]}constructor(t,e,r,i,s,o,a,c,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mt(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Hr=class extends Qn{url;constructor(t,e){super(e),this.url=t,mo(this,e)}toString(){return Xc(this._root)}};function mo(n,t){t.value._routerState=n,t.children.forEach(e=>mo(n,e))}function Xc(n){let t=n.children.length>0?` { ${n.children.map(Xc).join(", ")} } `:"";return`${n.value}${t}`}function to(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Me(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Me(t.params,e.params)||n.paramsSubject.next(e.params),Th(t.url,e.url)||n.urlSubject.next(e.url),Me(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function uo(n,t){let e=Me(n.params,t.params)&&Ih(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||uo(n.parent,t.parent))}function Qc(n){return typeof n.title=="string"||n.title===null}var Zc=new fe(""),yo=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new zt;deactivateEvents=new zt;attachEvents=new zt;detachEvents=new zt;routerOutletData=lc();parentContexts=W(tr);location=W(Xa);changeDetector=W(zs);inputBinder=W(ni,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=e;let i=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ho(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Rn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[An]})}return n})(),ho=class{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===Ke?this.route:t===tr?this.childContexts:t===Zc?this.outletData:this.parent.get(t,e)}},ni=new fe("");var _o=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Za({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&sc(0,"router-outlet")},dependencies:[yo],encapsulation:2})}return n})();function bo(n){let t=n.children&&n.children.map(bo),e=t?De(M({},n),{children:t}):M({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==z&&(e.component=_o),e}function nd(n,t,e){let r=zr(n,t._root,e?e._root:void 0);return new qr(r,t)}function zr(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=id(n,t,e);return new Se(r,i)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>zr(n,a)),o}}let r=sd(t.value),i=t.children.map(s=>zr(n,s));return new Se(r,i)}}function id(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return zr(n,r,i);return zr(n,r)})}function sd(n){return new Ke(new ie(n.url),new ie(n.params),new ie(n.queryParams),new ie(n.fragment),new ie(n.data),n.outlet,n.component,n)}var Qt=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},el="ngNavigationCancelingError";function ei(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=ot(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=tl(!1,ve.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function tl(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[el]=!0,e.cancellationCode=t,e}function od(n){return rl(n)&&ot(n.url)}function rl(n){return!!n&&n[el]}var ad=(n,t,e,r)=>ee(i=>(new fo(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),fo=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),to(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Gt(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Gt(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Gt(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Gt(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Yn(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Kn(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(to(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),to(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,r)}},ti=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Jt=class{component;route;constructor(t,e){this.component=t,this.route=e}};function cd(n,t,e){let r=n._root,i=t?t._root:null;return Fr(r,i,e,[r.value])}function ld(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function rr(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Ua(n)?n:t.get(n):r}function Fr(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Gt(t);return n.children.forEach(o=>{ud(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ur(a,e.getContext(o),i)),i}function ud(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=hd(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ti(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Fr(n,t,a?a.children:null,r,i):Fr(n,t,e,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jt(a.outlet.component,o))}else o&&Ur(t,a,i),i.canActivateChecks.push(new ti(r)),s.component?Fr(n,null,a?a.children:null,r,i):Fr(n,null,e,r,i);return i}function hd(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!vt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!vt(n.url,t.url)||!Me(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uo(n,t)||!Me(n.queryParams,t.queryParams);case"paramsChange":default:return!uo(n,t)}}function Ur(n,t,e){let r=Gt(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?t?Ur(o,t.children.getContext(s),e):Ur(o,null,e):Ur(o,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Jt(t.outlet.component,i)):e.canDeactivateChecks.push(new Jt(null,i)):e.canDeactivateChecks.push(new Jt(null,i))}function Jr(n){return typeof n=="function"}function dd(n){return typeof n=="boolean"}function fd(n){return n&&Jr(n.canLoad)}function pd(n){return n&&Jr(n.canActivate)}function gd(n){return n&&Jr(n.canActivateChild)}function vd(n){return n&&Jr(n.canDeactivate)}function xd(n){return n&&Jr(n.canMatch)}function nl(n){return n instanceof ka||n?.name==="EmptyError"}var Pn=Symbol("INITIAL_VALUE");function Zt(){return Ce(n=>Is(n.map(t=>t.pipe(qt(1),Pa(Pn)))).pipe(ee(t=>{for(let e of t)if(e!==!0){if(e===Pn)return Pn;if(e===!1||md(e))return e}return!0}),pt(t=>t!==Pn),qt(1)))}function md(n){return ot(n)||n instanceof Qt}function yd(n,t){return Be(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?H(De(M({},e),{guardsResult:!0})):_d(o,r,i,n).pipe(Be(a=>a&&dd(a)?bd(r,s,n,t):H(a)),ee(a=>De(M({},e),{guardsResult:a})))})}function _d(n,t,e,r){return Te(n).pipe(Be(i=>Ad(i.component,i.route,e,t,r)),nt(i=>i!==!0,!0))}function bd(n,t,e,r){return Te(t).pipe(Cr(i=>Oa(Ed(i.route.parent,r),wd(i.route,r),Sd(n,i.path,e),Cd(n,i.route,e))),nt(i=>i!==!0,!0))}function wd(n,t){return n!==null&&t&&t(new Jn(n)),H(!0)}function Ed(n,t){return n!==null&&t&&t(new Gn(n)),H(!0)}function Cd(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(s=>wn(()=>{let o=er(t)??e,a=rr(s,o),c=pd(a)?a.canActivate(t,n):je(o,()=>a(t,n));return Je(c).pipe(nt())}));return H(i).pipe(Zt())}function Sd(n,t,e){let r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>ld(o)).filter(o=>o!==null).map(o=>wn(()=>{let a=o.guards.map(c=>{let l=er(o.node)??e,u=rr(c,l),d=gd(u)?u.canActivateChild(r,n):je(l,()=>u(r,n));return Je(d).pipe(nt())});return H(a).pipe(Zt())}));return H(s).pipe(Zt())}function Ad(n,t,e,r,i){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return H(!0);let o=s.map(a=>{let c=er(t)??i,l=rr(a,c),u=vd(l)?l.canDeactivate(n,t,e,r):je(c,()=>l(n,t,e,r));return Je(u).pipe(nt())});return H(o).pipe(Zt())}function Rd(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return H(!0);let s=i.map(o=>{let a=rr(o,n),c=fd(a)?a.canLoad(t,e):je(n,()=>a(t,e));return Je(c)});return H(s).pipe(Zt(),il(r))}function il(n){return Da(de(t=>{if(typeof t!="boolean")throw ei(n,t)}),ee(t=>t===!0))}function Dd(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return H(!0);let s=i.map(o=>{let a=rr(o,n),c=xd(a)?a.canMatch(t,e):je(n,()=>a(t,e));return Je(c)});return H(s).pipe(Zt(),il(r))}var Wr=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Vr=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Vt(n){return Er(new Wr(n))}function Td(n){return Er(new ae(4e3,!1))}function Bd(n){return Er(tl(!1,ve.GuardRejected))}var po=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[z])return Td(`${t.redirectTo}`);i=i.children[z]}}applyRedirectCommands(t,e,r,i,s){return kd(e,i,s).pipe(ee(o=>{if(o instanceof $e)throw new Vr(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),t,r);if(o[0]==="/")throw new Vr(a);return a}))}applyRedirectCreateUrlTree(t,e,r,i){let s=this.createSegmentGroup(t,e.root,r,i);return new $e(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=e[a]}else r[i]=s}),r}createSegmentGroup(t,e,r,i){let s=this.createSegments(t,e.segments,r,i),o={};return Object.entries(e.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(t,c,r,i)}),new X(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new ae(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}};function kd(n,t,e){if(typeof n=="string")return H(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:l,data:u,title:d}=t;return Je(je(e,()=>r({params:l,data:u,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:d})))}var go={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Od(n,t,e,r,i){let s=sl(n,t,e);return s.matched?(r=ed(t,r),Dd(r,t,e,i).pipe(ee(o=>o===!0?s:M({},go)))):H(s)}function sl(n,t,e){if(t.path==="**")return Id(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?M({},go):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Fc)(e,n,t);if(!i)return M({},go);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?M(M({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Id(n){return{matched:!0,parameters:n.length>0?jc(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function kc(n,t,e,r){return e.length>0&&jd(n,e,r)?{segmentGroup:new X(t,Pd(r,new X(e,n.children))),slicedSegments:[]}:e.length===0&&Ud(n,e,r)?{segmentGroup:new X(n.segments,Fd(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new X(n.segments,n.children),slicedSegments:e}}function Fd(n,t,e,r){let i={};for(let s of e)if(ii(n,t,s)&&!r[Ue(s)]){let o=new X([],{});i[Ue(s)]=o}return M(M({},r),i)}function Pd(n,t){let e={};e[z]=t;for(let r of n)if(r.path===""&&Ue(r)!==z){let i=new X([],{});e[Ue(r)]=i}return e}function jd(n,t,e){return e.some(r=>ii(n,t,r)&&Ue(r)!==z)}function Ud(n,t,e){return e.some(r=>ii(n,t,r))}function ii(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Nd(n,t,e){return t.length===0&&!n.children[e]}var vo=class{};function Md(n,t,e,r,i,s,o="emptyOnly"){return new xo(n,t,e,r,i,o,s).recognize()}var Ld=31,xo=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new po(this.urlSerializer,this.urlTree)}noMatchError(t){return new ae(4002,`'${t.segmentGroup}'`)}recognize(){let t=kc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ee(({children:e,rootSnapshot:r})=>{let i=new Se(r,e),s=new Hr("",i),o=Wc(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new xt([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,z,e).pipe(ee(r=>({children:r,rootSnapshot:e})),$t(r=>{if(r instanceof Vr)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Wr?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,s):this.processSegment(t,e,r,r.segments,i,!0,s).pipe(ee(o=>o instanceof Se?[o]:[]))}processChildren(t,e,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Te(s).pipe(Cr(o=>{let a=r.children[o],c=td(e,o);return this.processSegmentGroup(t,c,a,o,i)}),Fa((o,a)=>(o.push(...a),o)),Fs(null),Ia(),Be(o=>{if(o===null)return Vt(r);let a=ol(o);return $d(a),H(a)}))}processSegment(t,e,r,i,s,o,a){return Te(e).pipe(Cr(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,r,i,s,o,a).pipe($t(l=>{if(l instanceof Wr)return H(null);throw l}))),nt(c=>!!c),$t(c=>{if(nl(c))return Nd(r,i,s)?H(new vo):Vt(r);throw c}))}processSegmentAgainstRoute(t,e,r,i,s,o,a,c){return Ue(r)!==o&&(o===z||!ii(i,s,r))?Vt(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,s,o,c):Vt(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=sl(e,i,s);if(!c)return Vt(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ld&&(this.allowRedirects=!1));let f=new xt(s,l,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Oc(i),Ue(i),i.component??i._loadedComponent??null,i,Ic(i)),p=Zn(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,t).pipe(Ce(x=>this.applyRedirects.lineralizeSegments(i,x)),Be(x=>this.processSegment(t,r,e,x.concat(h),o,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,s,o){let a=Od(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(Ce(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Ce(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,p=new xt(h,d,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Oc(r),Ue(r),r.component??r._loadedComponent??null,r,Ic(r)),m=Zn(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:x,slicedSegments:g}=kc(e,h,f,l);if(g.length===0&&x.hasChildren())return this.processChildren(u,l,x,p).pipe(ee(_=>new Se(p,_)));if(l.length===0&&g.length===0)return H(new Se(p,[]));let v=Ue(r)===s;return this.processSegment(u,l,x,g,v?z:s,!0,p).pipe(ee(_=>new Se(p,_ instanceof Se?[_]:[])))}))):Vt(e)))}getChildConfig(t,e,r){return e.children?H({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?H({routes:e._loadedRoutes,injector:e._loadedInjector}):Rd(t,e,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(t,e).pipe(de(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):Bd(e))):H({routes:[],injector:t})}};function $d(n){n.sort((t,e)=>t.value.outlet===z?-1:e.value.outlet===z?1:t.value.outlet.localeCompare(e.value.outlet))}function qd(n){let t=n.value.routeConfig;return t&&t.path===""}function ol(n){let t=[],e=new Set;for(let r of n){if(!qd(r)){t.push(r);continue}let i=t.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=ol(r.children);t.push(new Se(r.value,i))}return t.filter(r=>!e.has(r))}function Oc(n){return n.data||{}}function Ic(n){return n.resolve||{}}function Hd(n,t,e,r,i,s){return Be(o=>Md(n,t,e,r,o.extractedUrl,i,s).pipe(ee(({state:a,tree:c})=>De(M({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function zd(n,t){return Be(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return H(e);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of al(c))o.add(l);let a=0;return Te(o).pipe(Cr(c=>s.has(c)?Wd(c,r,n,t):(c.data=Zn(c,c.parent,n).resolve,H(void 0))),de(()=>a++),Ps(1),Be(c=>a===o.size?H(e):Ve))})}function al(n){let t=n.children.map(e=>al(e)).flat();return[n,...t]}function Wd(n,t,e,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Qc(i)&&(s[Gr]=i.title),wn(()=>(n.data=Zn(n,n.parent,e).resolve,Vd(s,n,t,r).pipe(ee(o=>(n._resolvedData=o,n.data=M(M({},n.data),o),null)))))}function Vd(n,t,e,r){let i=io(n);if(i.length===0)return H({});let s={};return Te(i).pipe(Be(o=>Gd(n[o],t,e,r).pipe(nt(),de(a=>{if(a instanceof Qt)throw ei(new yt,a);s[o]=a}))),Ps(1),ee(()=>s),$t(o=>nl(o)?Ve:Er(o)))}function Gd(n,t,e,r){let i=er(t)??r,s=rr(n,i),o=s.resolve?s.resolve(t,e):je(i,()=>s(t,e));return Je(o)}function ro(n){return Ce(t=>{let e=n(t);return e?Te(e).pipe(ee(()=>t)):H(t)})}var wo=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===z);return r}getResolvedTitleForRoute(e){return e.data[Gr]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>W(cl),providedIn:"root"})}return n})(),cl=(()=>{class n extends wo{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Q(Ac))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nr=new fe("",{providedIn:"root",factory:()=>({})}),Yr=new fe(""),ll=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=W(ac);loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Je(je(e,()=>r.loadComponent())).pipe(ee(hl),Ce(dl),de(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),En(()=>{this.componentLoaders.delete(r)})),s=new Os(i,()=>new We).pipe(ks());return this.componentLoaders.set(r,s),s}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=ul(r,this.compiler,e,this.onLoadEndListener).pipe(En(()=>{this.childrenLoaders.delete(r)})),o=new Os(s,()=>new We).pipe(ks());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ul(n,t,e,r){return Je(je(e,()=>n.loadChildren())).pipe(ee(hl),Ce(dl),Be(i=>i instanceof Qa||Array.isArray(i)?H(i):Te(t.compileModuleAsync(i))),ee(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(e).injector,o=s.get(Yr,[],{optional:!0,self:!0}).flat()),{routes:o.map(bo),injector:s}}))}function Kd(n){return n&&typeof n=="object"&&"default"in n}function hl(n){return Kd(n)?n.default:n}function dl(n){return H(n)}var si=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>W(Jd),providedIn:"root"})}return n})(),Jd=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fl=new fe("");var pl=new fe(""),gl=(()=>{class n{currentNavigation=Sn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new We;transitionAbortWithErrorSubject=new We;configLoader=W(ll);environmentInjector=W(Ht);destroyRef=W(La);urlSerializer=W(Kr);rootContexts=W(tr);location=W(Tn);inputBindingEnabled=W(ni,{optional:!0})!==null;titleStrategy=W(wo);options=W(nr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=W(si);createViewTransition=W(fl,{optional:!0});navigationErrorHandler=W(pl,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Wn(i)),r=i=>this.events.next(new Vn(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;it(()=>{this.transitions?.next(De(M({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(e){return this.transitions=new ie(null),this.transitions.pipe(pt(r=>r!==null),Ce(r=>{let i=!1;return H(r).pipe(Ce(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ve.SupersededByNewNavigation),Ve;this.currentTransition=r,this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?De(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>s.abortController.abort()});let o=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!o&&a!=="reload")return this.events.next(new Ge(s.id,this.urlSerializer.serialize(s.rawUrl),"",Mr.IgnoredSameUrlNavigation)),s.resolve(!1),Ve;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return H(s).pipe(Ce(c=>(this.events.next(new _t(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ve:Promise.resolve(c))),Hd(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),de(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new Lr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:h}=s,f=new _t(c,this.urlSerializer.serialize(l),u,d);this.events.next(f);let p=Yc(this.rootComponentType).snapshot;return this.currentTransition=r=De(M({},s),{targetSnapshot:p,urlAfterRedirects:l,extras:De(M({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(m=>(m.finalUrl=l,m)),H(r)}else return this.events.next(new Ge(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Mr.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ve}),de(s=>{let o=new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(o)}),ee(s=>(this.currentTransition=r=De(M({},s),{guards:cd(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),yd(this.environmentInjector,s=>this.events.next(s)),de(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw ei(this.urlSerializer,s.guardsResult);let o=new qn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(o)}),pt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",ve.GuardRejected),!1)),ro(s=>{if(s.guards.canActivateChecks.length!==0)return H(s).pipe(de(o=>{let a=new Hn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ce(o=>{let a=!1;return H(o).pipe(zd(this.paramsInheritanceStrategy,this.environmentInjector),de({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(o,"",ve.NoDataFromResolver)}}))}),de(o=>{let a=new zn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}))}),ro(s=>{let o=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=er(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(de(u=>{a.component=u}),ee(()=>{})))}for(let l of a.children)c.push(...o(l));return c};return Is(o(s.targetSnapshot.root)).pipe(Fs(null),qt(1))}),ro(()=>this.afterPreactivation()),Ce(()=>{let{currentSnapshot:s,targetSnapshot:o}=r,a=this.createViewTransition?.(this.environmentInjector,s.root,o.root);return a?Te(a).pipe(ee(()=>r)):H(r)}),ee(s=>{let o=nd(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=De(M({},s),{targetRouterState:o}),this.currentNavigation.update(a=>(a.targetRouterState=o,a)),r}),de(()=>{this.events.next(new $r)}),ad(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),qt(1),js(new Ta(s=>{let o=r.abortController.signal,a=()=>s.next();return o.addEventListener("abort",a),()=>o.removeEventListener("abort",a)}).pipe(pt(()=>!i&&!r.targetRouterState),de(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ve.Aborted)}))),de({next:s=>{i=!0,this.lastSuccessfulNavigation=it(this.currentNavigation),this.events.next(new qe(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),js(this.transitionAbortWithErrorSubject.pipe(de(s=>{throw s}))),En(()=>{i||this.cancelNavigationTransition(r,"",ve.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),$t(s=>{if(this.destroyed)return r.resolve(!1),Ve;if(i=!0,rl(s))this.events.next(new Le(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),od(s)?this.events.next(new Xt(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let o=new Yt(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let a=je(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(a instanceof Qt){let{message:c,cancellationCode:l}=ei(this.urlSerializer,a);this.events.next(new Le(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Xt(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(o),s}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ve}))}))}cancelNavigationTransition(e,r,i){let s=new Le(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=it(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yd(n){return n!==jr}var vl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>W(Xd),providedIn:"root"})}return n})(),ri=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Xd=(()=>{class n extends ri{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ms(n)))(i||n)}})();static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xl=(()=>{class n{urlSerializer=W(Kr);options=W(nr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=W(Tn);urlHandlingStrategy=W(si);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $e;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let s=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,o=i??s;return o instanceof $e?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=Yc(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:()=>W(Qd),providedIn:"root"})}return n})(),Qd=(()=>{class n extends xl{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof _t?this.updateStateMemento():e instanceof Ge?this.commitTransition(r):e instanceof Lr?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof $r?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Le&&e.code!==ve.SupersededByNewNavigation&&e.code!==ve.Redirect?this.restoreHistory(r):e instanceof Yt?this.restoreHistory(r,!0):e instanceof qe&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(e)||s){let a=this.browserPageId,c=M(M({},o),this.generateNgRouterState(i,a));this.location.replaceState(e,"",c)}else{let a=M(M({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&s===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ms(n)))(i||n)}})();static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Eo(n,t){n.events.pipe(pt(e=>e instanceof qe||e instanceof Le||e instanceof Yt||e instanceof Ge),ee(e=>e instanceof qe||e instanceof Ge?0:(e instanceof Le?e.code===ve.Redirect||e.code===ve.SupersededByNewNavigation:!1)?2:1),pt(e=>e!==2),qt(1)).subscribe(()=>{t()})}var Zd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ef={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=W(ec);stateManager=W(xl);options=W(nr,{optional:!0})||{};pendingTasks=W($a);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=W(gl);urlSerializer=W(Kr);location=W(Tn);urlHandlingStrategy=W(si);injector=W(Ht);_events=new We;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=W(vl);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=W(Yr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!W(ni,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ra;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=it(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Le&&r.code!==ve.Redirect&&r.code!==ve.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qe)this.navigated=!0;else if(r instanceof Xt){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Yd(i.source)},o);this.scheduleNavigation(a,jr,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Zh(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=M({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(Cn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return it(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(bo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=M(M({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=Vc(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return Gc(d,e,u,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=ot(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,jr,null,r)}navigate(e,r={skipLocationChange:!1}){return tf(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(ja(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=M({},Zd):r===!1?i=M({},ef):i=r,ot(e))return Rc(this.currentUrlTree,e,i);let s=this.parseUrl(e);return Rc(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(e,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return Eo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tf(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new ae(4008,!1)}var ml=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Sn(null);get href(){return it(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new We;applicationErrorHandler=W(Cn);options=W(nr,{optional:!0});constructor(e,r,i,s,o,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(W(new cc("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,r=i=>i==="merge"||i==="preserve";e||=r(this.queryParamsHandling),e||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(i=>{i instanceof qe&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ot(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:ot(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Wt(bt),Wt(Ke),qa("tabindex"),Wt(Ya),Wt(Ha),Wt(fc))};static \u0275dir=Rn({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&oc("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&ic("href",i.reactiveHref(),Va)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Dn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Dn],replaceUrl:[2,"replaceUrl","replaceUrl",Dn],routerLink:"routerLink"},features:[An]})}return n})();var nf=new fe("");function sf(n,...t){return Na([{provide:Yr,multi:!0,useValue:n},[],{provide:Ke,useFactory:of,deps:[bt]},{provide:rc,multi:!0,useFactory:af},t.map(e=>e.\u0275providers)])}function of(n){return n.routerState.root}function af(){let n=W(Us);return t=>{let e=n.get(nc);if(t!==e.components[0])return;let r=n.get(bt),i=n.get(cf);n.get(lf)===1&&r.initialNavigation(),n.get(uf,null,{optional:!0})?.setUpPreloading(),n.get(nf,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cf=new fe("",{factory:()=>new We}),lf=new fe("",{providedIn:"root",factory:()=>1});var uf=new fe("");var oi=class n{_message$=new ie(null);message$=this._message$.asObservable();show(t,e=4e3){this._message$.next(t),e>0&&setTimeout(()=>this.clear(),e)}clear(){this._message$.next(null)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var ai=class{codeCategorie;nomCategorie;constructor(t,e){this.codeCategorie=t,this.nomCategorie=e}},Ne=class{code;nom;codeCategorie;nomCategorie;constructor(t,e,r,i){this.code=t,this.nom=e,this.codeCategorie=r,this.nomCategorie=i}};var yl={production:!1,firebaseConfig:{apiKey:"AIzaSyDxfeuR6QJqu3OObOPTWLhhlzOgSSL1O1s",authDomain:"volley-a86b5.firebaseapp.com",projectId:"volley-a86b5",storageBucket:"volley-a86b5.firebasestorage.app",messagingSenderId:"562442165643",appId:"1:562442165643:web:f36ff9d75f3a886114e38e"},debugAppCheck:!0},Co={production:!1,supabaseUrl:"https://ptjcmgfxpcvihweinoog.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0amNtZ2Z4cGN2aWh3ZWlub29nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMTI1OTgsImV4cCI6MjA3ODg4ODU5OH0.wPGfBqTmrq4nfQb8D06nHKDUmgjm77U1nVjQJTQEX98"};oe();var _l=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);var Xr=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},ci=class extends Xr{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Qr=class extends Xr{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Zr=class extends Xr{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},So=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(So||{});var en=class{constructor(t,{headers:e={},customFetch:r,region:i=So.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=_l(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return P(this,arguments,void 0,function*(e,r={}){var i;let s,o;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${e}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(h["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(h["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;let x=u;d&&(o=new AbortController,s=setTimeout(()=>o.abort(),d),u?(x=o.signal,u.addEventListener("abort",()=>o.abort())):x=o.signal);let g=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:m,signal:x}).catch(w=>{throw new ci(w)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new Qr(g);if(!g.ok)throw new Zr(g);let _=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return _==="application/json"?y=yield g.json():_==="application/octet-stream"||_==="application/pdf"?y=yield g.blob():_==="text/event-stream"?y=g:_==="multipart/form-data"?y=yield g.formData():y=yield g.text(),{data:y,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Zr||a instanceof Qr?a.context:void 0}}finally{s&&clearTimeout(s)}})}};var qo=Aa(Tl(),1),{PostgrestClient:Bl,PostgrestQueryBuilder:Rv,PostgrestFilterBuilder:Dv,PostgrestTransformBuilder:Tv,PostgrestBuilder:Bv,PostgrestError:Ef}=qo.default||qo;var Ho=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let r=e.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){let r=this.getWebSocketConstructor();return new r(t,e)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},zo=Ho;var kl="2.81.1";var Ol=`realtime-js/${kl}`,Wo="1.0.0",Il="2.0.0",Vo=Wo;var rn=1e4,Fl=1e3,Pl=100,wt=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(wt||{}),ce=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(ce||{}),_e=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(_e||{}),Go=(function(n){return n.websocket="websocket",n})(Go||{}),Et=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(Et||{});var ui=class{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,e){if(this._isArrayBuffer(t.payload))return e(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return e(JSON.stringify(r))}_binaryEncodePush(t){let{join_ref:e,ref:r,event:i,topic:s,payload:o}=t,a=this.META_LENGTH+e.length+r.length+s.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+a),l=new DataView(c),u=0;l.setUint8(u++,this.KINDS.push),l.setUint8(u++,e.length),l.setUint8(u++,r.length),l.setUint8(u++,s.length),l.setUint8(u++,i.length),Array.from(e,h=>l.setUint8(u++,h.charCodeAt(0))),Array.from(r,h=>l.setUint8(u++,h.charCodeAt(0))),Array.from(s,h=>l.setUint8(u++,h.charCodeAt(0))),Array.from(i,h=>l.setUint8(u++,h.charCodeAt(0)));var d=new Uint8Array(c.byteLength+o.byteLength);return d.set(new Uint8Array(c),0),d.set(new Uint8Array(o),c.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(t){var e;return this._isArrayBuffer((e=t.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var e,r;let{join_ref:i,ref:s,topic:o}=t,a=t.payload.event,c=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),l=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+o.length+a.length,u=new ArrayBuffer(this.HEADER_LENGTH+l),d=new DataView(u),h=0;d.setUint8(h++,this.KINDS.userBroadcastPush),d.setUint8(h++,i.length),d.setUint8(h++,s.length),d.setUint8(h++,o.length),d.setUint8(h++,a.length),d.setUint8(h++,this.BINARY_ENCODING),Array.from(i,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(s,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(o,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(a,p=>d.setUint8(h++,p.charCodeAt(0)));var f=new Uint8Array(u.byteLength+c.byteLength);return f.set(new Uint8Array(u),0),f.set(new Uint8Array(c),u.byteLength),f.buffer}_encodeJsonUserBroadcastPush(t){var e,r;let{join_ref:i,ref:s,topic:o}=t,a=t.payload.event,c=(r=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(c)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+o.length+a.length,h=new ArrayBuffer(this.HEADER_LENGTH+d),f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,a.length),f.setUint8(p++,this.JSON_ENCODING),Array.from(i,x=>f.setUint8(p++,x.charCodeAt(0))),Array.from(s,x=>f.setUint8(p++,x.charCodeAt(0))),Array.from(o,x=>f.setUint8(p++,x.charCodeAt(0))),Array.from(a,x=>f.setUint8(p++,x.charCodeAt(0)));var m=new Uint8Array(h.byteLength+u.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(u),h.byteLength),m.buffer}decode(t,e){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return e(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,s,o,a,c]=r;return e({join_ref:i,ref:s,topic:o,event:a,payload:c})}return e({})}_binaryDecode(t){let e=new DataView(t),r=e.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(t,e,i);case this.KINDS.reply:return this._decodeReply(t,e,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,e,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,e,i)}}_decodePush(t,e,r){let i=e.getUint8(1),s=e.getUint8(2),o=e.getUint8(3),a=this.HEADER_LENGTH+this.META_LENGTH-1,c=r.decode(t.slice(a,a+i));a=a+i;let l=r.decode(t.slice(a,a+s));a=a+s;let u=r.decode(t.slice(a,a+o));a=a+o;let d=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{join_ref:c,ref:null,topic:l,event:u,payload:d}}_decodeReply(t,e,r){let i=e.getUint8(1),s=e.getUint8(2),o=e.getUint8(3),a=e.getUint8(4),c=this.HEADER_LENGTH+this.META_LENGTH,l=r.decode(t.slice(c,c+i));c=c+i;let u=r.decode(t.slice(c,c+s));c=c+s;let d=r.decode(t.slice(c,c+o));c=c+o;let h=r.decode(t.slice(c,c+a));c=c+a;let f=JSON.parse(r.decode(t.slice(c,t.byteLength))),p={status:h,response:f};return{join_ref:l,ref:u,topic:d,event:_e.reply,payload:p}}_decodeBroadcast(t,e,r){let i=e.getUint8(1),s=e.getUint8(2),o=this.HEADER_LENGTH+2,a=r.decode(t.slice(o,o+i));o=o+i;let c=r.decode(t.slice(o,o+s));o=o+s;let l=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:a,event:c,payload:l}}_decodeUserBroadcast(t,e,r){let i=e.getUint8(1),s=e.getUint8(2),o=e.getUint8(3),a=e.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+i));c=c+i;let u=r.decode(t.slice(c,c+s));c=c+s;let d=r.decode(t.slice(c,c+o));c=c+o;let h=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST,event:u,payload:f};return o>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST,payload:p}}_isArrayBuffer(t){var e;return t instanceof ArrayBuffer||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}};var sr=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var re=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(re||{}),Jo=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=Cf(o,n,t,i),s),{}):{}},Cf=(n,t,e,r)=>{let i=t.find(a=>a.name===n),s=i?.type,o=e[n];return s&&!r.includes(s)?jl(s,o):Ko(o)},jl=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return Df(t,e)}switch(n){case re.bool:return Sf(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return Af(t);case re.json:case re.jsonb:return Rf(t);case re.timestamp:return Tf(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Ko(t);default:return Ko(t)}},Ko=n=>n,Sf=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Af=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},Rf=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},Df=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let s,o=n.slice(1,e);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>jl(t,a))}return n},Tf=n=>typeof n=="string"?n.replace(" ","T"):n,hi=n=>{let t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var or=class{constructor(t,e,r={},i=rn){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var nn=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let s=this.cloneDeep(t),o=this.transformState(e),a={},c={};return this.map(s,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{let d=s[l];if(d){let h=u.map(x=>x.presence_ref),f=d.map(x=>x.presence_ref),p=u.filter(x=>f.indexOf(x.presence_ref)<0),m=d.filter(x=>h.indexOf(x.presence_ref)<0);p.length>0&&(a[l]=p),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(s,{joins:a,leaves:c},r,i)}static syncDiff(t,e,r,i){let{joins:s,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,c)}),this.map(o,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,i(a,l,c),l.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var sn=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(sn||{}),Ye=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(Ye||{});var on=class n{constructor(t,e={config:{}},r){var i,s;if(this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new or(this,_e.join,this.params,this.timeout),this.rejoinTimer=new sr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_e.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new nn(this),this.broadcastEndpointURL=hi(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){let{config:{broadcast:o,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[sn.PRESENCE]&&this.bindings[sn.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Ye.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Ye.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",p=>b(this,[p],function*({postgres_changes:f}){var m;if(this.socket.setAuth(),f===void 0){t?.(Ye.SUBSCRIBED);return}else{let x=this.bindings.postgres_changes,g=(m=x?.length)!==null&&m!==void 0?m:0,v=[];for(let _=0;_<g;_++){let y=x[_],{filter:{event:w,schema:E,table:A,filter:S}}=y,O=f&&f[_];if(O&&O.event===w&&O.schema===E&&O.table===A&&O.filter===S)v.push(Object.assign(Object.assign({},y),{id:O.id}));else{this.unsubscribe(),this.state=ce.errored,t?.(Ye.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Ye.SUBSCRIBED);return}})).receive("error",f=>{this.state=ce.errored,t?.(Ye.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ye.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return b(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return b(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this.state===ce.joined&&t===sn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,r)}httpSend(i,s){return b(this,arguments,function*(t,e,r={}){var o;let a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{let d=yield l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return b(this,arguments,function*(t,e={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(s=u.body)===null||s===void 0?void 0:s.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,c,l;let u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ce.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_e.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new or(this,_e.leave,{},t),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}_fetchWithTimeout(t,e,r){return b(this,null,function*(){let i=new AbortController,s=setTimeout(()=>i.abort(),r),o=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(s),o})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new or(this,t,e,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Pl){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,s;let o=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=_e;if(r&&[a,c,l,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,e,r);if(e&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,m,x;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(m=f.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var p,m,x,g,v,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){let y=f.id,w=(p=f.filter)===null||p===void 0?void 0:p.event;return y&&((m=e.ids)===null||m===void 0?void 0:m.includes(y))&&(w==="*"||w?.toLocaleLowerCase()===((x=e.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{let y=(v=(g=f?.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return y==="*"||y===((_=e?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:m,table:x,commit_timestamp:g,type:v,errors:_}=p;h=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:g,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),s={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_e.close,{},t)}_onError(t){this._on(_e.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=Jo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=Jo(t.columns,t.old_record)),e}};var Yo=()=>{},di={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kf=[1e3,2e3,5e3,1e4],Of=1e4,If=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,an=class{constructor(t,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rn,this.transport=null,this.heartbeatIntervalMs=di.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yo,this.ref=0,this.reconnectTimer=null,this.vsn=Vo,this.logger=Yo,this.conn=null,this.sendBuffer=[],this.serializer=new ui,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=e?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${Go.websocket}`,this.httpEndpoint=hi(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zo.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return b(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return b(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wt.connecting:return Et.Connecting;case wt.open:return Et.Open;case wt.closing:return Et.Closing;default:return Et.Closed}}isConnected(){return this.connectionState()===Et.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{let s=new on(`realtime:${t}`,e,this);return this.channels.push(s),s}}push(t){let{topic:e,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${e} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t=null){return b(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return b(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Fl,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},di.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:s,ref:o}=e,a=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),s),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,o)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===wt.open||this.conn.readyState===wt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_e.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([If],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}_performAuth(t=null){return b(this,null,function*(){let e;t?e=t:this.accessToken?e=yield this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(r=>{let i={access_token:e,version:Ol};e&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(_e.access_token,{access_token:e})}))})}_waitForAuthIfNeeded(){return b(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(e)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sr(()=>b(this,null,function*(){setTimeout(()=>b(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),di.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var e,r,i,s,o,a,c,l,u,d,h,f;switch(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:rn,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:di.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Yo,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Vo,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:p=>kf[p-1]||Of,this.vsn){case Wo:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(p,m)=>m(JSON.stringify(p)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(p,m)=>m(JSON.parse(p));break;case Il:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};oe();var ar=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Z(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var fi=class extends ar{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ct=class extends ar{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};oe();var cr=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Ul=()=>Response,pi=n=>{if(Array.isArray(n))return n.map(e=>pi(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=pi(r)}),t},Nl=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Xo=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},Ff=(n,t,e)=>P(void 0,void 0,void 0,function*(){let r=yield Ul();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{let s=n.status||500,o=i?.statusCode||s+"";t(new fi(Xo(i),s,o))}).catch(i=>{t(new Ct(Xo(i),i))}):t(new Ct(Xo(n),n))}),Pf=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"||!r?i:(Nl(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),e))};function cn(n,t,e,r,i,s){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(e,Pf(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Ff(c,a,r))})})}function at(n,t,e,r){return P(this,void 0,void 0,function*(){return cn(n,"GET",t,e,r)})}function be(n,t,e,r,i){return P(this,void 0,void 0,function*(){return cn(n,"POST",t,r,i,e)})}function ln(n,t,e,r,i){return P(this,void 0,void 0,function*(){return cn(n,"PUT",t,r,i,e)})}function Ml(n,t,e,r){return P(this,void 0,void 0,function*(){return cn(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function lr(n,t,e,r,i){return P(this,void 0,void 0,function*(){return cn(n,"DELETE",t,r,i,e)})}oe();oe();var gi=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Z(t))return{data:null,error:t};throw t}})}};var Ll,Qo=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Ll]="BlobDownloadBuilder",this.promise=null}asStream(){return new gi(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return P(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Z(t))return{data:null,error:t};throw t}})}};Ll=Symbol.toStringTag;var $l=Qo;var jf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ql={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},vi=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=cr(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,r,i){return P(this,void 0,void 0,function*(){try{let s,o=Object.assign(Object.assign({},ql),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)}),c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),c&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(c))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=yield(t=="PUT"?ln:be)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}upload(t,e,r){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return P(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let c,l=Object.assign({upsert:ql.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield ln(this.fetch,a.toString(),c,{headers:u});return{data:{path:s,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Z(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return P(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let s=yield be(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new ar("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}update(t,e,r){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return P(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}})}copy(t,e,r){return P(this,void 0,void 0,function*(){try{return{data:{path:(yield be(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return P(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield be(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return P(this,void 0,void 0,function*(){try{let i=yield be(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}})}download(t,e){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",a=this._getFinalPath(t),c=()=>at(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new $l(c,this.shouldThrowOnError)}info(t){return P(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield at(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:pi(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}exists(t){return P(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield Ml(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r)&&r instanceof Ct){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&i.push(s);let a=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return P(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}list(t,e,r){return P(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},jf),e),{prefix:t||""});return{data:yield be(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}})}listV2(t,e){return P(this,void 0,void 0,function*(){try{let r=Object.assign({},t);return{data:yield be(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};oe();var xi="2.81.1";var mi={"X-Client-Info":`storage-js/${xi}`};var yi=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;let s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mi),e),this.fetch=cr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return P(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(t);return{data:yield at(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}getBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}createBucket(t){return P(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield be(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return P(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}emptyBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}deleteBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){let e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}};oe();var _i=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mi),e),this.fetch=cr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}listBuckets(t){return P(this,void 0,void 0,function*(){try{let e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);let r=e.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield at(this.fetch,i,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}deleteBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}};oe();oe();var ur={"X-Client-Info":`storage-js/${xi}`,"Content-Type":"application/json"};var bi=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function pe(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var hr=class extends bi{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wi=class extends bi{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};oe();var dr=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);var Hl=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var zl=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Uf=(n,t,e)=>P(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!e?.noResolveJson){let i=n.status||500,s=n;if(typeof s.json=="function")s.json().then(o=>{let a=o?.statusCode||o?.code||i+"";t(new hr(zl(o),i,a))}).catch(()=>{let o=i+"",a=s.statusText||`HTTP ${i} error`;t(new hr(a,i,o))});else{let o=i+"",a=s.statusText||`HTTP ${i} error`;t(new hr(a,i,o))}}else t(new wi(zl(n),n))}),Nf=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"||!r?i:(Hl(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),e))};function Mf(n,t,e,r,i,s){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(e,Nf(t,r,i,s)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Uf(c,a,r))})})}function ge(n,t,e,r,i){return P(this,void 0,void 0,function*(){return Mf(n,"POST",t,r,i,e)})}var Ei=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ur),e),this.fetch=dr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return P(this,void 0,void 0,function*(){try{return{data:(yield ge(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}getIndex(t,e){return P(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}listIndexes(t){return P(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return P(this,void 0,void 0,function*(){try{return{data:(yield ge(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}};oe();var Ci=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ur),e),this.fetch=dr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return P(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ge(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}getVectors(t){return P(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}listVectors(t){return P(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ge(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}queryVectors(t){return P(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}deleteVectors(t){return P(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ge(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}};oe();var Si=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ur),e),this.fetch=dr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return P(this,void 0,void 0,function*(){try{return{data:(yield ge(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}getBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}listBuckets(){return P(this,arguments,void 0,function*(t={}){try{return{data:yield ge(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}deleteBucket(t){return P(this,void 0,void 0,function*(){try{return{data:(yield ge(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}};var un=class extends Si{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Ai(this.url,this.headers,t,this.fetch)}},Ai=class extends Ei{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}createIndex(t){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return P(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return P(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return P(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return P(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Ri(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Ri=class extends Ci{constructor(t,e,r,i,s){super(t,e,s),this.vectorBucketName=r,this.indexName=i}putVectors(t){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return P(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return P(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return P(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return P(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return P(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var hn=class extends yi{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new vi(this.url,this.headers,t,this.fetch)}get vectors(){return new un(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _i(this.url+"/iceberg",this.headers,this.fetch)}};var Wl="2.81.1";var dn="";typeof Deno<"u"?dn="deno":typeof document<"u"?dn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dn="react-native":dn="node";var Lf={"X-Client-Info":`supabase-js-${dn}/${Wl}`},Vl={headers:Lf},Gl={schema:"public"},Kl={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jl={};var $f=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),qf=()=>Headers,Yl=(n,t,e)=>{let r=$f(e),i=qf();return(s,o)=>b(null,null,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:n,l=new i(o?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},o),{headers:l}))})};function Hf(n){return n.endsWith("/")?n:n+"/"}function Xl(n,t){var e,r;let{db:i,auth:s,realtime:o,global:a}=n,{db:c,auth:l,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>b(null,null,function*(){return""})};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}function Ql(n){let t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Hf(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}oe();oe();var Di="2.81.1";var St=30*1e3,Ti=3,Bi=Ti*St,Zl="http://localhost:9999",eu="supabase.auth.token";var tu={"X-Client-Info":`gotrue-js/${Di}`};var fn="X-Supabase-Api-Version",Zo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ru=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nu=600*1e3;var ct=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function U(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var ki=class extends ct{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function iu(n){return U(n)&&n.name==="AuthApiError"}var Oe=class extends ct{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},He=class extends ct{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}},me=class extends He{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function su(n){return U(n)&&n.name==="AuthSessionMissingError"}var Xe=class extends He{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},At=class extends He{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Rt=class extends He{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ou(n){return U(n)&&n.name==="AuthImplicitGrantRedirectError"}var pn=class extends He{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},fr=class extends He{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function Oi(n){return U(n)&&n.name==="AuthRetryableFetchError"}var gn=class extends He{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var Dt=class extends He{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),au=` 	
\r=`.split(""),zf=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<au.length;t+=1)n[au[t].charCodeAt(0)]=-2;for(let t=0;t<Ii.length;t+=1)n[Ii[t].charCodeAt(0)]=t;return n})();function cu(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Ii[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;e(Ii[r]),t.queuedBits-=6}}function lu(n,t,e){let r=zf[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function ea(n){let t=[],e=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Gf(o,r,e)};for(let o=0;o<n.length;o+=1)lu(n.charCodeAt(o),i,s);return t.join("")}function Wf(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Vf(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}Wf(r,t)}}function Gf(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function lt(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)lu(n.charCodeAt(i),e,r);return new Uint8Array(t)}function uu(n){let t=[];return Vf(n,e=>t.push(e)),new Uint8Array(t)}function Qe(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};return n.forEach(i=>cu(i,e,r)),cu(null,e,r),t.join("")}function hu(n){return Math.round(Date.now()/1e3)+n}function du(){return Symbol("auth-callback")}var le=()=>typeof window<"u"&&typeof document<"u",Tt={tested:!1,writable:!1},Fi=()=>{if(!le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tt.tested)return Tt.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Tt.tested=!0,Tt.writable=!0}catch{Tt.tested=!0,Tt.writable=!1}return Tt.writable};function fu(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var Pi=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),pu=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Bt=(n,t,e)=>b(null,null,function*(){yield n.setItem(t,JSON.stringify(e))}),ut=(n,t)=>b(null,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),Ze=(n,t)=>b(null,null,function*(){yield n.removeItem(t)}),vn=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};vn.promiseConstructor=Promise;function ji(n){let t=n.split(".");if(t.length!==3)throw new Dt("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ru.test(t[r]))throw new Dt("JWT not in base64url format");return{header:JSON.parse(ea(t[0])),payload:JSON.parse(ea(t[1])),signature:lt(t[2]),raw:{header:t[0],payload:t[1]}}}function gu(n){return b(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function vu(n,t){return new Promise((r,i)=>{b(null,null,function*(){for(let s=0;s<1/0;s++)try{let o=yield n(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})})}function Kf(n){return("0"+n.toString(16)).substr(-2)}function Jf(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let s=0;s<56;s++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Kf).join("")}function Yf(n){return b(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})}function Xf(n){return b(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield Yf(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function kt(n,t,e=!1){return b(this,null,function*(){let r=Jf(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield Bt(n,`${t}-code-verifier`,i);let s=yield Xf(r);return[s,r===s?"plain":"s256"]})}var Qf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xu(n){let t=n.headers.get(fn);if(!t||!t.match(Qf))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mu(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function yu(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Zf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ot(n){if(!Zf.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ui(){let n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let r=e.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _u(n,t){return new Proxy(n,{get:(e,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,i)}})}function ta(n){return JSON.parse(JSON.stringify(n))}var It=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ep=[502,503,504];function bu(n){return b(this,null,function*(){var t;if(!pu(n))throw new fr(It(n),0);if(ep.includes(n.status))throw new fr(It(n),n.status);let e;try{e=yield n.json()}catch(s){throw new Oe(It(s),s)}let r,i=xu(n);if(i&&i.getTime()>=Zo["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new gn(It(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new me}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new gn(It(e),n.status,e.weak_password.reasons);throw new ki(It(e),n.status||500,r)})}var tp=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function L(n,t,e,r){return b(this,null,function*(){var i;let s=Object.assign({},r?.headers);s[fn]||(s[fn]=Zo["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);let o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=yield rp(n,t,e+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function rp(n,t,e,r,i,s){return b(this,null,function*(){let o=tp(t,r,i,s),a;try{a=yield n(e,Object.assign({},o))}catch(c){throw console.error(c),new fr(It(c),0)}if(a.ok||(yield bu(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield bu(c)}})}function Ie(n){var t;let e=null;np(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=hu(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function ra(n){let t=Ie(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function ze(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function wu(n){return{data:n,error:null}}function Eu(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:s}=n,o=ft(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function na(n){return n}function np(n){return n.access_token&&n.refresh_token&&n.expires_in}var Ni=["global","local","others"];var pr=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=Pi(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return b(this,arguments,function*(t,e=Ni[0]){if(Ni.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ni.join(", ")}`);try{return yield L(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return b(this,arguments,function*(t,e={}){try{return yield L(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:ze})}catch(i){if(U(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return b(this,null,function*(){try{let{options:e}=t,r=ft(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Eu,redirectTo:e?.redirectTo})}catch(e){if(U(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return b(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ze})}catch(e){if(U(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return b(this,null,function*(){var e,r,i,s,o,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:na});if(u.error)throw u.error;let d=yield u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);l[`${x}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(U(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return b(this,null,function*(){Ot(t);try{return yield L(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ze})}catch(e){if(U(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return b(this,null,function*(){Ot(t);try{return yield L(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:ze})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return b(this,null,function*(){Ot(t);try{return yield L(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:ze})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return b(this,null,function*(){Ot(t.userId);try{let{data:e,error:r}=yield L(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(U(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return b(this,null,function*(){Ot(t.userId),Ot(t.id);try{return{data:yield L(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}_listOAuthClients(t){return b(this,null,function*(){var e,r,i,s,o,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:na});if(u.error)throw u.error;let d=yield u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);l[`${x}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(U(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(t){return b(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(U(e))return{data:null,error:e};throw e}})}_getOAuthClient(t){return b(this,null,function*(){try{return yield L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(U(e))return{data:null,error:e};throw e}})}_updateOAuthClient(t,e){return b(this,null,function*(){try{return yield L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return b(this,null,function*(){try{return yield L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}_regenerateOAuthClientSecret(t){return b(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(U(e))return{data:null,error:e};throw e}})}};function ia(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}var Ft={debug:!!(globalThis&&Fi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},xn=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Mi=class extends xn{};function sa(n,t,e){return b(this,null,function*(){Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>b(null,null,function*(){if(i){Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield e()}finally{Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Mi(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ft.debug)try{let s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}function Cu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function oa(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Su(n){return parseInt(n,16)}function Au(n){let t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Ru(n){var t;let{chainId:e,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:h}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let f=oa(n.address),p=u?`${u}://${r}`:r,m=n.statement?`${n.statement}
`:"",x=`${p} wants you to sign in with your Ethereum account:
${f}

${m}`,g=`URI: ${d}
Version: ${h}
Chain ID: ${e}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),c&&(g+=`
Request ID: ${c}`),l){let v=`
Resources:`;for(let _ of l){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);v+=`
- ${_}`}g+=v}return`${x}
${g}`}oe();var se=class extends Error{constructor({message:t,code:e,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=e}},Pt=class extends se{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}};function Du({error:n,options:t}){var e,r,i;let{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=s.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new se({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let o=window.location.hostname;if(aa(o)){if(s.rp.id!==o)return new se({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Tu({error:n,options:t}){let{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new se({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let r=window.location.hostname;if(aa(r)){if(e.rpId!==r)return new se({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var ca=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},ip=new ca;function ku(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:t,user:e,excludeCredentials:r}=n,i=ft(n,["challenge","user","excludeCredentials"]),s=lt(t).buffer,o=Object.assign(Object.assign({},e),{id:lt(e.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:lt(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Ou(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:t,allowCredentials:e}=n,r=ft(n,["challenge","allowCredentials"]),i=lt(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(e&&e.length>0){s.allowCredentials=new Array(e.length);for(let o=0;o<e.length;o++){let a=e[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:lt(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function Iu(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n;return{id:n.id,rawId:n.id,response:{attestationObject:Qe(new Uint8Array(n.response.attestationObject)),clientDataJSON:Qe(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Fu(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Qe(new Uint8Array(i.authenticatorData)),clientDataJSON:Qe(new Uint8Array(i.clientDataJSON)),signature:Qe(new Uint8Array(i.signature)),userHandle:i.userHandle?Qe(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aa(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Bu(){var n,t;return!!(le()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function sp(n){return b(this,null,function*(){try{let t=yield navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pt("Browser returned unexpected credential type",t)}:{data:null,error:new Pt("Empty credential response",t)}}catch(t){return{data:null,error:Du({error:t,options:n})}}})}function op(n){return b(this,null,function*(){try{let t=yield navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pt("Browser returned unexpected credential type",t)}:{data:null,error:new Pt("Empty credential response",t)}}catch(t){return{data:null,error:Tu({error:t,options:n})}}})}var ap={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cp={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Li(...n){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of n)if(i)for(let s in i){let o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(e(o))r[s]=o;else if(t(o)){let a=r[s];t(a)?r[s]=Li(a,o):r[s]=Li(o)}else r[s]=o}return r}function lp(n,t){return Li(ap,n,t||{})}function up(n,t){return Li(cp,n,t||{})}var $i=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return b(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(o,a){return b(this,arguments,function*({factorId:t,webauthn:e,friendlyName:r,signal:i},s){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:t,webauthn:e});if(!c)return{data:null,error:l};let u=i??ip.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{let d=lp(c.webauthn.credential_options.publicKey,s?.create),{data:h,error:f}=yield sp({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{let d=up(c.webauthn.credential_options.publicKey,s?.request),{data:h,error:f}=yield op(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(c){return U(c)?{data:null,error:c}:{data:null,error:new Oe("Unexpected error in challenge",c)}}})}_verify(i){return b(this,arguments,function*({challengeId:t,factorId:e,webauthn:r}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:r})})}_authenticate(o,a){return b(this,arguments,function*({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!e)return{data:null,error:new ct("rpId is required for WebAuthn authentication")};try{if(!Bu())return{data:null,error:new Oe("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:r},signal:i},{request:s});if(!c)return{data:null,error:l};let{webauthn:u}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:u.type,rpId:e,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return U(c)?{data:null,error:c}:{data:null,error:new Oe("Unexpected error in authenticate",c)}}})}_register(o,a){return b(this,arguments,function*({friendlyName:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!e)return{data:null,error:new ct("rpId is required for WebAuthn registration")};try{if(!Bu())return{data:null,error:new Oe("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:t});if(!c)return yield this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};let{data:u,error:d}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:e,rpOrigins:r},signal:i},{create:s});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:e,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(c){return U(c)?{data:null,error:c}:{data:null,error:new Oe("Unexpected error in register",c)}}})}};Cu();var hp={url:Zl,storageKey:eu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function Pu(n,t,e){return b(this,null,function*(){return yield e()})}var gr={},dp=(()=>{class n{get jwks(){var e,r;return(r=(e=gr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){gr[this.storageKey]=Object.assign(Object.assign({},gr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=gr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gr[this.storageKey]=Object.assign(Object.assign({},gr[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let o=Object.assign(Object.assign({},hp),e);if(this.storageKey=o.storageKey,this.instanceID=(r=n.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,n.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&le()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new pr({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Pi(o.fetch),this.lock=o.lock||Pu,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:le()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=sa:this.lock=Pu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $i(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Fi()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ia(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=ia(this.memoryStorage)),le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",a=>b(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Di}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){return b(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=b(this,null,function*(){return yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return b(this,null,function*(){var e;try{let r={},i="none";if(le()&&(r=fu(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),le()&&this.detectSessionInUrl&&i!=="none"){let{data:s,error:o}=yield this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ou(o)){let l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return yield this._removeSession(),{error:o}}let{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>b(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?this._returnResult({error:r}):this._returnResult({error:new Oe("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return b(this,null,function*(){var r,i,s;try{let o=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ie}),{data:a,error:c}=o;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(U(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signUp(e){return b(this,null,function*(){var r,i,s;try{let o;if("email"in e){let{email:d,password:h,options:f}=e,p=null,m=null;this.flowType==="pkce"&&([p,m]=yield kt(this.storage,this.storageKey)),o=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ie})}else if("phone"in e){let{phone:d,password:h,options:f}=e;o=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(s=f?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ie})}else throw new At("You must provide either an email or phone number and a password");let{data:a,error:c}=o;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(U(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithPassword(e){return b(this,null,function*(){try{let r;if("email"in e){let{email:o,password:a,options:c}=e;r=yield L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ra})}else if("phone"in e){let{phone:o,password:a,options:c}=e;r=yield L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ra})}else throw new At("You must provide either an email or phone number and a password");let{data:i,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){let o=new Xe;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(e){return b(this,null,function*(){var r,i,s,o;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(e){return b(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>b(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return b(this,null,function*(){let{chain:r}=e;switch(r){case"ethereum":return yield this.signInWithEthereum(e);case"solana":return yield this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(e){return b(this,null,function*(){var r,i,s,o,a,c,l,u,d,h,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{let{chain:x,wallet:g,statement:v,options:_}=e,y;if(le())if(typeof g=="object")y=g;else{let F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")y=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}let w=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href),E=yield y.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let A=oa(E[0]),S=(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!S){let F=yield y.request({method:"eth_chainId"});S=Su(F)}let O={domain:w.host,address:A,statement:v,uri:w.href,version:"1",chainId:S,nonce:(s=_?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(o=_?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=_?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=_?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Ru(O),m=yield y.request({method:"personal_sign",params:[Au(p),A]})}try{let{data:x,error:g}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ie});if(g)throw g;if(!x||!x.session||!x.user){let v=new Xe;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(yield this._saveSession(x.session),yield this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(U(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}})}signInWithSolana(e){return b(this,null,function*(){var r,i,s,o,a,c,l,u,d,h,f,p;let m,x;if("message"in e)m=e.message,x=e.signature;else{let{chain:g,wallet:v,statement:_,options:y}=e,w;if(le())if(typeof v=="object")w=v;else{let A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))w=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}let E=new URL((r=y?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){let A=yield w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),_?{statement:_}:null)),S;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")S=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)S=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)m=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(i=y?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=y?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((c=y?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);let A=yield w.signMessage(new TextEncoder().encode(m),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=A}}try{let{data:g,error:v}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Qe(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ie});if(v)throw v;if(!g||!g.session||!g.user){let _=new Xe;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(yield this._saveSession(g.session),yield this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(U(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}})}_exchangeCodeForSession(e){return b(this,null,function*(){let r=yield ut(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(r??"").split("/");try{let{data:o,error:a}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ie});if(yield Ze(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){let c=new Xe;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(U(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}})}signInWithIdToken(e){return b(this,null,function*(){try{let{options:r,provider:i,token:s,access_token:o,nonce:a}=e,c=yield L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ie}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new Xe;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(e){return b(this,null,function*(){var r,i,s,o,a;try{if("email"in e){let{email:c,options:l}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield kt(this.storage,this.storageKey));let{error:h}=yield L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){let{phone:c,options:l}=e,{data:u,error:d}=yield L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new At("You must provide either an email or phone number.")}catch(c){if(U(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}verifyOtp(e){return b(this,null,function*(){var r,i;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ie});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithSSO(e){return b(this,null,function*(){var r,i,s,o,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=yield kt(this.storage,this.storageKey));let u=yield L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:wu});return!((o=u.data)===null||o===void 0)&&o.url&&le()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(U(c))return this._returnResult({data:null,error:c});throw c}})}reauthenticate(){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return b(this,null,function*(){try{return yield this._useSession(e=>b(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new me;let{error:s}=yield L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})}))}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}resend(e){return b(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:s,options:o}=e,{error:a}=yield L(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){let{phone:i,type:s,options:o}=e,{data:a,error:c}=yield L(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new At("You must provide either an email or phone number and a type")}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return this._useSession(r=>b(this,null,function*(){return r}))}))})}_acquireLock(e,r){return b(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=b(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(b(this,null,function*(){try{yield s}catch{}})),s}return yield this.lock(`lock:${this.storageKey}`,e,()=>b(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(b(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return b(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return b(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield ut(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<Bi:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){let a=yield ut(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=Ui()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};e.user=_u(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(e){return b(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return b(this,null,function*(){try{return e?yield L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ze}):yield this._useSession(r=>b(this,null,function*(){var i,s,o;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new me}:yield L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:ze})}))}catch(r){if(U(r))return su(r)&&(yield this._removeSession(),yield Ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return b(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return b(this,arguments,function*(e,r={}){try{return yield this._useSession(s=>b(this,null,function*(){let{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new me;let c=o.session,l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=yield kt(this.storage,this.storageKey));let{data:d,error:h}=yield L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:ze});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})}))}catch(s){if(U(s))return this._returnResult({data:{user:null},error:s});throw s}})}setSession(e){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return b(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new me;let r=Date.now()/1e3,i=r,s=!0,o=null,{payload:a}=ji(e.access_token);if(a.exp&&(i=a.exp,s=i<=r),s){let{data:c,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};o=c}else{let{data:c,error:l}=yield this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(U(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(e){return b(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){var i;if(!e){let{data:a,error:c}=r;if(c)throw c;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new me;let{data:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(e,r){return b(this,null,function*(){try{if(!le())throw new Rt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new pn("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rt("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pn("No code detected.");let{data:_,error:y}=yield this._exchangeCodeForSession(e.code);if(y)throw y;let w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:_.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=e;if(!o||!c||!a||!u)throw new Rt("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let p=f-d;p*1e3<=St&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:x,error:g}=yield this._getUser(o);if(g)throw g;let v={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(i){if(U(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return b(this,null,function*(){let r=yield ut(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return b(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return b(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>b(this,null,function*(){var i;let{data:s,error:o}=r;if(o)return this._returnResult({error:o});let a=(i=s.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,e);if(c&&!(iu(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(yield this._removeSession(),yield Ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(e){let r=du(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),b(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return b(this,null,function*(){return yield this._useSession(r=>b(this,null,function*(){var i,s;try{let{data:{session:o},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){yield(s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))})}resetPasswordForEmail(i){return b(this,arguments,function*(e,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=yield kt(this.storage,this.storageKey,!0));try{return yield L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return b(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(e){return b(this,null,function*(){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)})}linkIdentityOAuth(e){return b(this,null,function*(){var r;try{let{data:i,error:s}=yield this._useSession(o=>b(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=o;if(f)throw f;let p=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield L(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(s)throw s;return le()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(U(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}})}linkIdentityIdToken(e){return b(this,null,function*(){return yield this._useSession(r=>b(this,null,function*(){var i;try{let{error:s,data:{session:o}}=r;if(s)throw s;let{options:a,provider:c,token:l,access_token:u,nonce:d}=e,h=yield L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ie}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Xe}):(f.session&&(yield this._saveSession(f.session),yield this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}))})}unlinkIdentity(e){return b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){var i,s;let{data:o,error:a}=r;if(a)throw a;return yield L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(e){return b(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield vu(s=>b(this,null,function*(){return s>0&&(yield gu(200*Math.pow(2,s-1))),this._debug(r,"refreshing attempt",s),yield L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ie})}),(s,o)=>{let a=200*Math.pow(2,s);return o&&Oi(o)&&Date.now()+a-i<St})}catch(i){if(this._debug(r,"error",i),U(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return b(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),le()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return b(this,null,function*(){var e,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let s=yield ut(this.storage,this.storageKey);if(s&&this.userStorage){let a=yield ut(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},yield Bt(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a?.user)!==null&&e!==void 0?e:Ui()}else if(s&&!s.user&&!s.user){let a=yield ut(this.storage,this.storageKey+"-user");a&&a?.user?(s.user=a.user,yield Ze(this.storage,this.storageKey+"-user"),yield Bt(this.storage,this.storageKey,s)):s.user=Ui()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&(yield this._removeSession());return}let o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bi;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Bi}s`),o){if(this.autoRefreshToken&&s.refresh_token){let{error:a}=yield this._callRefreshToken(s.refresh_token);a&&(console.error(a),Oi(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(s.access_token);!c&&a?.user?(s.user=a.user,yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return b(this,null,function*(){var r,i;if(!e)throw new me;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vn;let{data:o,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new me;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);let c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),U(o)){let a={data:null,error:o};return Oi(o)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(e,r,i=!0){return b(this,null,function*(){let s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let o=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>b(this,null,function*(){try{yield c.callback(e,r)}catch(l){o.push(l)}}));if(yield Promise.all(a),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}})}_saveSession(e){return b(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Bt(this.userStorage,this.storageKey+"-user",{user:r.user}));let s=Object.assign({},r);delete s.user;let o=ta(s);yield Bt(this.storage,this.storageKey,o)}else{let s=ta(r);yield Bt(this.storage,this.storageKey,s)}})}_removeSession(){return b(this,null,function*(){this._debug("#_removeSession()"),yield Ze(this.storage,this.storageKey),yield Ze(this.storage,this.storageKey+"-code-verifier"),yield Ze(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Ze(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&le()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return b(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),St);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>b(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return b(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return b(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return b(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return b(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>b(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>b(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let s=Math.floor((i.expires_at*1e3-e)/St);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${St}ms, refresh threshold is ${Ti} ticks`),s<=Ti&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof xn)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return b(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!le()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>b(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return b(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>b(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return b(this,null,function*(){let s=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[o,a]=yield kt(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(i?.queryParams){let o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`})}_unenroll(e){return b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){var i;let{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):yield L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(e){return b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){var i,s;let{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=yield L(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}_verify(e){return b(this,null,function*(){return this._acquireLock(-1,()=>b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){var i;let{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});let a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Iu(e.webauthn.credential_response):Fu(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:l}=yield L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(e){return b(this,null,function*(){return this._acquireLock(-1,()=>b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){var i;let{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});let a=yield L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ku(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Ou(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(e){return b(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return b(this,null,function*(){var e;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let s={all:[],phone:[],totp:[],webauthn:[]};for(let o of(e=r?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}})}_getAuthenticatorAssuranceLevel(){return b(this,null,function*(){var e,r;let{data:{session:i},error:s}=yield this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:o}=ji(i.access_token),a=null;o.aal&&(a=o.aal);let c=a;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(e){return b(this,null,function*(){try{return yield this._useSession(r=>b(this,null,function*(){let{data:{session:i},error:s}=r;return s?this._returnResult({data:null,error:s}):i?yield L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new me})}))}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(e,r){return b(this,null,function*(){try{return yield this._useSession(i=>b(this,null,function*(){let{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new me});let a=yield L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&le()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(U(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(e,r){return b(this,null,function*(){try{return yield this._useSession(i=>b(this,null,function*(){let{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new me});let a=yield L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&le()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(U(i))return this._returnResult({data:null,error:i});throw i}})}fetchJwk(i){return b(this,arguments,function*(e,r={keys:[]}){let s=r.keys.find(l=>l.kid===e);if(s)return s;let o=Date.now();if(s=this.jwks.keys.find(l=>l.kid===e),s&&this.jwks_cached_at+nu>o)return s;let{data:a,error:c}=yield L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(l=>l.kid===e),!s)?null:s})}getClaims(i){return b(this,arguments,function*(e,r={}){try{let s=e;if(!s){let{data:m,error:x}=yield this.getSession();if(x||!m.session)return this._returnResult({data:null,error:x});s=m.session.access_token}let{header:o,payload:a,signature:c,raw:{header:l,payload:u}}=ji(s);r?.allowExpired||mu(a.exp);let d=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:m}=yield this.getUser(s);if(m)throw m;return{data:{claims:a,header:o,signature:c},error:null}}let h=yu(o.alg),f=yield crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,c,uu(`${l}.${u}`))))throw new Dt("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(s){if(U(s))return this._returnResult({data:null,error:s});throw s}})}}return n.nextInstanceID={},n})(),la=dp;var fp=la,ua=fp;var qi=class extends ua{constructor(t){super(t)}};var Hi=class{constructor(t,e,r){var i,s,o;this.supabaseUrl=t,this.supabaseKey=e;let a=Ql(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:Gl,realtime:Jl,auth:Object.assign(Object.assign({},Kl),{storageKey:c}),global:Vl},u=Xl(r??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Yl(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Bl(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new hn(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new en(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return b(this,null,function*(){var t,e;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:c,debug:l,throwOnError:u},d,h){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qi({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:c,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new an(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var ju=(n,t,e)=>new Hi(n,t,e);function pp(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}pp()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var K0=Aa(W0());var V0=3,G0=1,Ds=class n{supabase;constructor(){this.supabase=ju(Co.supabaseUrl,Co.supabaseKey)}loginParameter(t){return b(this,null,function*(){try{console.log("R\xE9cup\xE9ration du param\xE8tre Supabase pour",t);let{data:e,error:r}=yield this.supabase.from("Params").select("Valeur").eq("Nom",t).single();if(r)throw r.code==="PGRST116"?new Error("Param\xE8tre non trouv\xE9."):new Error(r.message);if(e)return console.log("Param\xE8tre r\xE9cup\xE9r\xE9 : ",e),e;throw new Error("Param\xE8tre non trouv\xE9.")}catch(e){throw console.error("Erreur Supabase:",e.message),e}})}borneCategorie(t,e){return b(this,null,function*(){try{console.log("R\xE9cup\xE9ration des bornes des cat\xE9gories pour la saison",t);let{data:r,error:i}=yield this.supabase.from("Categories").select("Code_Categorie").eq("Saison",t).order("Code_Categorie",{ascending:e}).limit(1);if(i)throw i.code==="PGRST116"?new Error("borneCategorie non trouv\xE9e."):new Error(i.message);if(r)return console.log("Categorie : ",e,r[0].Code_Categorie),r[0].Code_Categorie;throw new Error("borneCategorie non trouv\xE9e.")}catch(r){throw console.error("Erreur Supabase:",r.message),r}})}loadCategories(t){return b(this,null,function*(){try{console.log("R\xE9cup\xE9ration des cat\xE9gories pour la saison",t);let{data:e,error:r}=yield this.supabase.from("Categories").select("Code_Categorie, Nom_Categorie").eq("Saison",String(t)).order("Code_Categorie",{ascending:!0});if(r)throw r.code==="PGRST116"?new Error("Cat\xE9gories non trouv\xE9es."):new Error(r.message);if(e){console.log("Donn\xE9es des cat\xE9gories r\xE9cup\xE9r\xE9es : ",e);let i=e.map(s=>new ai(s.Code_Categorie,s.Nom_Categorie));return console.log("Cat\xE9gories charg\xE9es :",i),i}throw new Error("Cat\xE9gories non trouv\xE9es.")}catch(e){throw console.error("Erreur Supabase:",e.message),e}})}loginWithQuery(i,s){return b(this,arguments,function*(t,e,r=[]){try{let o=K0.SHA256(e).toString();console.log("Tentative de connexion Supabase pour",t,o);let{data:a,error:c}=yield this.supabase.from("Equipes").select(`Code_Equipe, Nom_Equipe, Code_Categorie,   Categories (
      "Nom_Categorie"
    ) `).eq("Nom_Equipe",t).eq("Mot2Passe",o).gte("Code_Categorie",Math.min(...r.map(l=>l.codeCategorie))).lte("Code_Categorie",Math.max(...r.map(l=>l.codeCategorie))).single();if(c)throw c.code==="PGRST116"?new Error("Identifiant ou mot de passe incorrect."):new Error(c.message);if(a)return console.log("Connexion Supabase r\xE9ussie pour",t,a),a;throw new Error("Identifiant ou mot de passe incorrect.")}catch(o){throw console.error("Erreur Supabase:",o.message),o}})}logout(){return b(this,null,function*(){let{error:t}=yield this.supabase.auth.signOut();if(t)throw new Error(t.message)})}getCurrentUser(){return b(this,null,function*(){let{data:{user:t}}=yield this.supabase.auth.getUser();return t})}loadEquipesClub(r){return b(this,arguments,function*(t,e=[]){try{let i=t.split(" - ")[0];console.log("R\xE9cup\xE9ration des \xE9quipes du club pour le club",i);let{data:s,error:o}=yield this.supabase.from("Equipes").select('Nom_Equipe, Code_Equipe, Code_Categorie, Categories ("Nom_Categorie") ').ilike("Nom_Equipe",i+" - %").gte("Code_Categorie",Math.min(...e.map(a=>a.codeCategorie))).lte("Code_Categorie",Math.max(...e.map(a=>a.codeCategorie))).order("Nom_Equipe",{ascending:!0});if(o)throw o.code==="PGRST116"?new Error("Probl\xE8me lors de la r\xE9cup\xE9ration des \xE9quipes du club."):new Error(o.message);if(s)return console.log("data equipes du club",s),s.map(c=>new Ne(c.Code_Equipe,c.Nom_Equipe,c.Code_Categorie,c.Categories.Nom_Categorie));throw new Error("Probl\xE8me lors de la r\xE9cup\xE9ration des \xE9quipes du club.")}catch(i){throw console.error("Erreur Supabase:",i.message),i}})}loadEquipes(t){return b(this,null,function*(){try{console.log("R\xE9cup\xE9ration des \xE9quipes de la saison");let{data:e,error:r}=yield this.supabase.from("Equipes").select('Nom_Equipe, Code_Equipe, Code_Categorie, Categories ("Nom_Categorie") ').gte("Code_Categorie",Math.min(...t.map(i=>i.codeCategorie))).lte("Code_Categorie",Math.max(...t.map(i=>i.codeCategorie))).order("Nom_Equipe",{ascending:!0});if(r)throw r.code==="PGRST116"?new Error("Probl\xE8me lors de la r\xE9cup\xE9ration des \xE9quipes du club."):new Error(r.message);if(e)return console.log("Equipes",e),e.map(s=>new Ne(s.Code_Equipe,s.Nom_Equipe,s.Code_Categorie,s.Categories.Nom_Categorie));throw new Error("Probl\xE8me lors de la r\xE9cup\xE9ration des \xE9quipes.")}catch(e){throw console.error("Erreur Supabase:",e.message),e}})}loadMatchsEquipe(t){return b(this,null,function*(){try{console.log("R\xE9cup\xE9ration des matchs pour l'\xE9quipe",t);let{data:e,error:r}=yield this.supabase.from("MatchsEquipe").select("Lieu, CodeAdversaire, Adversaire, Date, SetsPour, SetsContre").eq("EquipeChoisie",t).order("Date",{ascending:!0});if(r)throw r.code==="PGRST116"?new Error("Identifiant ou mot de passe incorrect."):new Error(r.message);if(e)return console.log("Matchs r\xE9cup\xE9r\xE9s pour l'\xE9quipe",t,e),e;throw new Error("Identifiant ou mot de passe incorrect.")}catch(e){throw console.error("Erreur Supabase:",e.message),e}})}loadScoreMatch(t,e){return b(this,null,function*(){try{console.log("R\xE9cup\xE9ration du score pour le match",t,e);let{data:r,error:i}=yield this.supabase.from("Matchs").select("Sets_Domicile, Sets_Exterieur, S1D, S2D, S3D, S4D, S5D, S1E, S2E, S3E, S4E, S5E").eq("Equipe_Domicile",t).eq("Equipe_Exterieure",e).single();if(i)throw i.code==="PGRST116"?new Error("Identifiant ou mot de passe incorrect."):new Error(i.message);if(r)return console.log("Score r\xE9cup\xE9r\xE9 pour le match",t,e,r),r;throw new Error("Identifiant ou mot de passe incorrect.")}catch(r){throw console.error("Erreur Supabase:",r.message),r}})}enregistrerScoreMatch(t,e,r,i,s){return b(this,null,function*(){try{console.log("Enregistrement du score pour le match",r,s);let o={};o.Sets_Domicile=i[0],o.Sets_Exterieur=i[1];let a=new Date().toISOString().split("T")[0];t=="D"?(o.VD=!0,o.VD_DATE=a):(o.VE=!0,o.VE_DATE=a),s.forEach((c,l)=>{if(c[0]!=-1){let u=l+1;o[`S${u}D`]=c[0],o[`S${u}E`]=c[1]}}),yield this.supabase.from("Matchs").update(o).eq("Equipe_Domicile",e).eq("Equipe_Exterieure",r),console.log("Score enregistr\xE9 avec succ\xE8s pour le match")}catch(o){throw console.error("Erreur Supabase lors de l'enregistrement du score:",o.message),o}})}chargeClassementCategorie(t){return b(this,null,function*(){try{console.log("Chargement du classement pour la cat\xE9gorie",t);let{data:e,error:r}=yield this.supabase.from("Equipes").select("Code_Equipe, Nom_Equipe").eq("Code_Categorie",t).order("Code_Equipe");if(r)throw r.code==="PGRST116"?new Error("Identifiant ou mot de passe incorrect."):new Error(r.message);if(e){console.log("Classement r\xE9cup\xE9r\xE9 pour la cat\xE9gorie",t,e);let i=[];e.forEach(o=>{i.push({points:0,gas:0,gap:0,codeEquipe:o.Code_Equipe,nbJoues:0,nbGagnes:0,nbPerdus:0,nbForfaits:0,penalites:0,nomEquipe:o.Nom_Equipe})}),console.log("Tableau du classement construit :",i);let s=i.length;for(let o=0;o<s;o++){let a=i[o].codeEquipe,{data:c,error:l}=yield this.supabase.from("Matchs").select("Equipe_Exterieure, Sets_Domicile, Sets_Exterieur, S1D, S1E, S2D, S2E, S3D, S3E, S4D, S4E, S5D, S5E").eq("Equipe_Domicile",a);if(l){console.error("Erreur Supabase :",l);continue}for(let u of c){let d=u.Equipe_Exterieure-u.Equipe_Exterieure+s-1,h=u.Sets_Domicile,f=u.Sets_Exterieur,p=0,m="",x=this.chercheGagnantPoints(u,"D","E",g=>{p=g},g=>{m=g});(h!==0||f!==0)&&(i[o].nbJoues+=1,i[d].nbJoues+=1,x==="D"?(i[o].points+=V0,i[o].gas+=h-f,i[o].gap+=p,i[o].nbGagnes+=1,m==="E"?i[d].nbForfaits+=1:(i[d].points+=G0,i[d].nbPerdus+=1),i[d].gas-=h-f,i[d].gap-=p):x==="E"&&(m==="D"?i[o].nbForfaits+=1:(i[o].points+=G0,i[o].nbPerdus+=1),i[o].gas-=f-h,i[o].gap+=p,i[d].points+=V0,i[d].gas+=f-h,i[d].gap-=p,i[d].nbGagnes+=1))}}return console.log("Tableau du classement mis \xE0 jour :",i),i.sort((o,a)=>a.points!==o.points?a.points-o.points:a.gas!==o.gas?a.gas-o.gas:a.gap-o.gap),console.log("Tableau du classement tri\xE9 :",i),i}throw new Error("Identifiant ou mot de passe incorrect.")}catch(e){throw console.error("Erreur Supabase:",e.message),e}})}chercheGagnantPoints(t,e,r,i,s){if(t.Sets_Domicile===null)return null;let o=0,a=0,c="";for(let d=1;d<=5;d++){let h=`S${d}${e}`,f=`S${d}${r}`;o+=t[h]??0,a+=t[f]??0,d===1&&(o===25&&a===0&&(c="E"),a===25&&o===0&&(c="D"))}s(c);let l=o-a;i(l);let u=t.Sets_Domicile-t.Sets_Exterieur;return u>0?"D":u<0?"E":o>a?"D":"E"}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};var J0=class n{constructor(t,e,r){this.supabase=t;this.appMessage=e;this.router=r}SaisonCourante="";CodeCat\u00E9gorieInf=0;CodeCat\u00E9gorieSup=0;equipeConnectee=new Ne(0,"",0,"");isConnected=!1;pouleSelected="";saisonParsed$=new ie({startYear:"",endYear:""});Categories=[];saisonParsed=this.saisonParsed$.asObservable();isConnectedSubject=new ie(!1);isConnected$=this.isConnectedSubject.asObservable();equipeConnecteeSubject=new ie(new Ne(0,"",0,""));equipeConnectee$=this.equipeConnecteeSubject.asObservable();categoriesSubject=new ie([]);categories$=this.categoriesSubject.asObservable();equipesSubject=new ie([]);equipes$=this.equipesSubject.asObservable();equipesAllSubject=new ie([]);equipesAll$=this.equipesAllSubject.asObservable();matchsSubject=new ie([]);matchs$=this.matchsSubject.asObservable();scoreMatchSubject=new ie(null);scoreMatch$=this.scoreMatchSubject.asObservable();classementSubject=new ie([]);classement$=this.classementSubject.asObservable();disconnect(){this.isConnected=!1,this.isConnectedSubject.next(this.isConnected),this.equipeConnectee=new Ne(0,"",0,""),this.equipeConnecteeSubject.next(this.equipeConnectee),this.appMessage.clear(),this.router.navigate(["/"])}loginWithUserAndPassword(t,e){console.log("Tentative de connexion Supabase pour",t,this.Categories),this.supabase.loginWithQuery(t,e,this.Categories).then(r=>{console.log("Connexion Global r\xE9ussie pour",t,r),this.equipeConnectee=new Ne(r.Code_Equipe,r.Nom_Equipe,r.Code_Categorie,r.Categories.Nom_Categorie),this.isConnected=!0,this.isConnectedSubject.next(this.isConnected),this.appMessage.show(this.equipeConnectee.nom+" ("+this.equipeConnectee.nomCategorie+")",0),this.router.navigate(["matchs"])}).catch(r=>{console.error("Erreur Supabase:",r.message),this.appMessage.show("Erreur: "+r.message,5e3)})}getParsedSaison(){let t=this.SaisonCourante.split(/[\/\-]/),e={startYear:t[0]?.trim()||"",endYear:t[1]?.trim()||""};return this.saisonParsed$.next(e),e}setSaison(){this.supabase.loginParameter("SaisonCourante").then(t=>{this.SaisonCourante=t.Valeur,this.getParsedSaison(),this.supabase.loadCategories(this.SaisonCourante).then(e=>{this.Categories=e,console.log("Cat\xE9gories charg\xE9es dans GlobalService :",this.Categories)})})}getSaison(){return this.SaisonCourante}loadAllEquipes(){this.supabase.loadEquipes(this.Categories).then(t=>{this.equipesAllSubject.next(t),console.log("Equipes charg\xE9es dans GlobalService :",t)})}getAllEquipes(){return this.equipesAll$}loadMatchsEquipe(){this.supabase.loadMatchsEquipe(this.equipeConnectee.code).then(t=>{this.matchsSubject.next(t),console.log("Matchs charg\xE9s dans GlobalService :",t)})}getMatchs(){return this.matchs$}loadScoreMatch(t,e){t=="D"?this.supabase.loadScoreMatch(this.equipeConnectee.code,e).then(r=>{console.log("Score charg\xE9 dans GlobalService :",r),this.scoreMatchSubject.next(r)}):this.supabase.loadScoreMatch(e,this.equipeConnectee.code).then(r=>{console.log("Score charg\xE9 dans GlobalService :",r),this.scoreMatchSubject.next(r)})}getScoreMatch(){return this.scoreMatch$}getEquipeConnecteeO(){return this.equipeConnectee$}getEquipeConnectee(){return this.equipeConnectee}getIsConnected(){return this.isConnected$}initEquipeConnectee(){this.equipeConnectee=new Ne(0,"",0,"")}loadCategories(t){this.supabase.loadCategories(t).then(e=>{this.categoriesSubject.next(e),console.log("Cat\xE9gories charg\xE9es dans GlobalService :",e)})}getCategories(){return this.categories$}loadEquipes(){this.supabase.loadEquipesClub(this.equipeConnectee.nom,this.Categories).then(t=>{this.equipesSubject.next(t),console.log("Equipes charg\xE9es dans GlobalService pour :",this.equipeConnectee.nom,t)})}getEquipes(){return this.equipes$}setPouleSelected(t){this.pouleSelected=t}getPouleSelected(){return this.pouleSelected}logDebug(...t){yl.production||console.log(...t)}enregistrerScoreMatch(t,e,r,i,s){this.logDebug("GlobalService: enregistrerScoreMatch",e,r,s),this.supabase.enregistrerScoreMatch(t,e,r,i,s).then(()=>{console.log("Score enregistr\xE9 avec succ\xE8s")})}chargeClassementCategorie(t){return this.supabase.chargeClassementCategorie(t).then(e=>{this.classementSubject.next(e),console.log("Classement charg\xE9 dans GlobalService :",e)})}getClassementCategorie(){return console.log("GlobalService: getClassementCategorie appel\xE9",this.classement$),this.classement$}static \u0275fac=function(e){return new(e||n)(Q(Ds),Q(oi),Q(bt))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})};export{Qs as a,bh as b,yo as c,bt as d,ml as e,sf as f,yl as g,oi as h,Ds as i,J0 as j};
