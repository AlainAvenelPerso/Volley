import{a as $c}from"./chunk-4AAIT3N4.js";import{E as Kc}from"./chunk-XZF6V46N.js";import{n as Or}from"./chunk-UWURSAGK.js";import{a as Vc,b as xc,c as Lc,d as Fc,e as Uc,f as Bc,g as qc,h as jc,i as zc,j as Wc}from"./chunk-UB54C472.js";import{$ as Mn,Aa as ds,Ab as Ee,Bb as Xt,Bc as Oc,Ca as Nr,Da as ht,Dc as Mc,E as wt,Fb as ms,Hb as Tt,Jb as Ln,L as ut,La as Ic,M as hs,Ma as fs,Ra as Yt,S as Gt,Sb as kc,Ub as Qe,Va as Tc,Vb as gs,Wb as Dc,Xa as Te,_a as bc,a as ke,ab as Jt,b as On,ca as mc,d as dc,da as gc,ea as V,fa as _c,fb as Ac,gc as Zt,h as P,ha as He,hc as en,k as Ge,ka as Ht,kc as Nc,la as It,ma as me,n as kr,na as Qt,nb as Sc,oa as yc,pb as ps,pc as Fn,q as fc,qa as vc,r as pc,ra as Dr,rb as Pc,sa as Vn,sb as Rc,t as cs,ta as xn,tb as Cc,ua as lt,va as Ec,w as Ad,x as us,y as ls,za as wc,zb as be}from"./chunk-CK6SMEMT.js";var Gc=()=>{};var Yc=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Sd=function(n){let e=[],t=0,r=0;for(;t<n.length;){let s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){let o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){let o=n[t++],c=n[t++],l=n[t++],d=((s&7)<<18|(o&63)<<12|(c&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{let o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Mr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){let o=n[s],c=s+1<n.length,l=c?n[s+1]:0,d=s+2<n.length,f=d?n[s+2]:0,T=o>>2,A=(o&3)<<4|l>>4,b=(l&15)<<2|f>>6,C=f&63;d||(C=64,c||(b=64)),r.push(t[T],t[A],t[b],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Yc(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Sd(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){let o=t[n.charAt(s++)],l=s<n.length?t[n.charAt(s)]:0;++s;let f=s<n.length?t[n.charAt(s)]:64;++s;let A=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||l==null||f==null||A==null)throw new ys;let b=o<<2|l>>4;if(r.push(b),f!==64){let C=l<<4&240|f>>2;if(r.push(C),A!==64){let S=f<<6&192|A;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ys=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Pd=function(n){let e=Yc(n);return Mr.encodeByteArray(e,!0)},Bn=function(n){return Pd(n).replace(/\./g,"")},Vr=function(n){try{return Mr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Es(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Rd=()=>Es().__FIREBASE_DEFAULTS__,Cd=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kd=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Vr(n[1]);return e&&JSON.parse(e)},ws=()=>{try{return Gc()||Rd()||Cd()||kd()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Jc=n=>{var e,t;return(t=(e=ws())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Xc=n=>{let e=Jc(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Is=()=>{var n;return(n=ws())===null||n===void 0?void 0:n.config},Zc=n=>{var e;return(e=ws())===null||e===void 0?void 0:e[`_${n}`]};var bt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function tn(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ts(n){return P(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function eu(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bn(JSON.stringify(t)),Bn(JSON.stringify(c)),""].join(".")}var Un={};function Dd(){let n={prod:[],emulator:[]};for(let e of Object.keys(Un))Un[e]?n.emulator.push(e):n.prod.push(e);return n}function Nd(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Hc=!1;function bs(n,e){if(typeof window>"u"||typeof document>"u"||!tn(window.location.host)||Un[n]===e||Un[n]||Hc)return;Un[n]=e;function t(b){return`__firebase__banner__${b}`}let r="__firebase__banner",o=Dd().prod.length>0;function c(){let b=document.getElementById(r);b&&b.remove()}function l(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){let b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Hc=!0,c()},b}function T(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){let b=Nd(r),C=t("text"),S=document.getElementById(C)||document.createElement("span"),k=t("learnmore"),M=document.getElementById(k)||document.createElement("a"),j=t("preprendIcon"),L=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){let U=b.element;l(U),T(M,k);let W=f();d(L,j),U.append(L,S,M,W),document.body.appendChild(U)}o?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Se(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function nu(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ru(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qn(){try{return typeof indexedDB=="object"}catch{return!1}}function su(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Od="FirebaseError",Ae=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Od,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}},De=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?Md(o,r):"Error",l=`${this.serviceName}: ${c} (${s}).`;return new Ae(s,l,r)}};function Md(n,e){return n.replace(Vd,(t,r)=>{let s=e[r];return s!=null?String(s):`<${r}?>`})}var Vd=/\{\$([^}]+)}/g;function At(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let s of t){if(!r.includes(s))return!1;let o=n[s],c=e[s];if(Qc(o)&&Qc(c)){if(!At(o,c))return!1}else if(o!==c)return!1}for(let s of r)if(!t.includes(s))return!1;return!0}function Qc(n){return n!==null&&typeof n=="object"}function As(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ou(n,e){let t=new vs(n,e);return t.subscribe.bind(t)}var vs=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xd(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=_s),s.error===void 0&&(s.error=_s),s.complete===void 0&&(s.complete=_s);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function xd(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _s(){}var H_=14400*1e3;function St(n){return n&&n._delegate?n._delegate:n}var de=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Pt="[DEFAULT]";var Ss=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new bt;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fd(e))try{this.getOrInitializeService({instanceIdentifier:Pt})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Pt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return P(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Pt){return this.instances.has(e)}getOptions(e=Pt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,c]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);r===l&&c.resolve(s)}return s}onInit(e,t){var r;let s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);let c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ld(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pt){return this.component?this.component.multipleInstances?e:Pt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ld(n){return n===Pt?void 0:n}function Fd(n){return n.instantiationMode==="EAGER"}var xr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ss(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Ud=[],K=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(K||{}),Bd={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},qd=K.INFO,$d={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},jd=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),s=$d[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Fe=class{constructor(e){this.name=e,this._logLevel=qd,this._logHandler=jd,this._userLogHandler=null,Ud.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bd[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}};var zd=(n,e)=>e.some(t=>n instanceof t),au,cu;function Wd(){return au||(au=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kd(){return cu||(cu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uu=new WeakMap,Rs=new WeakMap,lu=new WeakMap,Ps=new WeakMap,ks=new WeakMap;function Gd(n){let e=new Promise((t,r)=>{let s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Ue(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&uu.set(t,n)}).catch(()=>{}),ks.set(e,n),e}function Hd(n){if(Rs.has(n))return;let e=new Promise((t,r)=>{let s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Rs.set(n,e)}var Cs={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rs.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lu.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ue(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hu(n){Cs=n(Cs)}function Qd(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Lr(this),e,...t);return lu.set(r,e.sort?e.sort():[e]),Ue(r)}:Kd().includes(n)?function(...e){return n.apply(Lr(this),e),Ue(uu.get(this))}:function(...e){return Ue(n.apply(Lr(this),e))}}function Yd(n){return typeof n=="function"?Qd(n):(n instanceof IDBTransaction&&Hd(n),zd(n,Wd())?new Proxy(n,Cs):n)}function Ue(n){if(n instanceof IDBRequest)return Gd(n);if(Ps.has(n))return Ps.get(n);let e=Yd(n);return e!==n&&(Ps.set(n,e),ks.set(e,n)),e}var Lr=n=>ks.get(n);function fu(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){let c=indexedDB.open(n,e),l=Ue(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Ue(c.result),d.oldVersion,d.newVersion,Ue(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),l.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}var Jd=["get","getKey","getAll","getAllKeys","count"],Xd=["put","add","delete","clear"],Ds=new Map;function du(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ds.get(e))return Ds.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,s=Xd.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Jd.includes(t)))return;let o=function(c,...l){return P(this,null,function*(){let d=this.transaction(c,s?"readwrite":"readonly"),f=d.store;return r&&(f=f.index(l.shift())),(yield Promise.all([f[t](...l),s&&d.done]))[0]})};return Ds.set(e,o),o}hu(n=>On(ke({},n),{get:(e,t,r)=>du(e,t)||n.get(e,t,r),has:(e,t)=>!!du(e,t)||n.has(e,t)}));var Os=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Zd(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Zd(n){let e=n.getComponent();return e?.type==="VERSION"}var Ms="@firebase/app",pu="0.13.2";var Ye=new Fe("@firebase/app"),ef="@firebase/app-compat",tf="@firebase/analytics-compat",nf="@firebase/analytics",rf="@firebase/app-check-compat",sf="@firebase/app-check",of="@firebase/auth",af="@firebase/auth-compat",cf="@firebase/database",uf="@firebase/data-connect",lf="@firebase/database-compat",hf="@firebase/functions",df="@firebase/functions-compat",ff="@firebase/installations",pf="@firebase/installations-compat",mf="@firebase/messaging",gf="@firebase/messaging-compat",_f="@firebase/performance",yf="@firebase/performance-compat",vf="@firebase/remote-config",Ef="@firebase/remote-config-compat",wf="@firebase/storage",If="@firebase/storage-compat",Tf="@firebase/firestore",bf="@firebase/ai",Af="@firebase/firestore-compat",Sf="firebase",Pf="11.10.0";var Vs="[DEFAULT]",Rf={[Ms]:"fire-core",[ef]:"fire-core-compat",[nf]:"fire-analytics",[tf]:"fire-analytics-compat",[sf]:"fire-app-check",[rf]:"fire-app-check-compat",[of]:"fire-auth",[af]:"fire-auth-compat",[cf]:"fire-rtdb",[uf]:"fire-data-connect",[lf]:"fire-rtdb-compat",[hf]:"fire-fn",[df]:"fire-fn-compat",[ff]:"fire-iid",[pf]:"fire-iid-compat",[mf]:"fire-fcm",[gf]:"fire-fcm-compat",[_f]:"fire-perf",[yf]:"fire-perf-compat",[vf]:"fire-rc",[Ef]:"fire-rc-compat",[wf]:"fire-gcs",[If]:"fire-gcs-compat",[Tf]:"fire-fst",[Af]:"fire-fst-compat",[bf]:"fire-vertex","fire-js":"fire-js",[Sf]:"fire-js-all"};var $n=new Map,Cf=new Map,xs=new Map;function mu(n,e){try{n.container.addComponent(e)}catch(t){Ye.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ne(n){let e=n.name;if(xs.has(e))return Ye.debug(`There were multiple attempts to register component ${e}.`),!1;xs.set(e,n);for(let t of $n.values())mu(t,n);for(let t of Cf.values())mu(t,n);return!0}function Fr(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Je(n){return n==null?!1:n.settings!==void 0}var kf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dt=new De("app","Firebase",kf);var Ls=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new de("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dt.create("app-deleted",{appName:this._name})}};var nn=Pf;function Bs(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Vs,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw dt.create("bad-app-name",{appName:String(s)});if(t||(t=Is()),!t)throw dt.create("no-options");let o=$n.get(s);if(o){if(At(t,o.options)&&At(r,o.config))return o;throw dt.create("duplicate-app",{appName:s})}let c=new xr(s);for(let d of xs.values())c.addComponent(d);let l=new Ls(t,r,c);return $n.set(s,l),l}function rn(n=Vs){let e=$n.get(n);if(!e&&n===Vs&&Is())return Bs();if(!e)throw dt.create("no-app",{appName:n});return e}function Ur(){return Array.from($n.values())}function re(n,e,t){var r;let s=(r=Rf[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);let o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){let l=[`Unable to register library "${s}" with version "${e}":`];o&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&l.push("and"),c&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ye.warn(l.join(" "));return}Ne(new de(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}var Df="firebase-heartbeat-database",Nf=1,jn="firebase-heartbeat-store",Ns=null;function vu(){return Ns||(Ns=fu(Df,Nf,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jn)}catch(t){console.warn(t)}}}}).catch(n=>{throw dt.create("idb-open",{originalErrorMessage:n.message})})),Ns}function Of(n){return P(this,null,function*(){try{let t=(yield vu()).transaction(jn),r=yield t.objectStore(jn).get(Eu(n));return yield t.done,r}catch(e){if(e instanceof Ae)Ye.warn(e.message);else{let t=dt.create("idb-get",{originalErrorMessage:e?.message});Ye.warn(t.message)}}})}function gu(n,e){return P(this,null,function*(){try{let r=(yield vu()).transaction(jn,"readwrite");yield r.objectStore(jn).put(e,Eu(n)),yield r.done}catch(t){if(t instanceof Ae)Ye.warn(t.message);else{let r=dt.create("idb-set",{originalErrorMessage:t?.message});Ye.warn(r.message)}}})}function Eu(n){return`${n.name}!${n.options.appId}`}var Mf=1024,Vf=30,Fs=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Us(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return P(this,null,function*(){var e,t;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_u();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>Vf){let c=Lf(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ye.warn(r)}})}getHeartbeatsHeader(){return P(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=_u(),{heartbeatsToSend:r,unsentEntries:s}=xf(this._heartbeatsCache.heartbeats),o=Bn(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ye.warn(t),""}})}};function _u(){return new Date().toISOString().substring(0,10)}function xf(n,e=Mf){let t=[],r=n.slice();for(let s of n){let o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),yu(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),yu(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Us=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(this,null,function*(){return qn()?su().then(()=>!0).catch(()=>!1):!1})}read(){return P(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Of(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return gu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return gu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return})}};function yu(n){return Bn(JSON.stringify({version:2,heartbeats:n})).length}function Lf(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Ff(n){Ne(new de("platform-logger",e=>new Os(e),"PRIVATE")),Ne(new de("heartbeat",e=>new Fs(e),"PRIVATE")),re(Ms,pu,n),re(Ms,pu,"esm2017"),re("fire-js","")}Ff("");var Uf="firebase",Bf="11.10.0";re(Uf,Bf,"app");function wu(n){n===void 0&&(n=me(lt));let e=n.get(Nr);return t=>new Ge(r=>{let s=e.add(),o=!1;function c(){o||(s(),o=!0)}let l=t.subscribe({next:d=>{r.next(d),c()},complete:()=>{r.complete(),c()},error:d=>{r.error(d),c()}});return l.add(()=>{r.unsubscribe(),c()}),l})}var Ct=new mc("ANGULARFIRE2_VERSION");function $r(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(c=>c.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var on=(n,e)=>{let t=e?[e]:Ur(),r=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r},sn=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(sn||{}),Iu=Fn()&&typeof Zone<"u"?sn.WARN:sn.SILENT;var Br=class{zone;delegate;constructor(e,t=pc){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let s=this.zone,o=function(c){s?s.runGuarded(()=>{e.apply(this,[c])}):e.apply(this,[c])};return this.delegate.schedule(o,t,r)}},kt=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=me(Te);this.outsideAngular=t.runOutsideAngular(()=>new Br(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Br(typeof Zone>"u"?void 0:Zone.current,fc))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tu=!1;function qf(n,e){!Tu&&(Iu>sn.SILENT||Fn())&&(Tu=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Iu>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function $f(n){let e=me(Te,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Rt(n){let e=me(Te,{optional:!0});return e?e.run(()=>n()):n()}var jf=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Dr(t,()=>Rt(()=>n.apply(void 0,r)))),Dt=(n,e,t)=>(t||=e?sn.WARN:sn.VERBOSE,function(){let r,s=arguments,o,c,l;try{o=me(kt),c=me(Nr),l=me(vc)}catch{return qf(n,t),n.apply(this,s)}for(let f=0;f<arguments.length;f++)typeof s[f]=="function"&&(e&&(r||=Rt(()=>c.add())),s[f]=jf(s[f],r,l));let d=$f(()=>n.apply(this,s));return e?d instanceof Ge?d.pipe(ls(o.outsideAngular),us(o.insideAngular),wu(l)):d instanceof Promise?Rt(()=>{let f=c.add();return new Promise((T,A)=>{d.then(b=>Dr(l,()=>Rt(()=>T(b))),b=>Dr(l,()=>Rt(()=>A(b)))).finally(f)})}):typeof d=="function"&&r?function(){return setTimeout(r,0),d.apply(this,arguments)}:Rt(()=>d):d instanceof Ge?d.pipe(ls(o.outsideAngular),us(o.insideAngular)):Rt(()=>d)});var Nt=class{constructor(e){return e}},zn=class{constructor(){return Ur()}};function zf(n){return n&&n.length===1?n[0]:new Nt(rn())}var qs=new Ht("angularfire2._apps"),Wf={provide:Nt,useFactory:zf,deps:[[new ht,qs]]},Kf={provide:zn,deps:[[new ht,qs]]};function Gf(n){return(e,t)=>{let r=t.get(Ic);re("angularfire",Ct.full,"core"),re("angularfire",Ct.full,"app"),re("angular",gc.full,r.toString());let s=e.runOutsideAngular(()=>n(t));return new Nt(s)}}function bu(n,...e){return Qt([Wf,Kf,{provide:qs,useFactory:Gf(n),multi:!0,deps:[Te,lt,kt,...e]}])}var Au=Dt(Bs,!0);var Hf=new Map,Qf={activated:!1,tokenObservers:[]},Yf={initialized:!1,enabled:!1};function Oe(n){return Hf.get(n)||Object.assign({},Qf)}function Cu(){return Yf}var Jf="https://content-firebaseappcheck.googleapis.com/v1";var Xf="exchangeDebugToken",Su={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Xy=1440*60*1e3;var zs=class{constructor(e,t,r,s,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=s,s>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return P(this,null,function*(){this.stop();try{this.pending=new bt,this.pending.promise.catch(t=>{}),yield Zf(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new bt,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Zf(n){return new Promise(e=>{setTimeout(e,n)})}var ep={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ft=new De("appCheck","AppCheck",ep);function ku(n){if(!Oe(n).activated)throw ft.create("use-before-activation",{appName:n.name})}function Du(r,s){return P(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){let C=yield c.getHeartbeatsHeader();C&&(o["X-Firebase-Client"]=C)}let l={method:"POST",body:JSON.stringify(e),headers:o},d;try{d=yield fetch(n,l)}catch(C){throw ft.create("fetch-network-error",{originalErrorMessage:C?.message})}if(d.status!==200)throw ft.create("fetch-status-error",{httpStatus:d.status});let f;try{f=yield d.json()}catch(C){throw ft.create("fetch-parse-error",{originalErrorMessage:C?.message})}let T=f.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw ft.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});let A=Number(T[1])*1e3,b=Date.now();return{token:f.token,expireTimeMillis:b+A,issuedAtTimeMillis:b}})}function Nu(n,e){let{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${Jf}/projects/${t}/apps/${r}:${Xf}?key=${s}`,body:{debug_token:e}}}var tp="firebase-app-check-database",np=1,Ws="firebase-app-check-store";var jr=null;function rp(){return jr||(jr=new Promise((n,e)=>{try{let t=indexedDB.open(tp,np);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(ft.create("storage-open",{originalErrorMessage:(s=r.target.error)===null||s===void 0?void 0:s.message}))},t.onupgradeneeded=r=>{let s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(Ws,{keyPath:"compositeKey"})}}}catch(t){e(ft.create("storage-open",{originalErrorMessage:t?.message}))}}),jr)}function ip(n,e){return sp(op(n),e)}function sp(n,e){return P(this,null,function*(){let r=(yield rp()).transaction(Ws,"readwrite"),o=r.objectStore(Ws).put({compositeKey:n,value:e});return new Promise((c,l)=>{o.onsuccess=d=>{c()},r.onerror=d=>{var f;l(ft.create("storage-set",{originalErrorMessage:(f=d.target.error)===null||f===void 0?void 0:f.message}))}})})}function op(n){return`${n.options.appId}-${n.name}`}var Wn=new Fe("@firebase/app-check");function $s(n,e){return qn()?ip(n,e).catch(t=>{Wn.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ou(){return Cu().enabled}function Mu(){return P(this,null,function*(){let n=Cu();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var ap={error:"UNKNOWN_ERROR"};function cp(n){return Mr.encodeString(JSON.stringify(n),!1)}function Ks(n,e=!1,t=!1){return P(this,null,function*(){let r=n.app;ku(r);let s=Oe(r),o=s.token,c;if(o&&!Kn(o)&&(s.token=void 0,o=void 0),!o){let f=yield s.cachedTokenPromise;f&&(Kn(f)?o=f:yield $s(r,void 0))}if(!e&&o&&Kn(o))return{token:o.token};let l=!1;if(Ou())try{s.exchangeTokenPromise||(s.exchangeTokenPromise=Du(Nu(r,yield Mu()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),l=!0);let f=yield s.exchangeTokenPromise;return yield $s(r,f),s.token=f,{token:f.token}}catch(f){return f.code==="appCheck/throttled"||f.code==="appCheck/initial-throttle"?Wn.warn(f.message):t&&Wn.error(f),js(f)}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),l=!0),o=yield Oe(r).exchangeTokenPromise}catch(f){f.code==="appCheck/throttled"||f.code==="appCheck/initial-throttle"?Wn.warn(f.message):t&&Wn.error(f),c=f}let d;return o?c?Kn(o)?d={token:o.token,internalError:c}:d=js(c):(d={token:o.token},s.token=o,yield $s(r,o)):d=js(c),l&&dp(r,d),d})}function up(n){return P(this,null,function*(){let e=n.app;ku(e);let{provider:t}=Oe(e);if(Ou()){let r=yield Mu(),{token:s}=yield Du(Nu(e,r),n.heartbeatServiceProvider);return{token:s}}else{let{token:r}=yield t.getToken();return{token:r}}})}function lp(n,e,t,r){let{app:s}=n,o=Oe(s),c={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,c],o.token&&Kn(o.token)){let l=o.token;Promise.resolve().then(()=>{t({token:l.token}),Pu(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Pu(n))}function Vu(n,e){let t=Oe(n),r=t.tokenObservers.filter(s=>s.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Pu(n){let{app:e}=n,t=Oe(e),r=t.tokenRefresher;r||(r=hp(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hp(n){let{app:e}=n;return new zs(()=>P(null,null,function*(){let t=Oe(e),r;if(t.token?r=yield Ks(n,!0):r=yield Ks(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Oe(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,s=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,s),Math.max(0,r-Date.now())}else return 0},Su.RETRIAL_MIN_WAIT,Su.RETRIAL_MAX_WAIT)}function dp(n,e){let t=Oe(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Kn(n){return n.expireTimeMillis-Date.now()>0}function js(n){return{token:cp(ap),error:n}}var Gs=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Oe(this.app);for(let t of e)Vu(this.app,t.next);return Promise.resolve()}};function fp(n,e){return new Gs(n,e)}function pp(n){return{getToken:e=>Ks(n,e),getLimitedUseToken:()=>up(n),addTokenListener:e=>lp(n,"INTERNAL",e),removeTokenListener:e=>Vu(n.app,e)}}var mp="@firebase/app-check",gp="0.10.1";var _p="app-check",Ru="app-check-internal";function yp(){Ne(new de(_p,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return fp(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ru).initialize()})),Ne(new de(Ru,n=>{let e=n.getProvider("app-check").getImmediate();return pp(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),re(mp,gp)}yp();var vp="app-check";var zr=class{constructor(){return on(vp)}};var Ep=["localhost","0.0.0.0","127.0.0.1"],hv=typeof window<"u"&&Ep.includes(window.location.hostname);Ad();function ju(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zu=ju,Wu=new De("auth","Firebase",ju());var Hr=new Fe("@firebase/auth");function Ip(n,...e){Hr.logLevel<=K.WARN&&Hr.warn(`Auth (${nn}): ${n}`,...e)}function Kr(n,...e){Hr.logLevel<=K.ERROR&&Hr.error(`Auth (${nn}): ${n}`,...e)}function xu(n,...e){throw so(n,...e)}function io(n,...e){return so(n,...e)}function Ku(n,e,t){let r=Object.assign(Object.assign({},zu()),{[e]:t});return new De("auth","Firebase",r).create(e,{appName:n.name})}function Gr(n){return Ku(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function so(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Wu.create(n,...e)}function G(n,e,...t){if(!n)throw so(e,...t)}function Gn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Kr(e),new Error(e)}function Qr(n,e){n||Gn(e)}function Tp(){return Lu()==="http:"||Lu()==="https:"}function Lu(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function bp(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tp()||ru()||"connection"in navigator)?navigator.onLine:!0}function Ap(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Vt=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qr(t>e,"Short delay should be less than long delay!"),this.isMobile=tu()||iu()}get(){return bp()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Sp(n,e){Qr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Yr=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Pp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Rp=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cp=new Vt(3e4,6e4);function Gu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ti(o,c,l,d){return P(this,arguments,function*(n,e,t,r,s={}){return Hu(n,s,()=>P(null,null,function*(){let f={},T={};r&&(e==="GET"?T=r:f={body:JSON.stringify(r)});let A=As(Object.assign({key:n.config.apiKey},T)).slice(1),b=yield n._getAdditionalHeaders();b["Content-Type"]="application/json",n.languageCode&&(b["X-Firebase-Locale"]=n.languageCode);let C=Object.assign({method:e,headers:b},f);return nu()||(C.referrerPolicy="no-referrer"),n.emulatorConfig&&tn(n.emulatorConfig.host)&&(C.credentials="include"),Yr.fetch()(yield Qu(n,n.config.apiHost,t,A),C)}))})}function Hu(n,e,t){return P(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Pp),e);try{let s=new Ys(n),o=yield Promise.race([t(),s.promise]);s.clearNetworkTimeout();let c=yield o.json();if("needConfirmation"in c)throw Wr(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{let l=o.ok?c.errorMessage:c.error.message,[d,f]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wr(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Wr(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw Wr(n,"user-disabled",c);let T=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Ku(n,T,f);xu(n,T)}}catch(s){if(s instanceof Ae)throw s;xu(n,"network-request-failed",{message:String(s)})}})}function Qu(n,e,t,r){return P(this,null,function*(){let s=`${e}${t}?${r}`,o=n,c=o.config.emulator?Sp(n.config,s):`${n.config.apiScheme}://${s}`;return Rp.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c})}var Ys=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(io(this.auth,"network-request-failed")),Cp.get())})}};function Wr(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let s=io(n,e,r);return s.customData._tokenResponse=t,s}function kp(n,e){return P(this,null,function*(){return ti(n,"POST","/v1/accounts:delete",e)})}function Jr(n,e){return P(this,null,function*(){return ti(n,"POST","/v1/accounts:lookup",e)})}function Hn(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function oo(n,e=!1){return P(this,null,function*(){let t=St(n),r=yield t.getIdToken(e),s=Yu(r);G(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");let o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:r,authTime:Hn(Hs(s.auth_time)),issuedAtTime:Hn(Hs(s.iat)),expirationTime:Hn(Hs(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Hs(n){return Number(n)*1e3}function Yu(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kr("JWT malformed, contained fewer than 3 sections"),null;try{let s=Vr(t);return s?JSON.parse(s):(Kr("Failed to decode base64 JWT payload"),null)}catch(s){return Kr("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Fu(n){let e=Yu(n);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Js(n,e,t=!1){return P(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ae&&Dp(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Dp({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Xs=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>P(this,null,function*(){yield this.iteration()}),t)}iteration(){return P(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Yn=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hn(this.lastLoginAt),this.creationTime=Hn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xr(n){return P(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),s=yield Js(n,Jr(t,{idToken:r}));G(s?.users.length,t,"internal-error");let o=s.users[0];n._notifyReloadListener(o);let c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Ju(o.providerUserInfo):[],l=Np(n.providerData,c),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!l?.length,T=d?f:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Yn(o.createdAt,o.lastLoginAt),isAnonymous:T};Object.assign(n,A)})}function ao(n){return P(this,null,function*(){let e=St(n);yield Xr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Np(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ju(n){return n.map(e=>{var{providerId:t}=e,r=cs(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Op(n,e){return P(this,null,function*(){let t=yield Hu(n,{},()=>P(null,null,function*(){let r=As({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=yield Qu(n,s,"/v1/token",`key=${o}`),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";let d={method:"POST",headers:l,body:r};return n.emulatorConfig&&tn(n.emulatorConfig.host)&&(d.credentials="include"),Yr.fetch()(c,d)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Mp(n,e){return P(this,null,function*(){return ti(n,"POST","/v2/accounts:revokeToken",Gu(n,e))})}var Qn=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fu(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){G(e.length!==0,"internal-error");let t=Fu(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return P(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return P(this,null,function*(){let{accessToken:r,refreshToken:s,expiresIn:o}=yield Op(e,t);this.updateTokensAndExpiration(r,s,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:s,expirationTime:o}=t,c=new n;return r&&(G(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(G(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(G(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Gn("not implemented")}};function pt(n,e){G(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ot=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=cs(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yn(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return P(this,null,function*(){let t=yield Js(this,this.stsTokenManager.getToken(this.auth,e));return G(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return oo(this,e)}reload(){return ao(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return P(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Xr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return P(this,null,function*(){if(Je(this.auth.app))return Promise.reject(Gr(this.auth));let e=yield this.getIdToken();return yield Js(this,kp(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,c,l,d,f,T;let A=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(s=t.email)!==null&&s!==void 0?s:void 0,C=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(c=t.photoURL)!==null&&c!==void 0?c:void 0,k=(l=t.tenantId)!==null&&l!==void 0?l:void 0,M=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,j=(f=t.createdAt)!==null&&f!==void 0?f:void 0,L=(T=t.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:U,emailVerified:W,isAnonymous:fe,providerData:Q,stsTokenManager:y}=t;G(U&&y,e,"internal-error");let p=Qn.fromJSON(this.name,y);G(typeof U=="string",e,"internal-error"),pt(A,e.name),pt(b,e.name),G(typeof W=="boolean",e,"internal-error"),G(typeof fe=="boolean",e,"internal-error"),pt(C,e.name),pt(S,e.name),pt(k,e.name),pt(M,e.name),pt(j,e.name),pt(L,e.name);let m=new n({uid:U,auth:e,email:b,emailVerified:W,displayName:A,isAnonymous:fe,photoURL:S,phoneNumber:C,tenantId:k,stsTokenManager:p,createdAt:j,lastLoginAt:L});return Q&&Array.isArray(Q)&&(m.providerData=Q.map(_=>Object.assign({},_))),M&&(m._redirectEventId=M),m}static _fromIdTokenResponse(e,t,r=!1){return P(this,null,function*(){let s=new Qn;s.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return yield Xr(o),o})}static _fromGetAccountInfoResponse(e,t,r){return P(this,null,function*(){let s=t.users[0];G(s.localId!==void 0,"internal-error");let o=s.providerUserInfo!==void 0?Ju(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,l=new Qn;l.updateFromIdToken(r);let d=new n({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:c}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Yn(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,f),d})}};var Uu=new Map;function Mt(n){Qr(n instanceof Function,"Expected a class definition");let e=Uu.get(n);return e?(Qr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Uu.set(n,e),e)}var Vp=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return P(this,null,function*(){return!0})}_set(t,r){return P(this,null,function*(){this.storage[t]=r})}_get(t){return P(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return P(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Zs=Vp;function Qs(n,e,t){return`firebase:${n}:${e}:${t}`}var Zr=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:s,name:o}=this.auth;this.fullUserKey=Qs(this.userKey,s.apiKey,o),this.fullPersistenceKey=Qs("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return P(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Jr(this.auth,{idToken:e}).catch(()=>{});return t?Ot._fromGetAccountInfoResponse(this.auth,t,e):null}return Ot._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return P(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return P(this,null,function*(){if(!t.length)return new n(Mt(Zs),e,r);let s=(yield Promise.all(t.map(f=>P(null,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),o=s[0]||Mt(Zs),c=Qs(r,e.config.apiKey,e.name),l=null;for(let f of t)try{let T=yield f._get(c);if(T){let A;if(typeof T=="string"){let b=yield Jr(e,{idToken:T}).catch(()=>{});if(!b)break;A=yield Ot._fromGetAccountInfoResponse(e,b,T)}else A=Ot._fromJSON(e,T);f!==o&&(l=A),o=f;break}}catch{}let d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new n(o,e,r):(o=d[0],l&&(yield o._set(c,l.toJSON())),yield Promise.all(t.map(f=>P(null,null,function*(){if(f!==o)try{yield f._remove(c)}catch{}}))),new n(o,e,r))})}};function Bu(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Up(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xp(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qp(e))return"Blackberry";if($p(e))return"Webos";if(Lp(e))return"Safari";if((e.includes("chrome/")||Fp(e))&&!e.includes("edge/"))return"Chrome";if(Bp(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function xp(n=Se()){return/firefox\//i.test(n)}function Lp(n=Se()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fp(n=Se()){return/crios\//i.test(n)}function Up(n=Se()){return/iemobile/i.test(n)}function Bp(n=Se()){return/android/i.test(n)}function qp(n=Se()){return/blackberry/i.test(n)}function $p(n=Se()){return/webos/i.test(n)}function Xu(n,e=[]){let t;switch(n){case"Browser":t=Bu(Se());break;case"Worker":t=`${Bu(Se())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nn}/${r}`}var eo=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((c,l)=>{try{let d=e(o);c(d)}catch(d){l(d)}});r.onAbort=t,this.queue.push(r);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(e){return P(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function jp(t){return P(this,arguments,function*(n,e={}){return ti(n,"GET","/v2/passwordPolicy",Gu(n,e))})}var zp=6,to=class{constructor(e){var t,r,s,o;let c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:zp,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,c,l;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var no=class{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.beforeStateQueue=new eo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mt(t)),this._initializationPromise=this.queue(()=>P(this,null,function*(){var r,s,o;if(!this._deleted&&(this.persistenceManager=yield Zr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return P(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return P(this,null,function*(){try{let t=yield Jr(this,{idToken:e}),r=yield Ot._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return P(this,null,function*(){var t;if(Je(this.app)){let c=this.app.settings.authIdToken;return c?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(l,l))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),s=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=s?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!c||c===l)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)})}tryRedirectSignIn(e){return P(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return P(this,null,function*(){try{yield Xr(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Ap()}_delete(){return P(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return P(this,null,function*(){if(Je(this.app))return Promise.reject(Gr(this));let t=e?St(e):null;return t&&G(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return P(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>P(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return P(this,null,function*(){return Je(this.app)?Promise.reject(Gr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Je(this.app)?Promise.reject(Gr(this)):this.queue(()=>P(this,null,function*(){yield this.assertedPersistence.setPersistence(Mt(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return P(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return P(this,null,function*(){let e=yield jp(this),t=new to(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new De("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return P(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Mp(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return P(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return P(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Mt(e)||this._popupRedirectResolver;G(t,this,"argument-error"),this.redirectPersistenceManager=yield Zr.create(this,[Mt(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return P(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>P(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return P(this,null,function*(){if(e===this.currentUser)return this.queue(()=>P(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),c=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(l,this,"internal-error"),l.then(()=>{c||o(this.currentUser)}),typeof t=="function"){let d=e.addObserver(t,r,s);return()=>{c=!0,d()}}else{let d=e.addObserver(t);return()=>{c=!0,d()}}}directlySetCurrentUser(e){return P(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return P(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let s=yield this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t})}_getAppCheckToken(){return P(this,null,function*(){var e;if(Je(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Ip(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Wp(n){return St(n)}var ei=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ou(t=>this.observer=t)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Kp={loadJS(){return P(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gp(n){Kp=n}function Hp(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Qp(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Mt);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var Tv=Hp("rcb"),bv=new Vt(3e4,6e4);var Av=new Vt(2e3,1e4);var Sv=600*1e3;var Pv=new Vt(3e4,6e4);var Rv=new Vt(5e3,15e3);var Cv=encodeURIComponent("fac");var qu="@firebase/auth",$u="1.10.8";var ro=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return P(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Yp(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jp(n){Ne(new de("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:l}=r.options;G(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});let d={apiKey:c,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xu(n)},f=new no(r,s,o,d);return Qp(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ne(new de("auth-internal",e=>{let t=Wp(e.getProvider("auth").getImmediate());return(r=>new ro(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),re(qu,$u,Yp(n)),re(qu,$u,"esm2017")}var Xp=300,kv=Zc("authIdTokenMaxAge")||Xp;function Zp(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Gp({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{let o=io("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",Zp().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jp("Browser");var Jm="auth";var ni=class{constructor(){return on(Jm)}};var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},el={};var ri,tl;(function(){var n;function e(y,p){function m(){}m.prototype=p.prototype,y.D=p.prototype,y.prototype=new m,y.prototype.constructor=y,y.C=function(_,v,w){for(var g=Array(arguments.length-2),we=2;we<arguments.length;we++)g[we-2]=arguments[we];return p.prototype[v].apply(_,g)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(y,p,m){m||(m=0);var _=Array(16);if(typeof p=="string")for(var v=0;16>v;++v)_[v]=p.charCodeAt(m++)|p.charCodeAt(m++)<<8|p.charCodeAt(m++)<<16|p.charCodeAt(m++)<<24;else for(v=0;16>v;++v)_[v]=p[m++]|p[m++]<<8|p[m++]<<16|p[m++]<<24;p=y.g[0],m=y.g[1],v=y.g[2];var w=y.g[3],g=p+(w^m&(v^w))+_[0]+3614090360&4294967295;p=m+(g<<7&4294967295|g>>>25),g=w+(v^p&(m^v))+_[1]+3905402710&4294967295,w=p+(g<<12&4294967295|g>>>20),g=v+(m^w&(p^m))+_[2]+606105819&4294967295,v=w+(g<<17&4294967295|g>>>15),g=m+(p^v&(w^p))+_[3]+3250441966&4294967295,m=v+(g<<22&4294967295|g>>>10),g=p+(w^m&(v^w))+_[4]+4118548399&4294967295,p=m+(g<<7&4294967295|g>>>25),g=w+(v^p&(m^v))+_[5]+1200080426&4294967295,w=p+(g<<12&4294967295|g>>>20),g=v+(m^w&(p^m))+_[6]+2821735955&4294967295,v=w+(g<<17&4294967295|g>>>15),g=m+(p^v&(w^p))+_[7]+4249261313&4294967295,m=v+(g<<22&4294967295|g>>>10),g=p+(w^m&(v^w))+_[8]+1770035416&4294967295,p=m+(g<<7&4294967295|g>>>25),g=w+(v^p&(m^v))+_[9]+2336552879&4294967295,w=p+(g<<12&4294967295|g>>>20),g=v+(m^w&(p^m))+_[10]+4294925233&4294967295,v=w+(g<<17&4294967295|g>>>15),g=m+(p^v&(w^p))+_[11]+2304563134&4294967295,m=v+(g<<22&4294967295|g>>>10),g=p+(w^m&(v^w))+_[12]+1804603682&4294967295,p=m+(g<<7&4294967295|g>>>25),g=w+(v^p&(m^v))+_[13]+4254626195&4294967295,w=p+(g<<12&4294967295|g>>>20),g=v+(m^w&(p^m))+_[14]+2792965006&4294967295,v=w+(g<<17&4294967295|g>>>15),g=m+(p^v&(w^p))+_[15]+1236535329&4294967295,m=v+(g<<22&4294967295|g>>>10),g=p+(v^w&(m^v))+_[1]+4129170786&4294967295,p=m+(g<<5&4294967295|g>>>27),g=w+(m^v&(p^m))+_[6]+3225465664&4294967295,w=p+(g<<9&4294967295|g>>>23),g=v+(p^m&(w^p))+_[11]+643717713&4294967295,v=w+(g<<14&4294967295|g>>>18),g=m+(w^p&(v^w))+_[0]+3921069994&4294967295,m=v+(g<<20&4294967295|g>>>12),g=p+(v^w&(m^v))+_[5]+3593408605&4294967295,p=m+(g<<5&4294967295|g>>>27),g=w+(m^v&(p^m))+_[10]+38016083&4294967295,w=p+(g<<9&4294967295|g>>>23),g=v+(p^m&(w^p))+_[15]+3634488961&4294967295,v=w+(g<<14&4294967295|g>>>18),g=m+(w^p&(v^w))+_[4]+3889429448&4294967295,m=v+(g<<20&4294967295|g>>>12),g=p+(v^w&(m^v))+_[9]+568446438&4294967295,p=m+(g<<5&4294967295|g>>>27),g=w+(m^v&(p^m))+_[14]+3275163606&4294967295,w=p+(g<<9&4294967295|g>>>23),g=v+(p^m&(w^p))+_[3]+4107603335&4294967295,v=w+(g<<14&4294967295|g>>>18),g=m+(w^p&(v^w))+_[8]+1163531501&4294967295,m=v+(g<<20&4294967295|g>>>12),g=p+(v^w&(m^v))+_[13]+2850285829&4294967295,p=m+(g<<5&4294967295|g>>>27),g=w+(m^v&(p^m))+_[2]+4243563512&4294967295,w=p+(g<<9&4294967295|g>>>23),g=v+(p^m&(w^p))+_[7]+1735328473&4294967295,v=w+(g<<14&4294967295|g>>>18),g=m+(w^p&(v^w))+_[12]+2368359562&4294967295,m=v+(g<<20&4294967295|g>>>12),g=p+(m^v^w)+_[5]+4294588738&4294967295,p=m+(g<<4&4294967295|g>>>28),g=w+(p^m^v)+_[8]+2272392833&4294967295,w=p+(g<<11&4294967295|g>>>21),g=v+(w^p^m)+_[11]+1839030562&4294967295,v=w+(g<<16&4294967295|g>>>16),g=m+(v^w^p)+_[14]+4259657740&4294967295,m=v+(g<<23&4294967295|g>>>9),g=p+(m^v^w)+_[1]+2763975236&4294967295,p=m+(g<<4&4294967295|g>>>28),g=w+(p^m^v)+_[4]+1272893353&4294967295,w=p+(g<<11&4294967295|g>>>21),g=v+(w^p^m)+_[7]+4139469664&4294967295,v=w+(g<<16&4294967295|g>>>16),g=m+(v^w^p)+_[10]+3200236656&4294967295,m=v+(g<<23&4294967295|g>>>9),g=p+(m^v^w)+_[13]+681279174&4294967295,p=m+(g<<4&4294967295|g>>>28),g=w+(p^m^v)+_[0]+3936430074&4294967295,w=p+(g<<11&4294967295|g>>>21),g=v+(w^p^m)+_[3]+3572445317&4294967295,v=w+(g<<16&4294967295|g>>>16),g=m+(v^w^p)+_[6]+76029189&4294967295,m=v+(g<<23&4294967295|g>>>9),g=p+(m^v^w)+_[9]+3654602809&4294967295,p=m+(g<<4&4294967295|g>>>28),g=w+(p^m^v)+_[12]+3873151461&4294967295,w=p+(g<<11&4294967295|g>>>21),g=v+(w^p^m)+_[15]+530742520&4294967295,v=w+(g<<16&4294967295|g>>>16),g=m+(v^w^p)+_[2]+3299628645&4294967295,m=v+(g<<23&4294967295|g>>>9),g=p+(v^(m|~w))+_[0]+4096336452&4294967295,p=m+(g<<6&4294967295|g>>>26),g=w+(m^(p|~v))+_[7]+1126891415&4294967295,w=p+(g<<10&4294967295|g>>>22),g=v+(p^(w|~m))+_[14]+2878612391&4294967295,v=w+(g<<15&4294967295|g>>>17),g=m+(w^(v|~p))+_[5]+4237533241&4294967295,m=v+(g<<21&4294967295|g>>>11),g=p+(v^(m|~w))+_[12]+1700485571&4294967295,p=m+(g<<6&4294967295|g>>>26),g=w+(m^(p|~v))+_[3]+2399980690&4294967295,w=p+(g<<10&4294967295|g>>>22),g=v+(p^(w|~m))+_[10]+4293915773&4294967295,v=w+(g<<15&4294967295|g>>>17),g=m+(w^(v|~p))+_[1]+2240044497&4294967295,m=v+(g<<21&4294967295|g>>>11),g=p+(v^(m|~w))+_[8]+1873313359&4294967295,p=m+(g<<6&4294967295|g>>>26),g=w+(m^(p|~v))+_[15]+4264355552&4294967295,w=p+(g<<10&4294967295|g>>>22),g=v+(p^(w|~m))+_[6]+2734768916&4294967295,v=w+(g<<15&4294967295|g>>>17),g=m+(w^(v|~p))+_[13]+1309151649&4294967295,m=v+(g<<21&4294967295|g>>>11),g=p+(v^(m|~w))+_[4]+4149444226&4294967295,p=m+(g<<6&4294967295|g>>>26),g=w+(m^(p|~v))+_[11]+3174756917&4294967295,w=p+(g<<10&4294967295|g>>>22),g=v+(p^(w|~m))+_[2]+718787259&4294967295,v=w+(g<<15&4294967295|g>>>17),g=m+(w^(v|~p))+_[9]+3951481745&4294967295,y.g[0]=y.g[0]+p&4294967295,y.g[1]=y.g[1]+(v+(g<<21&4294967295|g>>>11))&4294967295,y.g[2]=y.g[2]+v&4294967295,y.g[3]=y.g[3]+w&4294967295}r.prototype.u=function(y,p){p===void 0&&(p=y.length);for(var m=p-this.blockSize,_=this.B,v=this.h,w=0;w<p;){if(v==0)for(;w<=m;)s(this,y,w),w+=this.blockSize;if(typeof y=="string"){for(;w<p;)if(_[v++]=y.charCodeAt(w++),v==this.blockSize){s(this,_),v=0;break}}else for(;w<p;)if(_[v++]=y[w++],v==this.blockSize){s(this,_),v=0;break}}this.h=v,this.o+=p},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var p=1;p<y.length-8;++p)y[p]=0;var m=8*this.o;for(p=y.length-8;p<y.length;++p)y[p]=m&255,m/=256;for(this.u(y),y=Array(16),p=m=0;4>p;++p)for(var _=0;32>_;_+=8)y[m++]=this.g[p]>>>_&255;return y};function o(y,p){var m=l;return Object.prototype.hasOwnProperty.call(m,y)?m[y]:m[y]=p(y)}function c(y,p){this.h=p;for(var m=[],_=!0,v=y.length-1;0<=v;v--){var w=y[v]|0;_&&w==p||(m[v]=w,_=!1)}this.g=m}var l={};function d(y){return-128<=y&&128>y?o(y,function(p){return new c([p|0],0>p?-1:0)}):new c([y|0],0>y?-1:0)}function f(y){if(isNaN(y)||!isFinite(y))return A;if(0>y)return M(f(-y));for(var p=[],m=1,_=0;y>=m;_++)p[_]=y/m|0,m*=4294967296;return new c(p,0)}function T(y,p){if(y.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(y.charAt(0)=="-")return M(T(y.substring(1),p));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=f(Math.pow(p,8)),_=A,v=0;v<y.length;v+=8){var w=Math.min(8,y.length-v),g=parseInt(y.substring(v,v+w),p);8>w?(w=f(Math.pow(p,w)),_=_.j(w).add(f(g))):(_=_.j(m),_=_.add(f(g)))}return _}var A=d(0),b=d(1),C=d(16777216);n=c.prototype,n.m=function(){if(k(this))return-M(this).m();for(var y=0,p=1,m=0;m<this.g.length;m++){var _=this.i(m);y+=(0<=_?_:4294967296+_)*p,p*=4294967296}return y},n.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S(this))return"0";if(k(this))return"-"+M(this).toString(y);for(var p=f(Math.pow(y,6)),m=this,_="";;){var v=W(m,p).g;m=j(m,v.j(p));var w=((0<m.g.length?m.g[0]:m.h)>>>0).toString(y);if(m=v,S(m))return w+_;for(;6>w.length;)w="0"+w;_=w+_}},n.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function S(y){if(y.h!=0)return!1;for(var p=0;p<y.g.length;p++)if(y.g[p]!=0)return!1;return!0}function k(y){return y.h==-1}n.l=function(y){return y=j(this,y),k(y)?-1:S(y)?0:1};function M(y){for(var p=y.g.length,m=[],_=0;_<p;_++)m[_]=~y.g[_];return new c(m,~y.h).add(b)}n.abs=function(){return k(this)?M(this):this},n.add=function(y){for(var p=Math.max(this.g.length,y.g.length),m=[],_=0,v=0;v<=p;v++){var w=_+(this.i(v)&65535)+(y.i(v)&65535),g=(w>>>16)+(this.i(v)>>>16)+(y.i(v)>>>16);_=g>>>16,w&=65535,g&=65535,m[v]=g<<16|w}return new c(m,m[m.length-1]&-2147483648?-1:0)};function j(y,p){return y.add(M(p))}n.j=function(y){if(S(this)||S(y))return A;if(k(this))return k(y)?M(this).j(M(y)):M(M(this).j(y));if(k(y))return M(this.j(M(y)));if(0>this.l(C)&&0>y.l(C))return f(this.m()*y.m());for(var p=this.g.length+y.g.length,m=[],_=0;_<2*p;_++)m[_]=0;for(_=0;_<this.g.length;_++)for(var v=0;v<y.g.length;v++){var w=this.i(_)>>>16,g=this.i(_)&65535,we=y.i(v)>>>16,rt=y.i(v)&65535;m[2*_+2*v]+=g*rt,L(m,2*_+2*v),m[2*_+2*v+1]+=w*rt,L(m,2*_+2*v+1),m[2*_+2*v+1]+=g*we,L(m,2*_+2*v+1),m[2*_+2*v+2]+=w*we,L(m,2*_+2*v+2)}for(_=0;_<p;_++)m[_]=m[2*_+1]<<16|m[2*_];for(_=p;_<2*p;_++)m[_]=0;return new c(m,0)};function L(y,p){for(;(y[p]&65535)!=y[p];)y[p+1]+=y[p]>>>16,y[p]&=65535,p++}function U(y,p){this.g=y,this.h=p}function W(y,p){if(S(p))throw Error("division by zero");if(S(y))return new U(A,A);if(k(y))return p=W(M(y),p),new U(M(p.g),M(p.h));if(k(p))return p=W(y,M(p)),new U(M(p.g),p.h);if(30<y.g.length){if(k(y)||k(p))throw Error("slowDivide_ only works with positive integers.");for(var m=b,_=p;0>=_.l(y);)m=fe(m),_=fe(_);var v=Q(m,1),w=Q(_,1);for(_=Q(_,2),m=Q(m,2);!S(_);){var g=w.add(_);0>=g.l(y)&&(v=v.add(m),w=g),_=Q(_,1),m=Q(m,1)}return p=j(y,v.j(p)),new U(v,p)}for(v=A;0<=y.l(p);){for(m=Math.max(1,Math.floor(y.m()/p.m())),_=Math.ceil(Math.log(m)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),w=f(m),g=w.j(p);k(g)||0<g.l(y);)m-=_,w=f(m),g=w.j(p);S(w)&&(w=b),v=v.add(w),y=j(y,g)}return new U(v,y)}n.A=function(y){return W(this,y).h},n.and=function(y){for(var p=Math.max(this.g.length,y.g.length),m=[],_=0;_<p;_++)m[_]=this.i(_)&y.i(_);return new c(m,this.h&y.h)},n.or=function(y){for(var p=Math.max(this.g.length,y.g.length),m=[],_=0;_<p;_++)m[_]=this.i(_)|y.i(_);return new c(m,this.h|y.h)},n.xor=function(y){for(var p=Math.max(this.g.length,y.g.length),m=[],_=0;_<p;_++)m[_]=this.i(_)^y.i(_);return new c(m,this.h^y.h)};function fe(y){for(var p=y.g.length+1,m=[],_=0;_<p;_++)m[_]=y.i(_)<<1|y.i(_-1)>>>31;return new c(m,y.h)}function Q(y,p){var m=p>>5;p%=32;for(var _=y.g.length-m,v=[],w=0;w<_;w++)v[w]=0<p?y.i(w+m)>>>p|y.i(w+m+1)<<32-p:y.i(w+m);return new c(v,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tl=el.Md5=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=T,ri=el.Integer=c}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});var ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xe={};var nl,Xm,rl,il,sl,ol,al,cl,ul;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,u){return i==Array.prototype||i==Object.prototype||(i[a]=u.value),i};function t(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof ii=="object"&&ii];for(var a=0;a<i.length;++a){var u=i[a];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")}var r=t(this);function s(i,a){if(a)e:{var u=r;i=i.split(".");for(var h=0;h<i.length-1;h++){var E=i[h];if(!(E in u))break e;u=u[E]}i=i[i.length-1],h=u[i],a=a(h),a!=h&&a!=null&&e(u,i,{configurable:!0,writable:!0,value:a})}}function o(i,a){i instanceof String&&(i+="");var u=0,h=!1,E={next:function(){if(!h&&u<i.length){var I=u++;return{value:a(I,i[I]),done:!1}}return h=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}s("Array.prototype.values",function(i){return i||function(){return o(this,function(a,u){return u})}});var c=c||{},l=this||self;function d(i){var a=typeof i;return a=a!="object"?a:i?Array.isArray(i)?"array":a:"null",a=="array"||a=="object"&&typeof i.length=="number"}function f(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function T(i,a,u){return i.call.apply(i.bind,arguments)}function A(i,a,u){if(!i)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,h),i.apply(a,E)}}return function(){return i.apply(a,arguments)}}function b(i,a,u){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,b.apply(null,arguments)}function C(i,a){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),i.apply(this,h)}}function S(i,a){function u(){}u.prototype=a.prototype,i.aa=a.prototype,i.prototype=new u,i.prototype.constructor=i,i.Qb=function(h,E,I){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return a.prototype[E].apply(h,R)}}function k(i){let a=i.length;if(0<a){let u=Array(a);for(let h=0;h<a;h++)u[h]=i[h];return u}return[]}function M(i,a){for(let u=1;u<arguments.length;u++){let h=arguments[u];if(d(h)){let E=i.length||0,I=h.length||0;i.length=E+I;for(let R=0;R<I;R++)i[E+R]=h[R]}else i.push(h)}}class j{constructor(a,u){this.i=a,this.j=u,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}function L(i){return/^[\s\xa0]*$/.test(i)}function U(){var i=l.navigator;return i&&(i=i.userAgent)?i:""}function W(i){return W[" "](i),i}W[" "]=function(){};var fe=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Q(i,a,u){for(let h in i)a.call(u,i[h],h,i)}function y(i,a){for(let u in i)a.call(void 0,i[u],u,i)}function p(i){let a={};for(let u in i)a[u]=i[u];return a}let m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(i,a){let u,h;for(let E=1;E<arguments.length;E++){h=arguments[E];for(u in h)i[u]=h[u];for(let I=0;I<m.length;I++)u=m[I],Object.prototype.hasOwnProperty.call(h,u)&&(i[u]=h[u])}}function v(i){var a=1;i=i.split(":");let u=[];for(;0<a&&i.length;)u.push(i.shift()),a--;return i.length&&u.push(i.join(":")),u}function w(i){l.setTimeout(()=>{throw i},0)}function g(){var i=F;let a=null;return i.g&&(a=i.g,i.g=i.g.next,i.g||(i.h=null),a.next=null),a}class we{constructor(){this.h=this.g=null}add(a,u){let h=rt.get();h.set(a,u),this.h?this.h.next=h:this.g=h,this.h=h}}var rt=new j(()=>new D,i=>i.reset());class D{constructor(){this.next=this.g=this.h=null}set(a,u){this.h=a,this.g=u,this.next=null}reset(){this.next=this.g=this.h=null}}let N,O=!1,F=new we,ne=()=>{let i=l.Promise.resolve(void 0);N=()=>{i.then(Ie)}};var Ie=()=>{for(var i;i=g();){try{i.h.call(i.g)}catch(u){w(u)}var a=rt;a.j(i),100>a.h&&(a.h++,i.next=a.g,a.g=i)}O=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(i,a){this.type=i,this.g=this.target=a,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{let u=()=>{};l.addEventListener("test",u,a),l.removeEventListener("test",u,a)}catch{}return i})();function it(i,a){if(Y.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var u=this.type=i.type,h=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=a,a=i.relatedTarget){if(fe){e:{try{W(a.nodeName);var E=!0;break e}catch{}E=!1}E||(a=null)}}else u=="mouseover"?a=i.fromElement:u=="mouseout"&&(a=i.toElement);this.relatedTarget=a,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:Li[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&it.aa.h.call(this)}}S(it,Y);var Li={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),je=0;function pe(i,a,u,h,E){this.listener=i,this.proxy=null,this.src=a,this.type=u,this.capture=!!h,this.ha=E,this.key=++je,this.da=this.fa=!1}function ze(i){i.da=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function st(i){this.src=i,this.g={},this.h=0}st.prototype.add=function(i,a,u,h,E){var I=i.toString();i=this.g[I],i||(i=this.g[I]=[],this.h++);var R=Ui(i,a,h,E);return-1<R?(a=i[R],u||(a.fa=!1)):(a=new pe(a,this.src,I,!!h,E),a.fa=u,i.push(a)),a};function Fi(i,a){var u=a.type;if(u in i.g){var h=i.g[u],E=Array.prototype.indexOf.call(h,a,void 0),I;(I=0<=E)&&Array.prototype.splice.call(h,E,1),I&&(ze(a),i.g[u].length==0&&(delete i.g[u],i.h--))}}function Ui(i,a,u,h){for(var E=0;E<i.length;++E){var I=i[E];if(!I.da&&I.listener==a&&I.capture==!!u&&I.ha==h)return E}return-1}var Bi="closure_lm_"+(1e6*Math.random()|0),qi={};function da(i,a,u,h,E){if(h&&h.once)return pa(i,a,u,h,E);if(Array.isArray(a)){for(var I=0;I<a.length;I++)da(i,a[I],u,h,E);return null}return u=Wi(u),i&&i[ee]?i.K(a,u,f(h)?!!h.capture:!!h,E):fa(i,a,u,!1,h,E)}function fa(i,a,u,h,E,I){if(!a)throw Error("Invalid event type");var R=f(E)?!!E.capture:!!E,H=ji(i);if(H||(i[Bi]=H=new st(i)),u=H.add(a,u,h,R,I),u.proxy)return u;if(h=Jh(),u.proxy=h,h.src=i,h.listener=u,i.addEventListener)J||(E=R),E===void 0&&(E=!1),i.addEventListener(a.toString(),h,E);else if(i.attachEvent)i.attachEvent(ga(a.toString()),h);else if(i.addListener&&i.removeListener)i.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return u}function Jh(){function i(u){return a.call(i.src,i.listener,u)}let a=Xh;return i}function pa(i,a,u,h,E){if(Array.isArray(a)){for(var I=0;I<a.length;I++)pa(i,a[I],u,h,E);return null}return u=Wi(u),i&&i[ee]?i.L(a,u,f(h)?!!h.capture:!!h,E):fa(i,a,u,!0,h,E)}function ma(i,a,u,h,E){if(Array.isArray(a))for(var I=0;I<a.length;I++)ma(i,a[I],u,h,E);else h=f(h)?!!h.capture:!!h,u=Wi(u),i&&i[ee]?(i=i.i,a=String(a).toString(),a in i.g&&(I=i.g[a],u=Ui(I,u,h,E),-1<u&&(ze(I[u]),Array.prototype.splice.call(I,u,1),I.length==0&&(delete i.g[a],i.h--)))):i&&(i=ji(i))&&(a=i.g[a.toString()],i=-1,a&&(i=Ui(a,u,h,E)),(u=-1<i?a[i]:null)&&$i(u))}function $i(i){if(typeof i!="number"&&i&&!i.da){var a=i.src;if(a&&a[ee])Fi(a.i,i);else{var u=i.type,h=i.proxy;a.removeEventListener?a.removeEventListener(u,h,i.capture):a.detachEvent?a.detachEvent(ga(u),h):a.addListener&&a.removeListener&&a.removeListener(h),(u=ji(a))?(Fi(u,i),u.h==0&&(u.src=null,a[Bi]=null)):ze(i)}}}function ga(i){return i in qi?qi[i]:qi[i]="on"+i}function Xh(i,a){if(i.da)i=!0;else{a=new it(a,this);var u=i.listener,h=i.ha||i.src;i.fa&&$i(i),i=u.call(h,a)}return i}function ji(i){return i=i[Bi],i instanceof st?i:null}var zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wi(i){return typeof i=="function"?i:(i[zi]||(i[zi]=function(a){return i.handleEvent(a)}),i[zi])}function ae(){Z.call(this),this.i=new st(this),this.M=this,this.F=null}S(ae,Z),ae.prototype[ee]=!0,ae.prototype.removeEventListener=function(i,a,u,h){ma(this,i,a,u,h)};function le(i,a){var u,h=i.F;if(h)for(u=[];h;h=h.F)u.push(h);if(i=i.M,h=a.type||a,typeof a=="string")a=new Y(a,i);else if(a instanceof Y)a.target=a.target||i;else{var E=a;a=new Y(h,i),_(a,E)}if(E=!0,u)for(var I=u.length-1;0<=I;I--){var R=a.g=u[I];E=mr(R,h,!0,a)&&E}if(R=a.g=i,E=mr(R,h,!0,a)&&E,E=mr(R,h,!1,a)&&E,u)for(I=0;I<u.length;I++)R=a.g=u[I],E=mr(R,h,!1,a)&&E}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var i=this.i,a;for(a in i.g){for(var u=i.g[a],h=0;h<u.length;h++)ze(u[h]);delete i.g[a],i.h--}}this.F=null},ae.prototype.K=function(i,a,u,h){return this.i.add(String(i),a,!1,u,h)},ae.prototype.L=function(i,a,u,h){return this.i.add(String(i),a,!0,u,h)};function mr(i,a,u,h){if(a=i.i.g[String(a)],!a)return!0;a=a.concat();for(var E=!0,I=0;I<a.length;++I){var R=a[I];if(R&&!R.da&&R.capture==u){var H=R.listener,se=R.ha||R.src;R.fa&&Fi(i.i,R),E=H.call(se,h)!==!1&&E}}return E&&!h.defaultPrevented}function _a(i,a,u){if(typeof i=="function")u&&(i=b(i,u));else if(i&&typeof i.handleEvent=="function")i=b(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:l.setTimeout(i,a||0)}function ya(i){i.g=_a(()=>{i.g=null,i.i&&(i.i=!1,ya(i))},i.l);let a=i.h;i.h=null,i.m.apply(null,a)}class Zh extends Z{constructor(a,u){super(),this.m=a,this.l=u,this.h=null,this.i=!1,this.g=null}j(a){this.h=arguments,this.g?this.i=!0:ya(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(i){Z.call(this),this.h=i,this.g={}}S(vn,Z);var va=[];function Ea(i){Q(i.g,function(a,u){this.g.hasOwnProperty(u)&&$i(a)},i),i.g={}}vn.prototype.N=function(){vn.aa.N.call(this),Ea(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=l.JSON.stringify,ed=l.JSON.parse,td=class{stringify(i){return l.JSON.stringify(i,void 0)}parse(i){return l.JSON.parse(i,void 0)}};function Gi(){}Gi.prototype.h=null;function wa(i){return i.h||(i.h=i.i())}function Ia(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hi(){Y.call(this,"d")}S(Hi,Y);function Qi(){Y.call(this,"c")}S(Qi,Y);var _t={},Ta=null;function gr(){return Ta=Ta||new ae}_t.La="serverreachability";function ba(i){Y.call(this,_t.La,i)}S(ba,Y);function wn(i){let a=gr();le(a,new ba(a))}_t.STAT_EVENT="statevent";function Aa(i,a){Y.call(this,_t.STAT_EVENT,i),this.stat=a}S(Aa,Y);function he(i){let a=gr();le(a,new Aa(a,i))}_t.Ma="timingevent";function Sa(i,a){Y.call(this,_t.Ma,i),this.size=a}S(Sa,Y);function In(i,a){if(typeof i!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){i()},a)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function nd(i,a,u,h,E,I){i.info(function(){if(i.g)if(I)for(var R="",H=I.split("&"),se=0;se<H.length;se++){var z=H[se].split("=");if(1<z.length){var ce=z[0];z=z[1];var ue=ce.split("_");R=2<=ue.length&&ue[1]=="type"?R+(ce+"="+z+"&"):R+(ce+"=redacted&")}}else R=null;else R=I;return"XMLHTTP REQ ("+h+") [attempt "+E+"]: "+a+`
`+u+`
`+R})}function rd(i,a,u,h,E,I,R){i.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+E+"]: "+a+`
`+u+`
`+I+" "+R})}function jt(i,a,u,h){i.info(function(){return"XMLHTTP TEXT ("+a+"): "+sd(i,u)+(h?" "+h:"")})}function id(i,a){i.info(function(){return"TIMEOUT: "+a})}Tn.prototype.info=function(){};function sd(i,a){if(!i.g)return a;if(!a)return null;try{var u=JSON.parse(a);if(u){for(i=0;i<u.length;i++)if(Array.isArray(u[i])){var h=u[i];if(!(2>h.length)){var E=h[1];if(Array.isArray(E)&&!(1>E.length)){var I=E[0];if(I!="noop"&&I!="stop"&&I!="close")for(var R=1;R<E.length;R++)E[R]=""}}}}return Ki(u)}catch{return a}}var _r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yi;function yr(){}S(yr,Gi),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},Yi=new yr;function ot(i,a,u,h){this.j=i,this.i=a,this.l=u,this.R=h||1,this.U=new vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ra}function Ra(){this.i=null,this.g="",this.h=!1}var Ca={},Ji={};function Xi(i,a,u){i.L=1,i.v=Ir(We(a)),i.m=u,i.P=!0,ka(i,null)}function ka(i,a){i.F=Date.now(),vr(i),i.A=We(i.v);var u=i.A,h=i.R;Array.isArray(h)||(h=[String(h)]),za(u.i,"t",h),i.C=0,u=i.j.J,i.h=new Ra,i.g=cc(i.j,u?a:null,!i.m),0<i.O&&(i.M=new Zh(b(i.Y,i,i.g),i.O)),a=i.U,u=i.g,h=i.ca;var E="readystatechange";Array.isArray(E)||(E&&(va[0]=E.toString()),E=va);for(var I=0;I<E.length;I++){var R=da(u,E[I],h||a.handleEvent,!1,a.h||a);if(!R)break;a.g[R.key]=R}a=i.H?p(i.H):{},i.m?(i.u||(i.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.m,a)):(i.u="GET",i.g.ea(i.A,i.u,null,a)),wn(),nd(i.i,i.u,i.A,i.l,i.R,i.m)}ot.prototype.ca=function(i){i=i.target;let a=this.M;a&&Ke(i)==3?a.j():this.Y(i)},ot.prototype.Y=function(i){try{if(i==this.g)e:{let ue=Ke(this.g);var a=this.g.Ba();let Kt=this.g.Z();if(!(3>ue)&&(ue!=3||this.g&&(this.h.h||this.g.oa()||Ja(this.g)))){this.J||ue!=4||a==7||(a==8||0>=Kt?wn(3):wn(2)),Zi(this);var u=this.g.Z();this.X=u;t:if(Da(this)){var h=Ja(this.g);i="";var E=h.length,I=Ke(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yt(this),bn(this);var R="";break t}this.h.i=new l.TextDecoder}for(a=0;a<E;a++)this.h.h=!0,i+=this.h.i.decode(h[a],{stream:!(I&&a==E-1)});h.length=0,this.h.g+=i,this.C=0,R=this.h.g}else R=this.g.oa();if(this.o=u==200,rd(this.i,this.u,this.A,this.l,this.R,ue,u),this.o){if(this.T&&!this.K){t:{if(this.g){var H,se=this.g;if((H=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(H)){var z=H;break t}}z=null}if(u=z)jt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,es(this,u);else{this.o=!1,this.s=3,he(12),yt(this),bn(this);break e}}if(this.P){u=!0;let Ce;for(;!this.J&&this.C<R.length;)if(Ce=od(this,R),Ce==Ji){ue==4&&(this.s=4,he(14),u=!1),jt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ce==Ca){this.s=4,he(15),jt(this.i,this.l,R,"[Invalid Chunk]"),u=!1;break}else jt(this.i,this.l,Ce,null),es(this,Ce);if(Da(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ue!=4||R.length!=0||this.h.h||(this.s=1,he(16),u=!1),this.o=this.o&&u,!u)jt(this.i,this.l,R,"[Invalid Chunked Response]"),yt(this),bn(this);else if(0<R.length&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.ba&&!ce.M&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),os(ce),ce.M=!0,he(11))}}else jt(this.i,this.l,R,null),es(this,R);ue==4&&yt(this),this.o&&!this.J&&(ue==4?ic(this.j,this):(this.o=!1,vr(this)))}else Td(this.g),u==400&&0<R.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),yt(this),bn(this)}}}catch{}finally{}};function Da(i){return i.g?i.u=="GET"&&i.L!=2&&i.j.Ca:!1}function od(i,a){var u=i.C,h=a.indexOf(`
`,u);return h==-1?Ji:(u=Number(a.substring(u,h)),isNaN(u)?Ca:(h+=1,h+u>a.length?Ji:(a=a.slice(h,h+u),i.C=h+u,a)))}ot.prototype.cancel=function(){this.J=!0,yt(this)};function vr(i){i.S=Date.now()+i.I,Na(i,i.I)}function Na(i,a){if(i.B!=null)throw Error("WatchDog timer not null");i.B=In(b(i.ba,i),a)}function Zi(i){i.B&&(l.clearTimeout(i.B),i.B=null)}ot.prototype.ba=function(){this.B=null;let i=Date.now();0<=i-this.S?(id(this.i,this.A),this.L!=2&&(wn(),he(17)),yt(this),this.s=2,bn(this)):Na(this,this.S-i)};function bn(i){i.j.G==0||i.J||ic(i.j,i)}function yt(i){Zi(i);var a=i.M;a&&typeof a.ma=="function"&&a.ma(),i.M=null,Ea(i.U),i.g&&(a=i.g,i.g=null,a.abort(),a.ma())}function es(i,a){try{var u=i.j;if(u.G!=0&&(u.g==i||ts(u.h,i))){if(!i.K&&ts(u.h,i)&&u.G==3){try{var h=u.Da.g.parse(a)}catch{h=null}if(Array.isArray(h)&&h.length==3){var E=h;if(E[0]==0){e:if(!u.u){if(u.g)if(u.g.F+3e3<i.F)Pr(u),Ar(u);else break e;ss(u),he(18)}}else u.za=E[1],0<u.za-u.T&&37500>E[2]&&u.F&&u.v==0&&!u.C&&(u.C=In(b(u.Za,u),6e3));if(1>=Va(u.h)&&u.ca){try{u.ca()}catch{}u.ca=void 0}}else Et(u,11)}else if((i.K||u.g==i)&&Pr(u),!L(a))for(E=u.Da.g.parse(a),a=0;a<E.length;a++){let z=E[a];if(u.T=z[0],z=z[1],u.G==2)if(z[0]=="c"){u.K=z[1],u.ia=z[2];let ce=z[3];ce!=null&&(u.la=ce,u.j.info("VER="+u.la));let ue=z[4];ue!=null&&(u.Aa=ue,u.j.info("SVER="+u.Aa));let Kt=z[5];Kt!=null&&typeof Kt=="number"&&0<Kt&&(h=1.5*Kt,u.L=h,u.j.info("backChannelRequestTimeoutMs_="+h)),h=u;let Ce=i.g;if(Ce){let Cr=Ce.g?Ce.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var I=h.h;I.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(I.j=I.l,I.g=new Set,I.h&&(ns(I,I.h),I.h=null))}if(h.D){let as=Ce.g?Ce.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(h.ya=as,X(h.I,h.D,as))}}u.G=3,u.l&&u.l.ua(),u.ba&&(u.R=Date.now()-i.F,u.j.info("Handshake RTT: "+u.R+"ms")),h=u;var R=i;if(h.qa=ac(h,h.J?h.ia:null,h.W),R.K){xa(h.h,R);var H=R,se=h.L;se&&(H.I=se),H.B&&(Zi(H),vr(H)),h.g=R}else nc(h);0<u.i.length&&Sr(u)}else z[0]!="stop"&&z[0]!="close"||Et(u,7);else u.G==3&&(z[0]=="stop"||z[0]=="close"?z[0]=="stop"?Et(u,7):is(u):z[0]!="noop"&&u.l&&u.l.ta(z),u.v=0)}}wn(4)}catch{}}var ad=class{constructor(i,a){this.g=i,this.map=a}};function Oa(i){this.l=i||10,l.PerformanceNavigationTiming?(i=l.performance.getEntriesByType("navigation"),i=0<i.length&&(i[0].nextHopProtocol=="hq"||i[0].nextHopProtocol=="h2")):i=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(i){return i.h?!0:i.g?i.g.size>=i.j:!1}function Va(i){return i.h?1:i.g?i.g.size:0}function ts(i,a){return i.h?i.h==a:i.g?i.g.has(a):!1}function ns(i,a){i.g?i.g.add(a):i.h=a}function xa(i,a){i.h&&i.h==a?i.h=null:i.g&&i.g.has(a)&&i.g.delete(a)}Oa.prototype.cancel=function(){if(this.i=La(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let i of this.g.values())i.cancel();this.g.clear()}};function La(i){if(i.h!=null)return i.i.concat(i.h.D);if(i.g!=null&&i.g.size!==0){let a=i.i;for(let u of i.g.values())a=a.concat(u.D);return a}return k(i.i)}function cd(i){if(i.V&&typeof i.V=="function")return i.V();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if(typeof i=="string")return i.split("");if(d(i)){for(var a=[],u=i.length,h=0;h<u;h++)a.push(i[h]);return a}a=[],u=0;for(h in i)a[u++]=i[h];return a}function ud(i){if(i.na&&typeof i.na=="function")return i.na();if(!i.V||typeof i.V!="function"){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(d(i)||typeof i=="string"){var a=[];i=i.length;for(var u=0;u<i;u++)a.push(u);return a}a=[],u=0;for(let h in i)a[u++]=h;return a}}}function Fa(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(d(i)||typeof i=="string")Array.prototype.forEach.call(i,a,void 0);else for(var u=ud(i),h=cd(i),E=h.length,I=0;I<E;I++)a.call(void 0,h[I],u&&u[I],i)}var Ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ld(i,a){if(i){i=i.split("&");for(var u=0;u<i.length;u++){var h=i[u].indexOf("="),E=null;if(0<=h){var I=i[u].substring(0,h);E=i[u].substring(h+1)}else I=i[u];a(I,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function vt(i){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,i instanceof vt){this.h=i.h,Er(this,i.j),this.o=i.o,this.g=i.g,wr(this,i.s),this.l=i.l;var a=i.i,u=new Pn;u.i=a.i,a.g&&(u.g=new Map(a.g),u.h=a.h),Ba(this,u),this.m=i.m}else i&&(a=String(i).match(Ua))?(this.h=!1,Er(this,a[1]||"",!0),this.o=An(a[2]||""),this.g=An(a[3]||"",!0),wr(this,a[4]),this.l=An(a[5]||"",!0),Ba(this,a[6]||"",!0),this.m=An(a[7]||"")):(this.h=!1,this.i=new Pn(null,this.h))}vt.prototype.toString=function(){var i=[],a=this.j;a&&i.push(Sn(a,qa,!0),":");var u=this.g;return(u||a=="file")&&(i.push("//"),(a=this.o)&&i.push(Sn(a,qa,!0),"@"),i.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.s,u!=null&&i.push(":",String(u))),(u=this.l)&&(this.g&&u.charAt(0)!="/"&&i.push("/"),i.push(Sn(u,u.charAt(0)=="/"?fd:dd,!0))),(u=this.i.toString())&&i.push("?",u),(u=this.m)&&i.push("#",Sn(u,md)),i.join("")};function We(i){return new vt(i)}function Er(i,a,u){i.j=u?An(a,!0):a,i.j&&(i.j=i.j.replace(/:$/,""))}function wr(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.s=a}else i.s=null}function Ba(i,a,u){a instanceof Pn?(i.i=a,gd(i.i,i.h)):(u||(a=Sn(a,pd)),i.i=new Pn(a,i.h))}function X(i,a,u){i.i.set(a,u)}function Ir(i){return X(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function An(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Sn(i,a,u){return typeof i=="string"?(i=encodeURI(i).replace(a,hd),u&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function hd(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var qa=/[#\/\?@]/g,dd=/[#\?:]/g,fd=/[#\?]/g,pd=/[#\?@]/g,md=/#/g;function Pn(i,a){this.h=this.g=null,this.i=i||null,this.j=!!a}function at(i){i.g||(i.g=new Map,i.h=0,i.i&&ld(i.i,function(a,u){i.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}n=Pn.prototype,n.add=function(i,a){at(this),this.i=null,i=zt(this,i);var u=this.g.get(i);return u||this.g.set(i,u=[]),u.push(a),this.h+=1,this};function $a(i,a){at(i),a=zt(i,a),i.g.has(a)&&(i.i=null,i.h-=i.g.get(a).length,i.g.delete(a))}function ja(i,a){return at(i),a=zt(i,a),i.g.has(a)}n.forEach=function(i,a){at(this),this.g.forEach(function(u,h){u.forEach(function(E){i.call(a,E,h,this)},this)},this)},n.na=function(){at(this);let i=Array.from(this.g.values()),a=Array.from(this.g.keys()),u=[];for(let h=0;h<a.length;h++){let E=i[h];for(let I=0;I<E.length;I++)u.push(a[h])}return u},n.V=function(i){at(this);let a=[];if(typeof i=="string")ja(this,i)&&(a=a.concat(this.g.get(zt(this,i))));else{i=Array.from(this.g.values());for(let u=0;u<i.length;u++)a=a.concat(i[u])}return a},n.set=function(i,a){return at(this),this.i=null,i=zt(this,i),ja(this,i)&&(this.h-=this.g.get(i).length),this.g.set(i,[a]),this.h+=1,this},n.get=function(i,a){return i?(i=this.V(i),0<i.length?String(i[0]):a):a};function za(i,a,u){$a(i,a),0<u.length&&(i.i=null,i.g.set(zt(i,a),k(u)),i.h+=u.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let i=[],a=Array.from(this.g.keys());for(var u=0;u<a.length;u++){var h=a[u];let I=encodeURIComponent(String(h)),R=this.V(h);for(h=0;h<R.length;h++){var E=I;R[h]!==""&&(E+="="+encodeURIComponent(String(R[h]))),i.push(E)}}return this.i=i.join("&")};function zt(i,a){return a=String(a),i.j&&(a=a.toLowerCase()),a}function gd(i,a){a&&!i.j&&(at(i),i.i=null,i.g.forEach(function(u,h){var E=h.toLowerCase();h!=E&&($a(this,h),za(this,E,u))},i)),i.j=a}function _d(i,a){let u=new Tn;if(l.Image){let h=new Image;h.onload=C(ct,u,"TestLoadImage: loaded",!0,a,h),h.onerror=C(ct,u,"TestLoadImage: error",!1,a,h),h.onabort=C(ct,u,"TestLoadImage: abort",!1,a,h),h.ontimeout=C(ct,u,"TestLoadImage: timeout",!1,a,h),l.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=i}else a(!1)}function yd(i,a){let u=new Tn,h=new AbortController,E=setTimeout(()=>{h.abort(),ct(u,"TestPingServer: timeout",!1,a)},1e4);fetch(i,{signal:h.signal}).then(I=>{clearTimeout(E),I.ok?ct(u,"TestPingServer: ok",!0,a):ct(u,"TestPingServer: server error",!1,a)}).catch(()=>{clearTimeout(E),ct(u,"TestPingServer: error",!1,a)})}function ct(i,a,u,h,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),h(u)}catch{}}function vd(){this.g=new td}function Ed(i,a,u){let h=u||"";try{Fa(i,function(E,I){let R=E;f(E)&&(R=Ki(E)),a.push(h+I+"="+encodeURIComponent(R))})}catch(E){throw a.push(h+"type="+encodeURIComponent("_badmap")),E}}function Rn(i){this.l=i.Ub||null,this.j=i.eb||!1}S(Rn,Gi),Rn.prototype.g=function(){return new Tr(this.l,this.j)},Rn.prototype.i=(function(i){return function(){return i}})({});function Tr(i,a){ae.call(this),this.D=i,this.o=a,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Tr,ae),n=Tr.prototype,n.open=function(i,a){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=i,this.A=a,this.readyState=1,kn(this)},n.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let a={headers:this.u,method:this.B,credentials:this.m,cache:void 0};i&&(a.body=i),(this.D||l).fetch(new Request(this.A,a)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},n.Sa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")i.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wa(this)}else i.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wa(i){i.j.read().then(i.Pa.bind(i)).catch(i.ga.bind(i))}n.Pa=function(i){if(this.g){if(this.o&&i.value)this.response.push(i.value);else if(!this.o){var a=i.value?i.value:new Uint8Array(0);(a=this.v.decode(a,{stream:!i.done}))&&(this.response=this.responseText+=a)}i.done?Cn(this):kn(this),this.readyState==3&&Wa(this)}},n.Ra=function(i){this.g&&(this.response=this.responseText=i,Cn(this))},n.Qa=function(i){this.g&&(this.response=i,Cn(this))},n.ga=function(){this.g&&Cn(this)};function Cn(i){i.readyState=4,i.l=null,i.j=null,i.v=null,kn(i)}n.setRequestHeader=function(i,a){this.u.append(i,a)},n.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let i=[],a=this.h.entries();for(var u=a.next();!u.done;)u=u.value,i.push(u[0]+": "+u[1]),u=a.next();return i.join(`\r
`)};function kn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(i){this.m=i?"include":"same-origin"}});function Ka(i){let a="";return Q(i,function(u,h){a+=h,a+=":",a+=u,a+=`\r
`}),a}function rs(i,a,u){e:{for(h in u){var h=!1;break e}h=!0}h||(u=Ka(u),typeof i=="string"?u!=null&&encodeURIComponent(String(u)):X(i,a,u))}function te(i){ae.call(this),this.headers=new Map,this.o=i||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(te,ae);var wd=/^https?$/i,Id=["POST","PUT"];n=te.prototype,n.Ha=function(i){this.J=i},n.ea=function(i,a,u,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+i);a=a?a.toUpperCase():"GET",this.D=i,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yi.g(),this.v=this.o?wa(this.o):wa(Yi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(a,String(i),!0),this.B=!1}catch(I){Ga(this,I);return}if(i=u||"",u=new Map(this.headers),h)if(Object.getPrototypeOf(h)===Object.prototype)for(var E in h)u.set(E,h[E]);else if(typeof h.keys=="function"&&typeof h.get=="function")for(let I of h.keys())u.set(I,h.get(I));else throw Error("Unknown input type for opt_headers: "+String(h));h=Array.from(u.keys()).find(I=>I.toLowerCase()=="content-type"),E=l.FormData&&i instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Id,a,void 0))||h||E||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[I,R]of u)this.g.setRequestHeader(I,R);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ya(this),this.u=!0,this.g.send(i),this.u=!1}catch(I){Ga(this,I)}};function Ga(i,a){i.h=!1,i.g&&(i.j=!0,i.g.abort(),i.j=!1),i.l=a,i.m=5,Ha(i),br(i)}function Ha(i){i.A||(i.A=!0,le(i,"complete"),le(i,"error"))}n.abort=function(i){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=i||7,le(this,"complete"),le(this,"abort"),br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),te.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(i){if(i.h&&typeof c<"u"&&(!i.v[1]||Ke(i)!=4||i.Z()!=2)){if(i.u&&Ke(i)==4)_a(i.Ea,0,i);else if(le(i,"readystatechange"),Ke(i)==4){i.h=!1;try{let R=i.Z();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}var u;if(!(u=a)){var h;if(h=R===0){var E=String(i.D).match(Ua)[1]||null;!E&&l.self&&l.self.location&&(E=l.self.location.protocol.slice(0,-1)),h=!wd.test(E?E.toLowerCase():"")}u=h}if(u)le(i,"complete"),le(i,"success");else{i.m=6;try{var I=2<Ke(i)?i.g.statusText:""}catch{I=""}i.l=I+" ["+i.Z()+"]",Ha(i)}}finally{br(i)}}}}function br(i,a){if(i.g){Ya(i);let u=i.g,h=i.v[0]?()=>{}:null;i.g=null,i.v=null,a||le(i,"ready");try{u.onreadystatechange=h}catch{}}}function Ya(i){i.I&&(l.clearTimeout(i.I),i.I=null)}n.isActive=function(){return!!this.g};function Ke(i){return i.g?i.g.readyState:0}n.Z=function(){try{return 2<Ke(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(i){if(this.g){var a=this.g.responseText;return i&&a.indexOf(i)==0&&(a=a.substring(i.length)),ed(a)}};function Ja(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.H){case"":case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Td(i){let a={};i=(i.g&&2<=Ke(i)&&i.g.getAllResponseHeaders()||"").split(`\r
`);for(let h=0;h<i.length;h++){if(L(i[h]))continue;var u=v(i[h]);let E=u[0];if(u=u[1],typeof u!="string")continue;u=u.trim();let I=a[E]||[];a[E]=I,I.push(u)}y(a,function(h){return h.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dn(i,a,u){return u&&u.internalChannelParams&&u.internalChannelParams[i]||a}function Xa(i){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dn("failFast",!1,i),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dn("baseRetryDelayMs",5e3,i),this.cb=Dn("retryDelaySeedMs",1e4,i),this.Wa=Dn("forwardChannelMaxRetries",2,i),this.wa=Dn("forwardChannelRequestTimeoutMs",2e4,i),this.pa=i&&i.xmlHttpFactory||void 0,this.Xa=i&&i.Tb||void 0,this.Ca=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.h=new Oa(i&&i.concurrentRequestLimit),this.Da=new vd,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=i&&i.Rb||!1,i&&i.xa&&this.j.xa(),i&&i.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&i&&i.detectBufferingProxy||!1,this.ja=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.ja=i.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xa.prototype,n.la=8,n.G=1,n.connect=function(i,a,u,h){he(0),this.W=i,this.H=a||{},u&&h!==void 0&&(this.H.OSID=u,this.H.OAID=h),this.F=this.X,this.I=ac(this,null,this.W),Sr(this)};function is(i){if(Za(i),i.G==3){var a=i.U++,u=We(i.I);if(X(u,"SID",i.K),X(u,"RID",a),X(u,"TYPE","terminate"),Nn(i,u),a=new ot(i,i.j,a),a.L=2,a.v=Ir(We(u)),u=!1,l.navigator&&l.navigator.sendBeacon)try{u=l.navigator.sendBeacon(a.v.toString(),"")}catch{}!u&&l.Image&&(new Image().src=a.v,u=!0),u||(a.g=cc(a.j,null),a.g.ea(a.v)),a.F=Date.now(),vr(a)}oc(i)}function Ar(i){i.g&&(os(i),i.g.cancel(),i.g=null)}function Za(i){Ar(i),i.u&&(l.clearTimeout(i.u),i.u=null),Pr(i),i.h.cancel(),i.s&&(typeof i.s=="number"&&l.clearTimeout(i.s),i.s=null)}function Sr(i){if(!Ma(i.h)&&!i.s){i.s=!0;var a=i.Ga;N||ne(),O||(N(),O=!0),F.add(a,i),i.B=0}}function bd(i,a){return Va(i.h)>=i.h.j-(i.s?1:0)?!1:i.s?(i.i=a.D.concat(i.i),!0):i.G==1||i.G==2||i.B>=(i.Va?0:i.Wa)?!1:(i.s=In(b(i.Ga,i,a),sc(i,i.B)),i.B++,!0)}n.Ga=function(i){if(this.s)if(this.s=null,this.G==1){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;let E=new ot(this,this.j,i),I=this.o;if(this.S&&(I?(I=p(I),_(I,this.S)):I=this.S),this.m!==null||this.O||(E.H=I,I=null),this.P)e:{for(var a=0,u=0;u<this.i.length;u++){t:{var h=this.i[u];if("__data__"in h.map&&(h=h.map.__data__,typeof h=="string")){h=h.length;break t}h=void 0}if(h===void 0)break;if(a+=h,4096<a){a=u;break e}if(a===4096||u===this.i.length-1){a=u+1;break e}}a=1e3}else a=1e3;a=tc(this,E,a),u=We(this.I),X(u,"RID",i),X(u,"CVER",22),this.D&&X(u,"X-HTTP-Session-Id",this.D),Nn(this,u),I&&(this.O?a="headers="+encodeURIComponent(String(Ka(I)))+"&"+a:this.m&&rs(u,this.m,I)),ns(this.h,E),this.Ua&&X(u,"TYPE","init"),this.P?(X(u,"$req",a),X(u,"SID","null"),E.T=!0,Xi(E,u,null)):Xi(E,u,a),this.G=2}}else this.G==3&&(i?ec(this,i):this.i.length==0||Ma(this.h)||ec(this))};function ec(i,a){var u;a?u=a.l:u=i.U++;let h=We(i.I);X(h,"SID",i.K),X(h,"RID",u),X(h,"AID",i.T),Nn(i,h),i.m&&i.o&&rs(h,i.m,i.o),u=new ot(i,i.j,u,i.B+1),i.m===null&&(u.H=i.o),a&&(i.i=a.D.concat(i.i)),a=tc(i,u,1e3),u.I=Math.round(.5*i.wa)+Math.round(.5*i.wa*Math.random()),ns(i.h,u),Xi(u,h,a)}function Nn(i,a){i.H&&Q(i.H,function(u,h){X(a,h,u)}),i.l&&Fa({},function(u,h){X(a,h,u)})}function tc(i,a,u){u=Math.min(i.i.length,u);var h=i.l?b(i.l.Na,i.l,i):null;e:{var E=i.i;let I=-1;for(;;){let R=["count="+u];I==-1?0<u?(I=E[0].g,R.push("ofs="+I)):I=0:R.push("ofs="+I);let H=!0;for(let se=0;se<u;se++){let z=E[se].g,ce=E[se].map;if(z-=I,0>z)I=Math.max(0,E[se].g-100),H=!1;else try{Ed(ce,R,"req"+z+"_")}catch{h&&h(ce)}}if(H){h=R.join("&");break e}}}return i=i.i.splice(0,u),a.D=i,h}function nc(i){if(!i.g&&!i.u){i.Y=1;var a=i.Fa;N||ne(),O||(N(),O=!0),F.add(a,i),i.v=0}}function ss(i){return i.g||i.u||3<=i.v?!1:(i.Y++,i.u=In(b(i.Fa,i),sc(i,i.v)),i.v++,!0)}n.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var i=2*this.R;this.j.info("BP detection timer enabled: "+i),this.A=In(b(this.ab,this),i)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),Ar(this),rc(this))};function os(i){i.A!=null&&(l.clearTimeout(i.A),i.A=null)}function rc(i){i.g=new ot(i,i.j,"rpc",i.Y),i.m===null&&(i.g.H=i.o),i.g.O=0;var a=We(i.qa);X(a,"RID","rpc"),X(a,"SID",i.K),X(a,"AID",i.T),X(a,"CI",i.F?"0":"1"),!i.F&&i.ja&&X(a,"TO",i.ja),X(a,"TYPE","xmlhttp"),Nn(i,a),i.m&&i.o&&rs(a,i.m,i.o),i.L&&(i.g.I=i.L);var u=i.g;i=i.ia,u.L=1,u.v=Ir(We(a)),u.m=null,u.P=!0,ka(u,i)}n.Za=function(){this.C!=null&&(this.C=null,Ar(this),ss(this),he(19))};function Pr(i){i.C!=null&&(l.clearTimeout(i.C),i.C=null)}function ic(i,a){var u=null;if(i.g==a){Pr(i),os(i),i.g=null;var h=2}else if(ts(i.h,a))u=a.D,xa(i.h,a),h=1;else return;if(i.G!=0){if(a.o)if(h==1){u=a.m?a.m.length:0,a=Date.now()-a.F;var E=i.B;h=gr(),le(h,new Sa(h,u)),Sr(i)}else nc(i);else if(E=a.s,E==3||E==0&&0<a.X||!(h==1&&bd(i,a)||h==2&&ss(i)))switch(u&&0<u.length&&(a=i.h,a.i=a.i.concat(u)),E){case 1:Et(i,5);break;case 4:Et(i,10);break;case 3:Et(i,6);break;default:Et(i,2)}}}function sc(i,a){let u=i.Ta+Math.floor(Math.random()*i.cb);return i.isActive()||(u*=2),u*a}function Et(i,a){if(i.j.info("Error code "+a),a==2){var u=b(i.fb,i),h=i.Xa;let E=!h;h=new vt(h||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Er(h,"https"),Ir(h),E?_d(h.toString(),u):yd(h.toString(),u)}else he(2);i.G=0,i.l&&i.l.sa(a),oc(i),Za(i)}n.fb=function(i){i?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function oc(i){if(i.G=0,i.ka=[],i.l){let a=La(i.h);(a.length!=0||i.i.length!=0)&&(M(i.ka,a),M(i.ka,i.i),i.h.i.length=0,k(i.i),i.i.length=0),i.l.ra()}}function ac(i,a,u){var h=u instanceof vt?We(u):new vt(u);if(h.g!="")a&&(h.g=a+"."+h.g),wr(h,h.s);else{var E=l.location;h=E.protocol,a=a?a+"."+E.hostname:E.hostname,E=+E.port;var I=new vt(null);h&&Er(I,h),a&&(I.g=a),E&&wr(I,E),u&&(I.l=u),h=I}return u=i.D,a=i.ya,u&&a&&X(h,u,a),X(h,"VER",i.la),Nn(i,h),h}function cc(i,a,u){if(a&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return a=i.Ca&&!i.pa?new te(new Rn({eb:u})):new te(i.pa),a.Ha(i.J),a}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}n=uc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Rr(){}Rr.prototype.g=function(i,a){return new ve(i,a)};function ve(i,a){ae.call(this),this.g=new Xa(a),this.l=i,this.h=a&&a.messageUrlParams||null,i=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.o=i,i=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(i?i["X-WebChannel-Content-Type"]=a.messageContentType:i={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.va&&(i?i["X-WebChannel-Client-Profile"]=a.va:i={"X-WebChannel-Client-Profile":a.va}),this.g.S=i,(i=a&&a.Sb)&&!L(i)&&(this.g.m=i),this.v=a&&a.supportsCrossDomainXhr||!1,this.u=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!L(a)&&(this.g.D=a,i=this.h,i!==null&&a in i&&(i=this.h,a in i&&delete i[a])),this.j=new Wt(this)}S(ve,ae),ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ve.prototype.close=function(){is(this.g)},ve.prototype.o=function(i){var a=this.g;if(typeof i=="string"){var u={};u.__data__=i,i=u}else this.u&&(u={},u.__data__=Ki(i),i=u);a.i.push(new ad(a.Ya++,i)),a.G==3&&Sr(a)},ve.prototype.N=function(){this.g.l=null,delete this.j,is(this.g),delete this.g,ve.aa.N.call(this)};function lc(i){Hi.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var a=i.__sm__;if(a){e:{for(let u in a){i=u;break e}i=void 0}(this.i=i)&&(i=this.i,a=a!==null&&i in a?a[i]:void 0),this.data=a}else this.data=i}S(lc,Hi);function hc(){Qi.call(this),this.status=1}S(hc,Qi);function Wt(i){this.g=i}S(Wt,uc),Wt.prototype.ua=function(){le(this.g,"a")},Wt.prototype.ta=function(i){le(this.g,new lc(i))},Wt.prototype.sa=function(i){le(this.g,new hc)},Wt.prototype.ra=function(){le(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,ve.prototype.send=ve.prototype.o,ve.prototype.open=ve.prototype.m,ve.prototype.close=ve.prototype.close,ul=Xe.createWebChannelTransport=function(){return new Rr},cl=Xe.getStatEventTarget=function(){return gr()},al=Xe.Event=_t,ol=Xe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,sl=Xe.ErrorCode=_r,Pa.COMPLETE="complete",il=Xe.EventType=Pa,Ia.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",ae.prototype.listen=ae.prototype.K,rl=Xe.WebChannel=Ia,Xm=Xe.FetchXmlHttpFactory=Rn,te.prototype.listenOnce=te.prototype.L,te.prototype.getLastError=te.prototype.Ka,te.prototype.getLastErrorCode=te.prototype.Ba,te.prototype.getStatus=te.prototype.Z,te.prototype.getResponseJson=te.prototype.Oa,te.prototype.getResponseText=te.prototype.oa,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Ha,nl=Xe.XhrIo=te}).apply(typeof ii<"u"?ii:typeof self<"u"?self:typeof window<"u"?window:{});var ll="@firebase/firestore",hl="4.8.0";var oe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};oe.UNAUTHENTICATED=new oe(null),oe.GOOGLE_CREDENTIALS=new oe("google-credentials-uid"),oe.FIRST_PARTY=new oe("first-party-uid"),oe.MOCK_USER=new oe("mock-user");var rr="11.10.0";var hn=new Fe("@firebase/firestore");function Me(n,...e){if(hn.logLevel<=K.DEBUG){let t=e.map(Co);hn.debug(`Firestore (${rr}): ${n}`,...t)}}function bl(n,...e){if(hn.logLevel<=K.ERROR){let t=e.map(Co);hn.error(`Firestore (${rr}): ${n}`,...t)}}function Zm(n,...e){if(hn.logLevel<=K.WARN){let t=e.map(Co);hn.warn(`Firestore (${rr}): ${n}`,...t)}}function Co(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Al(n,r,t)}function Al(n,e,t){let r=`FIRESTORE (${rr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw bl(r),new Error(r)}function xt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Al(e,s,r)}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Ae{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Lt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var si=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},uo=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oe.UNAUTHENTICATED))}shutdown(){}},lo=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ho=class{constructor(e){this.t=e,this.currentUser=oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xt(this.o===void 0,42304);let r=this.i,s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve(),o=new Lt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Lt,e.enqueueRetryable(()=>s(this.currentUser))};let c=()=>{let d=o;e.enqueueRetryable(()=>P(this,null,function*(){yield d.promise,yield s(this.currentUser)}))},l=d=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Lt)}},0),c()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new si(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new oe(e)}},fo=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=oe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},po=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new fo(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},oi=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},mo=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Je(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xt(this.o===void 0,3512);let r=o=>{o.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let c=o.token!==this.m;return this.m=o.token,Me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let s=o=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?s(o):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oi(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new oi(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function eg(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function tg(){return new TextEncoder}var go=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let s=eg(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}};function Pe(n,e){return n<e?-1:n>e?1:0}function ng(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Pe(r,s);{let o=tg(),c=rg(o.encode(dl(n,t)),o.encode(dl(e,t)));return c!==0?c:Pe(r,s)}}t+=r>65535?2:1}return Pe(n.length,e.length)}function dl(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function rg(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Pe(n[t],e[t]);return Pe(n.length,e.length)}var fl="__name__",ai=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let s=0;s<r;s++){let o=n.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Pe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),s=n.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?n.extractNumericId(e).compare(n.extractNumericId(t)):ng(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ri.fromString(e.substring(4,e.length-2))}},Ze=class n extends ai{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new n(t)}static emptyPath(){return new n([])}},ig=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_o=class n extends ai{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return ig.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fl}static keyField(){return new n([fl])}static fromServerFormat(e){let t=[],r="",s=0,o=()=>{if(r.length===0)throw new B($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},c=!1;for(;s<e.length;){let l=e[s];if(l==="\\"){if(s+1===e.length)throw new B($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new B($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(r+=l,s++):(o(),s++)}if(o(),c)throw new B($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var et=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ze.fromString(e))}static fromName(e){return new n(Ze.fromString(e).popFirst(5))}static empty(){return new n(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ze(e.slice()))}};function sg(n,e,t,r){if(e===!0&&r===!0)throw new B($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function og(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ag(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge(12329,{type:typeof n})}function cg(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ag(n);throw new B($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ie(n,e){let t={typeString:n};return e&&(t.value=e),t}function ir(n,e){if(!og(n))throw new B($.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let c=n[r];if(s&&typeof c!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new B($.INVALID_ARGUMENT,t);return!0}var pl=-62135596800,ml=1e6,Jn=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ml);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pl)throw new B($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ml}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ir(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-pl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Jn._jsonSchemaVersion="firestore/timestamp/1.0",Jn._jsonSchema={type:ie("string",Jn._jsonSchemaVersion),seconds:ie("number"),nanoseconds:ie("number")};var yo=class{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}};yo.UNKNOWN_ID=-1;function ug(n){return n.name==="IndexedDbTransactionError"}function lg(n){return n===0&&1/n==-1/0}var hg="remoteDocuments",Sl="owner";var Pl="mutationQueues";var Rl="mutations";var Cl="documentMutations",dg="remoteDocumentsV14";var kl="remoteDocumentGlobal";var Dl="targets";var Nl="targetDocuments";var Ol="targetGlobal",Ml="collectionParents";var Vl="clientMetadata";var xl="bundles";var Ll="namedQueries";var fg="indexConfiguration";var pg="indexState";var mg="indexEntries";var Fl="documentOverlays";var gg="globals";var _g=[Pl,Rl,Cl,hg,Dl,Sl,Ol,Nl,Vl,kl,Ml,xl,Ll],VE=[..._g,Fl],yg=[Pl,Rl,Cl,dg,Dl,Sl,Ol,Nl,Vl,kl,Ml,xl,Ll,Fl],vg=yg,Eg=[...vg,fg,pg,mg];var xE=[...Eg,gg];var dn=class n{constructor(e,t){this.comparator=e,this.root=t||qe.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new an(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new an(this.root,e,this.comparator,!1)}getReverseIterator(){return new an(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new an(this.root,e,this.comparator,!0)}},an=class{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qe=class n{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=s??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new n(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this,o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}};qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new qe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ci=class n{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ui(this.data.getIterator())}getIteratorFrom(e){return new ui(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ui=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vo=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var mt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vo("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};mt.EMPTY_BYTE_STRING=new mt("");var wg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ig(n){if(xt(!!n,39018),typeof n=="string"){let e=0,t=wg.exec(n);if(xt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xn(n.seconds),nanos:Xn(n.nanos)}}function Xn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Tg(n){return typeof n=="string"?mt.fromBase64String(n):mt.fromUint8Array(n)}var Eo="(default)",wo=class n{constructor(e,t){this.projectId=e,this.database=t||Eo}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Eo}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Ul="__type__",bg="__max__";var Bl="__vector__",ql="value";function Ag(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ul])===null||t===void 0?void 0:t.stringValue)===Bl}function Sg(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bg}var FE={mapValue:{fields:{[Ul]:{stringValue:Bl},[ql]:{arrayValue:{}}}}};var Io=class{constructor(e,t=null,r=[],s=[],o=null,c="F",l=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=l,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Pg(n){return new Io(n)}var UE=new dn(et.comparator);var BE=new dn(et.comparator);var qE=new dn(et.comparator),$E=new ci(et.comparator);var jE=new ci(Pe);var gl,q;(q=gl||(gl={}))[q.OK=0]="OK",q[q.CANCELLED=1]="CANCELLED",q[q.UNKNOWN=2]="UNKNOWN",q[q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",q[q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",q[q.NOT_FOUND=5]="NOT_FOUND",q[q.ALREADY_EXISTS=6]="ALREADY_EXISTS",q[q.PERMISSION_DENIED=7]="PERMISSION_DENIED",q[q.UNAUTHENTICATED=16]="UNAUTHENTICATED",q[q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",q[q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",q[q.ABORTED=10]="ABORTED",q[q.OUT_OF_RANGE=11]="OUT_OF_RANGE",q[q.UNIMPLEMENTED=12]="UNIMPLEMENTED",q[q.INTERNAL=13]="INTERNAL",q[q.UNAVAILABLE=14]="UNAVAILABLE",q[q.DATA_LOSS=15]="DATA_LOSS";var zE=new ri([4294967295,4294967295],0);var li=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Xn(e.integerValue));else if("doubleValue"in e){let r=Xn(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),lg(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Ig(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Tg(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Sg(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Ag(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ge(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let s of Object.keys(r))this.xt(s,t),this.Dt(r[s],t)}Lt(e,t){var r,s;let o=e.fields||{};this.Ct(t,53);let c=ql,l=((s=(r=o[c].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Ct(t,15),t.Ft(Xn(l)),this.xt(c,t),this.Dt(o[c],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let s of r)this.Dt(s,t)}Bt(e,t){this.Ct(t,37),et.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};li.Ut=new li;var WE=new Uint8Array(0);var $l=41943040,Be=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Be.DEFAULT_COLLECTION_PERCENTILE=10,Be.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Be.DEFAULT=new Be($l,Be.DEFAULT_COLLECTION_PERCENTILE,Be.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Be.DISABLED=new Be(-1,0,0);var Rg=1048576;function co(){return typeof document<"u"?document:null}var To=class{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&Me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var bo=class n{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Lt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){let c=Date.now()+r,l=new n(e,t,c,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var _l,yl;(yl=_l||(_l={})).Fa="default",yl.Cache="cache";function Cg(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var vl=new Map;var jl="firestore.googleapis.com",El=!0,hi=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jl,this.ssl=El}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:El;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$l;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rg)throw new B($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cg((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},di=class{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hi({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hi(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uo;switch(r.type){case"firstParty":return new po(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=vl.get(t);r&&(Me("ComponentProvider","Removing Datastore"),vl.delete(t),r.terminate())})(this),Promise.resolve()}};function ko(n,e,t,r={}){var s;n=cg(n,di);let o=tn(e),c=n._getSettings(),l=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o&&(Ts(`https://${d}`),bs("Firestore",!0)),c.host!==jl&&c.host!==d&&Zm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let f=Object.assign(Object.assign({},c),{host:d,ssl:o,emulatorOptions:r});if(!At(f,l)&&(n._setSettings(f),r.mockUserToken)){let T,A;if(typeof r.mockUserToken=="string")T=r.mockUserToken,A=oe.MOCK_USER;else{T=eu(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);let b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new B($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new oe(b)}n._authCredentials=new lo(new si(T,A))}}var Ao=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ir(t,n._jsonSchema))return new n(e,r||null,new et(Ze.fromString(t.referencePath)))}};Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:ie("string",Ft._jsonSchemaVersion),referencePath:ie("string")};var So=class n extends Ao{constructor(e,t,r){super(e,t,Pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new et(e))}withConverter(e){return new n(this.firestore,e,this._path)}};var wl="AsyncQueue",fi=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new To(this,"async_queue_retry"),this.oc=()=>{let r=co();r&&Me(wl,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=co();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=co();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Lt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return P(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ug(e))throw e;Me(wl,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,bl("INTERNAL UNHANDLED ERROR: ",Il(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let s=bo.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(s),s}ac(){this.tc&&ge(47125,{hc:Il(this.tc)})}verifyOperationInProgress(){}Pc(){return P(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function Il(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Po=class extends di{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new fi,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new fi(e),this._firestoreClient=void 0,yield e}})}};function zl(n,e){let t=typeof n=="object"?n:rn(),r=typeof n=="string"?n:e||Eo,s=Fr(t,"firestore").getImmediate({identifier:r});if(!s._initialized){let o=Xc("firestore");o&&ko(s,...o)}return s}var Zn=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(mt.fromBase64String(e))}catch(t){throw new B($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ir(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:ie("string",Zn._jsonSchemaVersion),bytes:ie("string")};var pi=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _o(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var er=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ir(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};er._jsonSchemaVersion="firestore/geoPoint/1.0",er._jsonSchema={type:ie("string",er._jsonSchemaVersion),latitude:ie("number"),longitude:ie("number")};var tr=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ir(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new B($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};tr._jsonSchemaVersion="firestore/vectorValue/1.0",tr._jsonSchema={type:ie("string",tr._jsonSchemaVersion),vectorValues:ie("object")};var kg=new RegExp("[~\\*/\\[\\]]");function Dg(n,e,t){if(e.search(kg)>=0)throw Tl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pi(...e.split("."))._internalPath}catch{throw Tl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Tl(n,e,t,r,s){let o=r&&!r.isEmpty(),c=s!==void 0,l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${s}`),d+=")"),new B($.INVALID_ARGUMENT,l+n+d)}var mi=class{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ro(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Wl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Ro=class extends mi{data(){return super.data()}};function Wl(n,e){return typeof e=="string"?Dg(n,e):e instanceof pi?e._internalPath:e._delegate._internalPath}var cn=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},un=class n extends mi{constructor(e,t,r,s,o,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ln(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Wl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};un._jsonSchemaVersion="firestore/documentSnapshot/1.0",un._jsonSchema={type:ie("string",un._jsonSchemaVersion),bundleSource:ie("string","DocumentSnapshot"),bundleName:ie("string"),bundle:ie("string")};var ln=class extends un{data(e={}){return super.data(e)}},nr=class n{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new cn(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ln(this._firestore,this._userDataWriter,r.key,r,new cn(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(l=>{let d=new ln(s._firestore,s._userDataWriter,l.doc.key,l.doc,new cn(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let d=new ln(s._firestore,s._userDataWriter,l.doc.key,l.doc,new cn(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter),f=-1,T=-1;return l.type!==0&&(f=c.indexOf(l.doc.key),c=c.delete(l.doc.key)),l.type!==1&&(c=c.add(l.doc),T=c.indexOf(l.doc.key)),{type:Ng(l.type),doc:d,oldIndex:f,newIndex:T}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=go.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Ng(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:n})}}nr._jsonSchemaVersion="firestore/querySnapshot/1.0",nr._jsonSchema={type:ie("string",nr._jsonSchemaVersion),bundleSource:ie("string","QuerySnapshot"),bundleName:ie("string"),bundle:ie("string")};(function(e,t=!0){(function(s){rr=s})(nn),Ne(new de("firestore",(r,{instanceIdentifier:s,options:o})=>{let c=r.getProvider("app").getImmediate(),l=new Po(new ho(r.getProvider("auth-internal")),new mo(c,r.getProvider("app-check-internal")),(function(f,T){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new B($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wo(f.options.projectId,T)})(c,s),c);return o=Object.assign({useFetchStreams:t},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),re(ll,hl,e),re(ll,hl,"esm2017")})();var sr=class{constructor(e){return e}},Kl="firestore",Do=class{constructor(){return on(Kl)}};var No=new Ht("angularfire2.firestore-instances");function Og(n,e){let t=$r(Kl,n,e);return t&&new sr(t)}function Mg(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new sr(r)}}var Vg={provide:Do,deps:[[new ht,No]]},xg={provide:sr,useFactory:Og,deps:[[new ht,No],Nt]};function Gl(n,...e){return re("angularfire",Ct.full,"fst"),Qt([xg,Vg,{provide:No,useFactory:Mg(n),multi:!0,deps:[Te,lt,kt,zn,[new ht,ni],[new ht,zr],...e]}])}var Hl=Dt(ko,!0);var Oo=Dt(zl,!0);var Ql=[{path:"",loadComponent:()=>import("./chunk-TUND4UUW.js").then(n=>n.Home)},{path:"connexion",loadComponent:()=>import("./chunk-ELNXNGQ2.js").then(n=>n.IdentificationComponent)},{path:"poules",loadComponent:()=>import("./chunk-QPFWYVHU.js").then(n=>n.Poule)},{path:"club",loadComponent:()=>import("./chunk-IDPJ7WEP.js").then(n=>n.Equipes)},{path:"equipes",loadComponent:()=>import("./chunk-IDPJ7WEP.js").then(n=>n.Equipes)},{path:"matchs",loadComponent:()=>import("./chunk-4WVXY7ZW.js").then(n=>n.Matchs)},{path:"detailmatch",loadComponent:()=>import("./chunk-TWDLHZNF.js").then(n=>n.DetailMatch)},{path:"classement",loadComponent:()=>import("./chunk-3T7IP7DJ.js").then(n=>n.Classement)},{path:"info-equipe",loadComponent:()=>import("./chunk-ELQ6VKJC.js").then(n=>n.InfoEquipe)},{path:"resultats",loadComponent:()=>import("./chunk-YCT7VXSC.js").then(n=>n.Resultats)}];var Mo={providers:[wc(),Nc({eventCoalescing:!0}),bu(()=>{let n=Au(qc.firebaseConfig),e=Oo(n);return(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(console.log("Connect\xE9 \xE0 l'\xE9mulateur Firestore sur localhost:8080"),Hl(e,"127.0.0.1",8080)),n}),Gl(()=>Oo()),Bc(Ql)]};function Lg(n,e){if(n&1){let t=ms();be(0,"li")(1,"a",13),Tt("click",function(){Vn(t);let s=Ln();return xn(s.closeMenu())}),Qe(2,"Matchs"),Ee()(),be(3,"li")(4,"a",14),Tt("click",function(){Vn(t);let s=Ln();return xn(s.closeMenu())}),Qe(5,"Equipes du club"),Ee()(),be(6,"li")(7,"a",15),Tt("click",function(){Vn(t);let s=Ln();return s.disconnect(),xn(s.closeMenu())}),Qe(8,"D\xE9connexion"),Ee()()}}function Fg(n,e){if(n&1){let t=ms();be(0,"li")(1,"a",15),Tt("click",function(){Vn(t);let s=Ln();return xn(s.closeMenu())}),Qe(2,"Connexion"),Ee()()}}var gi=class n{constructor(e,t,r,s,o){this.appMessage=e;this.auth=t;this.router=r;this.globalService=s;this.supabaseService=o;this.message$=this.appMessage.message$,this.isConnected$=this.globalService.getIsConnected(),console.log("App initialized, checking season...",this.isConnected$),this.saisonParsed$=this.globalService.saisonParsed,this.globalService.setSaison()}title=ds("volley");username="";password="";message$;isConnected$;saisonParsed$;closeMenu(){let e=document.getElementById("menu-toggle");e&&(e.checked=!1)}disconnect(){this.globalService.disconnect()}static \u0275fac=function(t){return new(t||n)(Jt(jc),Jt($c),Jt(Fc),Jt(Wc),Jt(zc))};static \u0275cmp=Ac({type:n,selectors:[["app-root"]],decls:33,vars:16,consts:[["id","menu-toggle","type","checkbox","aria-hidden","true",1,"menu-toggle"],["for","menu-toggle","aria-label","Open menu",1,"burger"],["aria-hidden","true",1,"side-menu"],["routerLink","/",3,"click"],["for","menu-toggle","aria-hidden","true",1,"menu-overlay"],[1,"app-container"],["role","banner",1,"main-header"],[1,"header-left"],["routerLink","/","aria-label","Accueil",1,"logo-link",3,"click"],["src","assets/LogoUfolep.gif","alt","UFOLEP logo",1,"header-logo"],[1,"header-right"],[1,"header-text"],["id","app-footer","aria-live","polite","role","status",1,"app-footer"],["routerLink","/matchs",3,"click"],["routerLink","/equipes",3,"click"],["routerLink","/connexion",3,"click"]],template:function(t,r){if(t&1&&(Xt(0,"input",0),be(1,"label",1),Xt(2,"span")(3,"span")(4,"span"),Ee(),be(5,"nav",2)(6,"ul")(7,"li")(8,"a",3),Tt("click",function(){return r.closeMenu()}),Qe(9,"Accueil"),Ee()(),Pc(10,Lg,9,0),Zt(11,"async"),Rc(12,Fg,3,0,"li"),Ee()(),Xt(13,"label",4),be(14,"div",5)(15,"header",6)(16,"div",7)(17,"a",8),Tt("click",function(){return r.closeMenu()}),Xt(18,"img",9),Ee()(),be(19,"div",10)(20,"div",11)(21,"div"),Qe(22),Zt(23,"async"),Ee(),be(24,"div"),Qe(25),Zt(26,"async"),Ee()()()(),be(27,"main"),Xt(28,"router-outlet"),Ee(),be(29,"footer",12),Zt(30,"async"),Qe(31),Zt(32,"async"),Ee()()),t&2){let s,o;Yt(10),Cc(en(11,6,r.isConnected$)?10:12),Yt(12),gs((s=en(23,8,r.saisonParsed$))==null?null:s.startYear),Yt(3),gs((o=en(26,10,r.saisonParsed$))==null?null:o.endYear),Yt(4),kc("visible",en(30,12,r.message$)),Yt(2),Dc(" ",en(32,14,r.message$)," ")}},dependencies:[Lc,Uc,Or,Mc,Kc,Oc],styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.main-header[_ngcontent-%COMP%]{height:81px;display:flex;align-items:center;padding:0 1rem;justify-content:center}main[_ngcontent-%COMP%]{flex:1;padding:1rem;display:flex;justify-content:center;overflow-y:auto;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.22) rgba(0,0,0,.06);padding:0;flex-direction:column}main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#94a3b8}.menu-toggle[_ngcontent-%COMP%]{display:none}.burger[_ngcontent-%COMP%]{position:fixed;top:16px;left:16px;width:28px;height:24px;display:flex;flex-direction:column;justify-content:space-between;padding:4px;z-index:1100;cursor:pointer}.burger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:2px;background:#f1f5f9;border-radius:1px;transition:transform .25s ease,opacity .25s ease}.side-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:260px;transform:translate(-100%);transition:transform .28s ease;background:#0f172a;padding:88px 16px 16px;z-index:1050;box-shadow:2px 0 10px #0006;overflow:auto}.side-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.side-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:8px 0}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e6eef8;text-decoration:none;font-weight:600}.menu-overlay[_ngcontent-%COMP%]{display:none;position:fixed;inset:0;background:#00000059;z-index:1020}#menu-toggle[_ngcontent-%COMP%]:checked ~ .side-menu[_ngcontent-%COMP%]{transform:translate(0)}#menu-toggle[_ngcontent-%COMP%]:checked ~ .menu-overlay[_ngcontent-%COMP%]{display:block}#menu-toggle[_ngcontent-%COMP%]:checked + .burger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:rotate(45deg) translate(5px,5px)}#menu-toggle[_ngcontent-%COMP%]:checked + .burger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:0}#menu-toggle[_ngcontent-%COMP%]:checked + .burger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}@media (max-width: 480px){.side-menu[_ngcontent-%COMP%]{width:80%}}.main-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:12px}.main-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem}.main-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.85rem;color:#94a3b8}.header-logo[_ngcontent-%COMP%]{height:80px;width:auto;display:block;flex-shrink:0}.header-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px;font-size:.9rem;font-weight:500}.main-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{position:absolute;right:20px;display:flex;gap:8px;align-items:center}.main-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .header-action[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}.logo-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.logo-link[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]{cursor:pointer}.header-next[_ngcontent-%COMP%]{margin-left:8px;background:transparent;color:#e6eef8;border:1px solid rgba(230,238,248,.08);padding:8px 10px;border-radius:8px;cursor:pointer}@media (max-width: 480px){.main-header[_ngcontent-%COMP%]{padding:8px 0}.main-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.header-logo[_ngcontent-%COMP%]{height:56px}}.app-footer[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;justify-content:center}.app-footer.visible[_ngcontent-%COMP%]{transform:translateY(0);opacity:1;pointer-events:auto}']})};var x=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(x||{}),Ve="*";function Yl(n,e=null){return{type:x.Sequence,steps:n,options:e}}function Vo(n){return{type:x.Style,styles:n,offset:null}}var tt=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},fn=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,s=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==o&&this._onFinish()}),c.onDestroy(()=>{++r==o&&this._onDestroy()}),c.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,l)=>Math.max(c,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},or="!";function Jl(n){return new V(3e3,!1)}function Ug(){return new V(3100,!1)}function Bg(){return new V(3101,!1)}function qg(n){return new V(3001,!1)}function $g(n){return new V(3003,!1)}function jg(n){return new V(3004,!1)}function Zl(n,e){return new V(3005,!1)}function eh(){return new V(3006,!1)}function th(){return new V(3007,!1)}function nh(n,e){return new V(3008,!1)}function rh(n){return new V(3002,!1)}function ih(n,e,t,r,s){return new V(3010,!1)}function sh(){return new V(3011,!1)}function oh(){return new V(3012,!1)}function ah(){return new V(3200,!1)}function ch(){return new V(3202,!1)}function uh(){return new V(3013,!1)}function lh(n){return new V(3014,!1)}function hh(n){return new V(3015,!1)}function dh(n){return new V(3016,!1)}function fh(n,e){return new V(3404,!1)}function zg(n){return new V(3502,!1)}function ph(n){return new V(3503,!1)}function mh(){return new V(3300,!1)}function gh(n){return new V(3504,!1)}function _h(n){return new V(3301,!1)}function yh(n,e){return new V(3302,!1)}function vh(n){return new V(3303,!1)}function Eh(n,e){return new V(3400,!1)}function wh(n){return new V(3401,!1)}function Ih(n){return new V(3402,!1)}function Th(n,e){return new V(3505,!1)}function nt(n){switch(n.length){case 0:return new tt;case 1:return n[0];default:return new fn(n)}}function Uo(n,e,t=new Map,r=new Map){let s=[],o=[],c=-1,l=null;if(e.forEach(d=>{let f=d.get("offset"),T=f==c,A=T&&l||new Map;d.forEach((b,C)=>{let S=C,k=b;if(C!=="offset")switch(S=n.normalizePropertyName(S,s),k){case or:k=t.get(C);break;case Ve:k=r.get(C);break;default:k=n.normalizeStyleValue(C,S,k,s);break}A.set(S,k)}),T||o.push(A),l=A,c=f}),s.length)throw zg(s);return o}function _i(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&xo(t,"start",n)));break;case"done":n.onDone(()=>r(t&&xo(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&xo(t,"destroy",n)));break}}function xo(n,e,t){let r=t.totalTime,s=!!t.disabled,o=yi(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,s),c=n._data;return c!=null&&(o._data=c),o}function yi(n,e,t,r,s="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:o,disabled:!!c}}function _e(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Bo(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var Wg=typeof document>"u"?null:document.documentElement;function vi(n){let e=n.parentNode||n.host||null;return e===Wg?null:e}function Kg(n){return n.substring(1,6)=="ebkit"}var Ut=null,Xl=!1;function bh(n){Ut||(Ut=Gg()||{},Xl=Ut.style?"WebkitAppearance"in Ut.style:!1);let e=!0;return Ut.style&&!Kg(n)&&(e=n in Ut.style,!e&&Xl&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ut.style)),e}function Gg(){return typeof document<"u"?document.body:null}function qo(n,e){for(;e;){if(e===n)return!0;e=vi(e)}return!1}function $o(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var Hg=1e3,jo="{{",Qg="}}",zo="ng-enter",Ei="ng-leave",ar="ng-trigger",cr=".ng-trigger",Wo="ng-animating",wi=".ng-animating";function $e(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Lo(parseFloat(e[1]),e[2])}function Lo(n,e){switch(e){case"s":return n*Hg;default:return n}}function ur(n,e,t){return n.hasOwnProperty("duration")?n:Jg(n,e,t)}var Yg=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Jg(n,e,t){let r,s=0,o="";if(typeof n=="string"){let c=n.match(Yg);if(c===null)return e.push(Jl(n)),{duration:0,delay:0,easing:""};r=Lo(parseFloat(c[1]),c[2]);let l=c[3];l!=null&&(s=Lo(parseFloat(l),c[4]));let d=c[5];d&&(o=d)}else r=n;if(!t){let c=!1,l=e.length;r<0&&(e.push(Ug()),c=!0),s<0&&(e.push(Bg()),c=!0),c&&e.splice(l,0,Jl(n))}return{duration:r,delay:s,easing:o}}function Ah(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function xe(n,e,t){e.forEach((r,s)=>{let o=Ii(s);t&&!t.has(s)&&t.set(s,n.style[o]),n.style[o]=r})}function gt(n,e){e.forEach((t,r)=>{let s=Ii(r);n.style[s]=""})}function pn(n){return Array.isArray(n)?n.length==1?n[0]:Yl(n):n}function Sh(n,e,t){let r=e.params||{},s=Ko(n);s.length&&s.forEach(o=>{r.hasOwnProperty(o)||t.push(qg(o))})}var Fo=new RegExp(`${jo}\\s*(.+?)\\s*${Qg}`,"g");function Ko(n){let e=[];if(typeof n=="string"){let t;for(;t=Fo.exec(n);)e.push(t[1]);Fo.lastIndex=0}return e}function mn(n,e,t){let r=`${n}`,s=r.replace(Fo,(o,c)=>{let l=e[c];return l==null&&(t.push($g(c)),l=""),l.toString()});return s==r?n:s}var Xg=/-+([a-z0-9])/g;function Ii(n){return n.replace(Xg,(...e)=>e[1].toUpperCase())}function Ph(n,e){return n===0||e===0}function Rh(n,e,t){if(t.size&&e.length){let r=e[0],s=[];if(t.forEach((o,c)=>{r.has(c)||s.push(c),r.set(c,o)}),s.length)for(let o=1;o<e.length;o++){let c=e[o];s.forEach(l=>c.set(l,Ti(n,l)))}}return e}function ye(n,e,t){switch(e.type){case x.Trigger:return n.visitTrigger(e,t);case x.State:return n.visitState(e,t);case x.Transition:return n.visitTransition(e,t);case x.Sequence:return n.visitSequence(e,t);case x.Group:return n.visitGroup(e,t);case x.Animate:return n.visitAnimate(e,t);case x.Keyframes:return n.visitKeyframes(e,t);case x.Style:return n.visitStyle(e,t);case x.Reference:return n.visitReference(e,t);case x.AnimateChild:return n.visitAnimateChild(e,t);case x.AnimateRef:return n.visitAnimateRef(e,t);case x.Query:return n.visitQuery(e,t);case x.Stagger:return n.visitStagger(e,t);default:throw jg(e.type)}}function Ti(n,e){return window.getComputedStyle(n)[e]}var ua=(()=>{class n{validateStyleProperty(t){return bh(t)}containsElement(t,r){return qo(t,r)}getParentElement(t){return vi(t)}query(t,r,s){return $o(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,o,c,l=[],d){return new tt(s,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=He({token:n,factory:n.\u0275fac})}return n})(),qt=class{static NOOP=new ua},$t=class{};var Zg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ri=class extends $t{normalizePropertyName(e,t){return Ii(e)}normalizeStyleValue(e,t,r,s){let o="",c=r.toString().trim();if(Zg.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&s.push(Zl(e,r))}return c+o}};var Ci="*";function e_(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>t_(r,t,e)):t.push(n),t}function t_(n,e,t){if(n[0]==":"){let d=n_(n,t);if(typeof d=="function"){e.push(d);return}n=d}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(hh(n)),e;let s=r[1],o=r[2],c=r[3];e.push(Ch(s,c));let l=s==Ci&&c==Ci;o[0]=="<"&&!l&&e.push(Ch(c,s))}function n_(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(dh(n)),"* => *"}}var bi=new Set(["true","1"]),Ai=new Set(["false","0"]);function Ch(n,e){let t=bi.has(n)||Ai.has(n),r=bi.has(e)||Ai.has(e);return(s,o)=>{let c=n==Ci||n==s,l=e==Ci||e==o;return!c&&t&&typeof s=="boolean"&&(c=s?bi.has(n):Ai.has(n)),!l&&r&&typeof o=="boolean"&&(l=o?bi.has(e):Ai.has(e)),c&&l}}var Uh=":self",r_=new RegExp(`s*${Uh}s*,?`,"g");function Bh(n,e,t,r){return new Xo(n).build(e,t,r)}var kh="",Xo=class{_driver;constructor(e){this._driver=e}build(e,t,r){let s=new Zo(t);return this._resetContextStyleTimingState(s),ye(this,pn(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector=kh,e.collectedStyles=new Map,e.collectedStyles.set(kh,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0,o=[],c=[];return e.name.charAt(0)=="@"&&t.errors.push(eh()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==x.State){let d=l,f=d.name;f.toString().split(/\s*,\s*/).forEach(T=>{d.name=T,o.push(this.visitState(d,t))}),d.name=f}else if(l.type==x.Transition){let d=this.visitTransition(l,t);r+=d.queryCount,s+=d.depCount,c.push(d)}else t.errors.push(th())}),{type:x.Trigger,name:e.name,states:o,transitions:c,queryCount:r,depCount:s,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,c=s||{};r.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{Ko(d).forEach(f=>{c.hasOwnProperty(f)||o.add(f)})})}),o.size&&t.errors.push(nh(e.name,[...o.values()]))}return{type:x.State,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=ye(this,pn(e.animation),t),s=e_(e.expr,t.errors);return{type:x.Transition,matchers:s,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Bt(e.options)}}visitSequence(e,t){return{type:x.Sequence,steps:e.steps.map(r=>ye(this,r,t)),options:Bt(e.options)}}visitGroup(e,t){let r=t.currentTime,s=0,o=e.steps.map(c=>{t.currentTime=r;let l=ye(this,c,t);return s=Math.max(s,t.currentTime),l});return t.currentTime=s,{type:x.Group,steps:o,options:Bt(e.options)}}visitAnimate(e,t){let r=a_(e.timings,t.errors);t.currentAnimateTimings=r;let s,o=e.styles?e.styles:Vo({});if(o.type==x.Keyframes)s=this.visitKeyframes(o,t);else{let c=e.styles,l=!1;if(!c){l=!0;let f={};r.easing&&(f.easing=r.easing),c=Vo(f)}t.currentTime+=r.duration+r.delay;let d=this.visitStyle(c,t);d.isEmptyStep=l,s=d}return t.currentAnimateTimings=null,{type:x.Animate,timings:r,style:s,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of s)typeof l=="string"?l===Ve?r.push(l):t.errors.push(rh(l)):r.push(new Map(Object.entries(l)));let o=!1,c=null;return r.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(c=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(jo)>=0){o=!0;break}}}),{type:x.Style,styles:r,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,s=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(c=>{typeof c!="string"&&c.forEach((l,d)=>{let f=t.collectedStyles.get(t.currentQuerySelector),T=f.get(d),A=!0;T&&(o!=s&&o>=T.startTime&&s<=T.endTime&&(t.errors.push(ih(d,T.startTime,T.endTime,o,s)),A=!1),o=T.startTime),A&&f.set(d,{startTime:o,endTime:s}),t.options&&Sh(l,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:x.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(sh()),r;let s=1,o=0,c=[],l=!1,d=!1,f=0,T=e.steps.map(j=>{let L=this._makeStyleAst(j,t),U=L.offset!=null?L.offset:o_(L.styles),W=0;return U!=null&&(o++,W=L.offset=U),d=d||W<0||W>1,l=l||W<f,f=W,c.push(W),L});d&&t.errors.push(oh()),l&&t.errors.push(ah());let A=e.steps.length,b=0;o>0&&o<A?t.errors.push(ch()):o==0&&(b=s/(A-1));let C=A-1,S=t.currentTime,k=t.currentAnimateTimings,M=k.duration;return T.forEach((j,L)=>{let U=b>0?L==C?1:b*L:c[L],W=U*M;t.currentTime=S+k.delay+W,k.duration=W,this._validateStyleAst(j,t),j.offset=U,r.styles.push(j)}),r}visitReference(e,t){return{type:x.Reference,animation:ye(this,pn(e.animation),t),options:Bt(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:x.AnimateChild,options:Bt(e.options)}}visitAnimateRef(e,t){return{type:x.AnimateRef,animation:this.visitReference(e.animation,t),options:Bt(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;let[o,c]=i_(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,_e(t.collectedStyles,t.currentQuerySelector,new Map);let l=ye(this,pn(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:x.Query,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:c,animation:l,originalSelector:e.selector,options:Bt(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(uh());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:ur(e.timings,t.errors,!0);return{type:x.Stagger,animation:ye(this,pn(e.animation),t),timings:r,options:null}}};function i_(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Uh);return e&&(n=n.replace(r_,"")),n=n.replace(/@\*/g,cr).replace(/@\w+/g,t=>cr+"-"+t.slice(1)).replace(/:animating/g,wi),[n,e]}function s_(n){return n?ke({},n):null}var Zo=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function o_(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function a_(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=ur(n,e).duration;return Go(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Go(0,0,"");return o.dynamic=!0,o.strValue=t,o}let s=ur(t,e);return Go(s.duration,s.delay,s.easing)}function Bt(n){return n?(n=ke({},n),n.params&&(n.params=s_(n.params))):n={},n}function Go(n,e,t){return{duration:n,delay:e,easing:t}}function la(n,e,t,r,s,o,c=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:o,totalTime:s+o,easing:c,subTimeline:l}}var hr=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},c_=1,u_=":enter",l_=new RegExp(u_,"g"),h_=":leave",d_=new RegExp(h_,"g");function qh(n,e,t,r,s,o=new Map,c=new Map,l,d,f=[]){return new ea().buildKeyframes(n,e,t,r,s,o,c,l,d,f)}var ea=class{buildKeyframes(e,t,r,s,o,c,l,d,f,T=[]){f=f||new hr;let A=new ta(e,t,f,s,o,T,[]);A.options=d;let b=d.delay?$e(d.delay):0;A.currentTimeline.delayNextStep(b),A.currentTimeline.setStyles([c],null,A.errors,d),ye(this,r,A);let C=A.timelines.filter(S=>S.containsAnimation());if(C.length&&l.size){let S;for(let k=C.length-1;k>=0;k--){let M=C[k];if(M.element===t){S=M;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([l],null,A.errors,d)}return C.length?C.map(S=>S.buildKeyframes()):[la(t,[],[],[],0,b,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let s=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,s,s.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let s of e){let o=s?.delay;if(o){let c=typeof o=="number"?o:$e(mn(o,s?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,c=r.duration!=null?$e(r.duration):null,l=r.delay!=null?$e(r.delay):null;return c!==0&&e.forEach(d=>{let f=t.appendInstructionToTimeline(d,c,l);o=Math.max(o,f.duration+f.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),ye(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,s=t,o=e.options;if(o&&(o.params||o.delay)&&(s=t.createSubContext(o),s.transformIntoNewTimeline(),o.delay!=null)){s.previousNode.type==x.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=ki);let c=$e(o.delay);s.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ye(this,c,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],s=t.currentTimeline.currentTime,o=e.options&&e.options.delay?$e(e.options.delay):0;e.steps.forEach(c=>{let l=t.createSubContext(e.options);o&&l.delayNextStep(o),ye(this,c,l),s=Math.max(s,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,s=t.params?mn(r,t.params,t.errors):r;return ur(s,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());let o=e.style;o.type==x.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,s=t.currentTimeline.duration,o=r.duration,l=t.createSubContext().currentTimeline;l.easing=r.easing,e.styles.forEach(d=>{let f=d.offset||0;l.forwardTime(f*o),l.setStyles(d.styles,d.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(s+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,s=e.options||{},o=s.delay?$e(s.delay):0;o&&(t.previousNode.type===x.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ki);let c=r,l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=l.length;let d=null;l.forEach((f,T)=>{t.currentQueryIndex=T;let A=t.createSubContext(e.options,f);o&&A.delayNextStep(o),f===t.element&&(d=A.currentTimeline),ye(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe();let b=A.currentTimeline.currentTime;c=Math.max(c,b)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,s=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),l=c*(t.currentQueryTotal-1),d=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=r.currentStaggerTime;break}let T=t.currentTimeline;d&&T.delayNextStep(d);let A=T.currentTime;ye(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-A+(s.startTime-r.currentTimeline.startTime)}},ki={},ta=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ki;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,s,o,c,l,d){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=o,this.errors=c,this.timelines=l,this.currentTimeline=d||new Di(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,s=this.options;r.duration!=null&&(s.duration=$e(r.duration)),r.delay!=null&&(s.delay=$e(r.delay));let o=r.params;if(o){let c=s.params;c||(c=this.options.params={}),Object.keys(o).forEach(l=>{(!t||!c.hasOwnProperty(l))&&(c[l]=mn(o[l],c,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){let s=t||this.element,o=new n(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ki,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new na(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,o,c){let l=[];if(s&&l.push(this.element),e.length>0){e=e.replace(l_,"."+this._enterClassName),e=e.replace(d_,"."+this._leaveClassName);let d=r!=1,f=this._driver.query(this.element,e,d);r!==0&&(f=r<0?f.slice(f.length+r,f.length):f.slice(0,r)),l.push(...f)}return!o&&l.length==0&&c.push(lh(t)),l}},Di=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=c_,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ve),this._currentKeyframe.set(t,Ve);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&this._previousKeyframe.set("easing",t);let o=s&&s.params||{},c=f_(e,this._globalTimelineStyles);for(let[l,d]of c){let f=mn(d,o,r);this._pendingStyles.set(l,f),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Ve),this._updateStyle(l,f)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let s=this._styleSummary.get(r);(!s||t.time>s.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,s=[];this._keyframes.forEach((l,d)=>{let f=new Map([...this._backFill,...l]);f.forEach((T,A)=>{T===or?e.add(A):T===Ve&&t.add(A)}),r||f.set("offset",d/this.duration),s.push(f)});let o=[...e.values()],c=[...t.values()];if(r){let l=s[0],d=new Map(l);l.set("offset",0),d.set("offset",1),s=[l,d]}return la(this.element,s,o,c,this.duration,this.startTime,this.easing,!1)}},na=class extends Di{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,s,o,c,l=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],c=r+t,l=t/c,d=new Map(e[0]);d.set("offset",0),o.push(d);let f=new Map(e[0]);f.set("offset",Dh(l)),o.push(f);let T=e.length-1;for(let A=1;A<=T;A++){let b=new Map(e[A]),C=b.get("offset"),S=t+C*r;b.set("offset",Dh(S/c)),o.push(b)}r=c,t=0,s="",e=o}return la(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}};function Dh(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function f_(n,e){let t=new Map,r;return n.forEach(s=>{if(s==="*"){r??=e.keys();for(let o of r)t.set(o,Ve)}else for(let[o,c]of s)t.set(o,c)}),t}function Nh(n,e,t,r,s,o,c,l,d,f,T,A,b){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:o,toState:r,toStyles:c,timelines:l,queriedElements:d,preStyleProps:f,postStyleProps:T,totalTime:A,errors:b}}var Ho={},Ni=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return p_(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){let s=this._stateStyles.get("*");return e!==void 0&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,r):new Map}build(e,t,r,s,o,c,l,d,f,T){let A=[],b=this.ast.options&&this.ast.options.params||Ho,C=l&&l.params||Ho,S=this.buildStyles(r,C,A),k=d&&d.params||Ho,M=this.buildStyles(s,k,A),j=new Set,L=new Map,U=new Map,W=s==="void",fe={params:$h(k,b),delay:this.ast.options?.delay},Q=T?[]:qh(e,t,this.ast.animation,o,c,S,M,fe,f,A),y=0;return Q.forEach(p=>{y=Math.max(p.duration+p.delay,y)}),A.length?Nh(t,this._triggerName,r,s,W,S,M,[],[],L,U,y,A):(Q.forEach(p=>{let m=p.element,_=_e(L,m,new Set);p.preStyleProps.forEach(w=>_.add(w));let v=_e(U,m,new Set);p.postStyleProps.forEach(w=>v.add(w)),m!==t&&j.add(m)}),Nh(t,this._triggerName,r,s,W,S,M,Q,[...j.values()],L,U,y))}};function p_(n,e,t,r,s){return n.some(o=>o(e,t,r,s))}function $h(n,e){let t=ke({},e);return Object.entries(n).forEach(([r,s])=>{s!=null&&(t[r]=s)}),t}var ra=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,s=$h(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((c,l)=>{c&&(c=mn(c,s,t));let d=this.normalizer.normalizePropertyName(l,t);c=this.normalizer.normalizeStyleValue(l,d,c,t),r.set(l,c)})}),r}};function m_(n,e,t){return new ia(n,e,t)}var ia=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(s=>{let o=s.options&&s.options.params||{};this.states.set(s.name,new ra(s.style,o,r))}),Oh(this.states,"true","1"),Oh(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new Ni(e,s,this.states))}),this.fallbackTransition=g_(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(c=>c.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function g_(n,e,t){let r=[(c,l)=>!0],s={type:x.Sequence,steps:[],options:null},o={type:x.Transition,animation:s,matchers:r,options:null,queryCount:0,depCount:0};return new Ni(n,o,e)}function Oh(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var __=new hr,sa=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],s=[],o=Bh(this._driver,t,r,s);if(r.length)throw ph(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let s=e.element,o=Uo(this._normalizer,e.keyframes,t,r);return this._driver.animate(s,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let s=[],o=this._animations.get(e),c,l=new Map;if(o?(c=qh(this._driver,t,o,zo,Ei,new Map,new Map,r,__,s),c.forEach(T=>{let A=_e(l,T.element,new Map);T.postStyleProps.forEach(b=>A.set(b,null))})):(s.push(mh()),c=[]),s.length)throw gh(s);l.forEach((T,A)=>{T.forEach((b,C)=>{T.set(C,this._driver.computeStyle(A,C,Ve))})});let d=c.map(T=>{let A=l.get(T.element);return this._buildPlayer(T,new Map,A)}),f=nt(d);return this._playersById.set(e,f),f.onDestroy(()=>this.destroy(e)),this.players.push(f),f}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw _h(e);return t}listen(e,t,r,s){let o=yi(t,"","","");return _i(this._getPlayer(e),r,o,s),()=>{}}command(e,t,r,s){if(r=="register"){this.register(e,s[0]);return}if(r=="create"){let c=s[0]||{};this.create(e,t,c);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e);break}}},Mh="ng-animate-queued",y_=".ng-animate-queued",Qo="ng-animate-disabled",v_=".ng-animate-disabled",E_="ng-star-inserted",w_=".ng-star-inserted",I_=[],jh={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},T_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Le="__ng_removed",dr=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),s=r?e.value:e;if(this.value=A_(s),r){let o=e,{value:c}=o,l=dc(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(s=>{r[s]==null&&(r[s]=t[s])})}}},lr="void",Yo=new dr(lr),oa=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,Re(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.has(t))throw yh(r,t);if(r==null||r.length==0)throw vh(t);if(!S_(r))throw Eh(r,t);let o=_e(this._elementListeners,e,[]),c={name:t,phase:r,callback:s};o.push(c);let l=_e(this._engine.statesByElement,e,new Map);return l.has(t)||(Re(e,ar),Re(e,ar+"-"+t),l.set(t,Yo)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(c);d>=0&&o.splice(d,1),this._triggers.has(t)||l.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw wh(e);return t}trigger(e,t,r,s=!0){let o=this._getTrigger(t),c=new fr(this.id,t,e),l=this._engine.statesByElement.get(e);l||(Re(e,ar),Re(e,ar+"-"+t),this._engine.statesByElement.set(e,l=new Map));let d=l.get(t),f=new dr(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&d&&f.absorbOptions(d.options),l.set(t,f),d||(d=Yo),!(f.value===lr)&&d.value===f.value){if(!C_(d.params,f.params)){let k=[],M=o.matchStyles(d.value,d.params,k),j=o.matchStyles(f.value,f.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{gt(e,M),xe(e,j)})}return}let b=_e(this._engine.playersByElement,e,[]);b.forEach(k=>{k.namespaceId==this.id&&k.triggerName==t&&k.queued&&k.destroy()});let C=o.matchTransition(d.value,f.value,e,f.params),S=!1;if(!C){if(!s)return;C=o.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:d,toState:f,player:c,isFallbackTransition:S}),S||(Re(e,Mh),c.onStart(()=>{gn(e,Mh)})),c.onDone(()=>{let k=this.players.indexOf(c);k>=0&&this.players.splice(k,1);let M=this._engine.playersByElement.get(e);if(M){let j=M.indexOf(c);j>=0&&M.splice(j,1)}}),this.players.push(c),b.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,cr,!0);r.forEach(s=>{if(s[Le])return;let o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(c=>c.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){let o=this._engine.statesByElement.get(e),c=new Map;if(o){let l=[];if(o.forEach((d,f)=>{if(c.set(f,d.value),this._triggers.has(f)){let T=this.trigger(e,f,lr,s);T&&l.push(T)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&nt(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let s=new Set;t.forEach(o=>{let c=o.name;if(s.has(c))return;s.add(c);let d=this._triggers.get(c).fallbackTransition,f=r.get(c)||Yo,T=new dr(lr),A=new fr(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:d,fromState:f,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)s=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Le];(!o||o===jh)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Re(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let s=r.player;if(s.destroyed)return;let o=r.element,c=this._elementListeners.get(o);c&&c.forEach(l=>{if(l.name==r.triggerName){let d=yi(o,r.triggerName,r.fromState.value,r.toState.value);d._data=e,_i(r.player,l.phase,d,l.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{let o=r.transition.ast.depCount,c=s.transition.ast.depCount;return o==0||c==0?o-c:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},aa=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new oa(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,s=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,l=this.driver.getParentElement(t);for(;l;){let d=s.get(l);if(d){let f=r.indexOf(d);r.splice(f+1,0,e),c=!0;break}l=this.driver.getParentElement(l)}c||r.unshift(e)}else r.push(e);return s.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let s of r.values())if(s.namespaceId){let o=this._fetchNamespace(s.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,s){if(Si(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!Si(t))return;let o=t[Le];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){let c=this._fetchNamespace(e);c&&c.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Re(e,Qo)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),gn(e,Qo))}removeNode(e,t,r){if(Si(t)){let s=e?this._fetchNamespace(e):null;s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,s,o){this.collectedLeaveElements.push(t),t[Le]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,s,o){return Si(t)?this._fetchNamespace(e).listen(t,r,s,o):()=>{}}_buildInstruction(e,t,r,s,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,cr,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,wi,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return nt(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Le];if(t&&t.setForRemoval){if(e[Le]=jh,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Qo)&&this.markElementAsDisabled(e,!1),this.driver.query(e,v_,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let s=this.collectedEnterElements[r];Re(s,E_)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let s=this.collectedLeaveElements[r];this.processLeaveNode(s)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?nt(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw Ih(e)}_flushAnimations(e,t){let r=new hr,s=[],o=new Map,c=[],l=new Map,d=new Map,f=new Map,T=new Set;this.disabledNodes.forEach(D=>{T.add(D);let N=this.driver.query(D,y_,!0);for(let O=0;O<N.length;O++)T.add(N[O])});let A=this.bodyNode,b=Array.from(this.statesByElement.keys()),C=Lh(b,this.collectedEnterElements),S=new Map,k=0;C.forEach((D,N)=>{let O=zo+k++;S.set(N,O),D.forEach(F=>Re(F,O))});let M=[],j=new Set,L=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){let N=this.collectedLeaveElements[D],O=N[Le];O&&O.setForRemoval&&(M.push(N),j.add(N),O.hasAnimation?this.driver.query(N,w_,!0).forEach(F=>j.add(F)):L.add(N))}let U=new Map,W=Lh(b,Array.from(j));W.forEach((D,N)=>{let O=Ei+k++;U.set(N,O),D.forEach(F=>Re(F,O))}),e.push(()=>{C.forEach((D,N)=>{let O=S.get(N);D.forEach(F=>gn(F,O))}),W.forEach((D,N)=>{let O=U.get(N);D.forEach(F=>gn(F,O))}),M.forEach(D=>{this.processLeaveNode(D)})});let fe=[],Q=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach(O=>{let F=O.player,ne=O.element;if(fe.push(F),this.collectedEnterElements.length){let ee=ne[Le];if(ee&&ee.setForMove){if(ee.previousTriggersValues&&ee.previousTriggersValues.has(O.triggerName)){let je=ee.previousTriggersValues.get(O.triggerName),pe=this.statesByElement.get(O.element);if(pe&&pe.has(O.triggerName)){let ze=pe.get(O.triggerName);ze.value=je,pe.set(O.triggerName,ze)}}F.destroy();return}}let Ie=!A||!this.driver.containsElement(A,ne),Z=U.get(ne),Y=S.get(ne),J=this._buildInstruction(O,r,Y,Z,Ie);if(J.errors&&J.errors.length){Q.push(J);return}if(Ie){F.onStart(()=>gt(ne,J.fromStyles)),F.onDestroy(()=>xe(ne,J.toStyles)),s.push(F);return}if(O.isFallbackTransition){F.onStart(()=>gt(ne,J.fromStyles)),F.onDestroy(()=>xe(ne,J.toStyles)),s.push(F);return}let it=[];J.timelines.forEach(ee=>{ee.stretchStartingKeyframe=!0,this.disabledNodes.has(ee.element)||it.push(ee)}),J.timelines=it,r.append(ne,J.timelines);let Li={instruction:J,player:F,element:ne};c.push(Li),J.queriedElements.forEach(ee=>_e(l,ee,[]).push(F)),J.preStyleProps.forEach((ee,je)=>{if(ee.size){let pe=d.get(je);pe||d.set(je,pe=new Set),ee.forEach((ze,st)=>pe.add(st))}}),J.postStyleProps.forEach((ee,je)=>{let pe=f.get(je);pe||f.set(je,pe=new Set),ee.forEach((ze,st)=>pe.add(st))})});if(Q.length){let D=[];Q.forEach(N=>{D.push(Th(N.triggerName,N.errors))}),fe.forEach(N=>N.destroy()),this.reportError(D)}let y=new Map,p=new Map;c.forEach(D=>{let N=D.element;r.has(N)&&(p.set(N,N),this._beforeAnimationBuild(D.player.namespaceId,D.instruction,y))}),s.forEach(D=>{let N=D.element;this._getPreviousPlayers(N,!1,D.namespaceId,D.triggerName,null).forEach(F=>{_e(y,N,[]).push(F),F.destroy()})});let m=M.filter(D=>Fh(D,d,f)),_=new Map;xh(_,this.driver,L,f,Ve).forEach(D=>{Fh(D,d,f)&&m.push(D)});let w=new Map;C.forEach((D,N)=>{xh(w,this.driver,new Set(D),d,or)}),m.forEach(D=>{let N=_.get(D),O=w.get(D);_.set(D,new Map([...N?.entries()??[],...O?.entries()??[]]))});let g=[],we=[],rt={};c.forEach(D=>{let{element:N,player:O,instruction:F}=D;if(r.has(N)){if(T.has(N)){O.onDestroy(()=>xe(N,F.toStyles)),O.disabled=!0,O.overrideTotalTime(F.totalTime),s.push(O);return}let ne=rt;if(p.size>1){let Z=N,Y=[];for(;Z=Z.parentNode;){let J=p.get(Z);if(J){ne=J;break}Y.push(Z)}Y.forEach(J=>p.set(J,ne))}let Ie=this._buildAnimation(O.namespaceId,F,y,o,w,_);if(O.setRealPlayer(Ie),ne===rt)g.push(O);else{let Z=this.playersByElement.get(ne);Z&&Z.length&&(O.parentPlayer=nt(Z)),s.push(O)}}else gt(N,F.fromStyles),O.onDestroy(()=>xe(N,F.toStyles)),we.push(O),T.has(N)&&s.push(O)}),we.forEach(D=>{let N=o.get(D.element);if(N&&N.length){let O=nt(N);D.setRealPlayer(O)}}),s.forEach(D=>{D.parentPlayer?D.syncPlayerEvents(D.parentPlayer):D.destroy()});for(let D=0;D<M.length;D++){let N=M[D],O=N[Le];if(gn(N,Ei),O&&O.hasAnimation)continue;let F=[];if(l.size){let Ie=l.get(N);Ie&&Ie.length&&F.push(...Ie);let Z=this.driver.query(N,wi,!0);for(let Y=0;Y<Z.length;Y++){let J=l.get(Z[Y]);J&&J.length&&F.push(...J)}}let ne=F.filter(Ie=>!Ie.destroyed);ne.length?P_(this,N,ne):this.processLeaveNode(N)}return M.length=0,g.forEach(D=>{this.players.push(D),D.onDone(()=>{D.destroy();let N=this.players.indexOf(D);this.players.splice(N,1)}),D.play()}),g}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,o){let c=[];if(t){let l=this.playersByQueriedElement.get(e);l&&(c=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==lr;l.forEach(f=>{f.queued||!d&&f.triggerName!=s||c.push(f)})}}return(r||s)&&(c=c.filter(l=>!(r&&r!=l.namespaceId||s&&s!=l.triggerName))),c}_beforeAnimationBuild(e,t,r){let s=t.triggerName,o=t.element,c=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:s;for(let d of t.timelines){let f=d.element,T=f!==o,A=_e(r,f,[]);this._getPreviousPlayers(f,T,c,l,t.toState).forEach(C=>{let S=C.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),C.destroy(),A.push(C)})}gt(o,t.fromStyles)}_buildAnimation(e,t,r,s,o,c){let l=t.triggerName,d=t.element,f=[],T=new Set,A=new Set,b=t.timelines.map(S=>{let k=S.element;T.add(k);let M=k[Le];if(M&&M.removedBeforeQueried)return new tt(S.duration,S.delay);let j=k!==d,L=R_((r.get(k)||I_).map(y=>y.getRealPlayer())).filter(y=>{let p=y;return p.element?p.element===k:!1}),U=o.get(k),W=c.get(k),fe=Uo(this._normalizer,S.keyframes,U,W),Q=this._buildPlayer(S,fe,L);if(S.subTimeline&&s&&A.add(k),j){let y=new fr(e,l,k);y.setRealPlayer(Q),f.push(y)}return Q});f.forEach(S=>{_e(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>b_(this.playersByQueriedElement,S.element,S))}),T.forEach(S=>Re(S,Wo));let C=nt(b);return C.onDestroy(()=>{T.forEach(S=>gn(S,Wo)),xe(d,t.toStyles)}),A.forEach(S=>{_e(s,S,[]).push(C)}),C}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new tt(e.duration,e.delay)}},fr=class{namespaceId;triggerName;element;_player=new tt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(s=>_i(e,r,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_e(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function b_(n,e,t){let r=n.get(e);if(r){if(r.length){let s=r.indexOf(t);r.splice(s,1)}r.length==0&&n.delete(e)}return r}function A_(n){return n??null}function Si(n){return n&&n.nodeType===1}function S_(n){return n=="start"||n=="done"}function Vh(n,e){let t=n.style.display;return n.style.display=e??"none",t}function xh(n,e,t,r,s){let o=[];t.forEach(d=>o.push(Vh(d)));let c=[];r.forEach((d,f)=>{let T=new Map;d.forEach(A=>{let b=e.computeStyle(f,A,s);T.set(A,b),(!b||b.length==0)&&(f[Le]=T_,c.push(f))}),n.set(f,T)});let l=0;return t.forEach(d=>Vh(d,o[l++])),c}function Lh(n,e){let t=new Map;if(n.forEach(l=>t.set(l,[])),e.length==0)return t;let r=1,s=new Set(e),o=new Map;function c(l){if(!l)return r;let d=o.get(l);if(d)return d;let f=l.parentNode;return t.has(f)?d=f:s.has(f)?d=r:d=c(f),o.set(l,d),d}return e.forEach(l=>{let d=c(l);d!==r&&t.get(d).push(l)}),t}function Re(n,e){n.classList?.add(e)}function gn(n,e){n.classList?.remove(e)}function P_(n,e,t){nt(t).onDone(()=>n.processLeaveNode(e))}function R_(n){let e=[];return zh(n,e),e}function zh(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof fn?zh(r.players,e):e.push(r)}}function C_(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){let o=t[s];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function Fh(n,e,t){let r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(o=>s.add(o)):e.set(n,r),t.delete(n),!0}var _n=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new aa(e.body,t,r),this._timelineEngine=new sa(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,r,s,o){let c=e+"-"+s,l=this._triggerCache[c];if(!l){let d=[],f=[],T=Bh(this._driver,o,d,f);if(d.length)throw fh(s,d);l=m_(s,T,this._normalizer),this._triggerCache[c]=l}this._transitionEngine.registerTrigger(t,s,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if(r.charAt(0)=="@"){let[o,c]=Bo(r),l=s;this._timelineEngine.command(o,t,c,l)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,o){if(r.charAt(0)=="@"){let[c,l]=Bo(r);return this._timelineEngine.listen(c,t,l,o)}return this._transitionEngine.listen(e,t,r,s,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function k_(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Jo(e[0]),e.length>1&&(r=Jo(e[e.length-1]))):e instanceof Map&&(t=Jo(e)),t||r?new D_(n,t,r):null}var D_=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&xe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xe(this._element,this._initialStyles),this._endStyles&&(xe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(gt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gt(this._element,this._endStyles),this._endStyles=null),xe(this._element,this._initialStyles),this._state=3)}}return n})();function Jo(n){let e=null;return n.forEach((t,r)=>{N_(r)&&(e=e||new Map,e.set(r,t))}),e}function N_(n){return n==="display"||n==="position"}var Oi=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();return t.addEventListener("finish",r),this.onDestroy(()=>{t.removeEventListener("finish",r)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){let s=this._convertKeyframesToObject(t);try{return e.animate(s,r)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,s)=>{s!=="offset"&&e.set(s,this._finished?r:Ti(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Mi=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return qo(e,t)}getParentElement(e){return vi(e)}query(e,t,r){return $o(e,t,r)}computeStyle(e,t,r){return Ti(e,t)}animate(e,t,r,s,o,c=[]){let l=s==0?"both":"forwards",d={duration:r,delay:s,fill:l};o&&(d.easing=o);let f=new Map,T=c.filter(C=>C instanceof Oi);Ph(r,s)&&T.forEach(C=>{C.currentSnapshot.forEach((S,k)=>f.set(k,S))});let A=Ah(t).map(C=>new Map(C));A=Rh(e,A,f);let b=k_(e,A);return new Oi(e,A,d,b)}};var Pi="@",Wh="@.disabled",Vi=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,s){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r,s){if(s){this.delegate.removeChild(e,t,r,s);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Pi&&t==Wh?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,s){return this.delegate.listen(e,t,r,s)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ca=class extends Vi{factory;constructor(e,t,r,s,o){super(t,r,s,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Pi?t.charAt(1)=="."&&t==Wh?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,s){if(t.charAt(0)==Pi){let o=O_(e),c=t.slice(1),l="";return c.charAt(0)!=Pi&&([c,l]=M_(c)),this.engine.listen(this.namespaceId,o,c,l,d=>{let f=d._data||-1;this.factory.scheduleListenerCallback(f,r,d)})}return this.delegate.listen(e,t,r,s)}};function O_(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function M_(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var xi=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(s,o)=>{o?.removeChild(null,s)}}createRenderer(e,t){let s=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let f=this._rendererCache,T=f.get(s);if(!T){let A=()=>f.delete(s);T=new Vi("",s,this.engine,A),f.set(s,T)}return T}let o=t.id,c=t.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);let l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,c,e,f.name,f)};return t.data.animation.forEach(l),new ca(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let s=this._animationCallbacksBuffer;s.length==0&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(o=>{let[c,l]=o;c(l)}),this._animationCallbacksBuffer=[]})}),s.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var F_=(()=>{class n extends _n{constructor(t,r,s){super(t,r,s)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(It(Ec),It(qt),It($t))};static \u0275prov=He({token:n,factory:n.\u0275fac})}return n})();function U_(){return new Ri}function B_(n,e,t){return new xi(n,e,t)}var Kh=[{provide:$t,useFactory:U_},{provide:_n,useClass:F_},{provide:bc,useFactory:B_,deps:[Vc,_n,Te]}],ZI=[{provide:qt,useClass:ua},{provide:fs,useValue:"NoopAnimations"},...Kh],q_=[{provide:qt,useFactory:()=>new Mi},{provide:fs,useFactory:()=>"BrowserAnimations"},...Kh];function Gh(){return Tc("NgEagerAnimations"),[...q_]}var ha="Service workers are disabled or not supported by this browser",yn=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new Ge(r=>r.error(new V(5601,!1)));else{let r=null,s=new kr;this.worker=new Ge(f=>(r!==null&&f.next(r),s.subscribe(T=>f.next(T))));let o=()=>{let{controller:f}=e;f!==null&&(r=f,s.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Mn(()=>e.getRegistration().then(f=>{if(!f)throw new V(5601,!1);return f})));let c=new kr;this.events=c.asObservable();let l=f=>{let{data:T}=f;T?.type&&c.next(T)};e.addEventListener("message",l),t?.get(ps,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",l)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(Gt(1)).subscribe(s=>{s.postMessage(ke({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let s=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,s]).then(([,c])=>c)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(hs(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Gt(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(hs(s=>s.nonce===e),Gt(1),wt(s=>{if(s.result!==void 0)return s.result;throw new Error(s.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},$_=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new kr;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=ut,this.notificationClicks=ut,this.notificationCloses=ut,this.pushSubscriptionChanges=ut,this.subscription=ut;return}this.messages=this.sw.eventsOfType("PUSH").pipe(wt(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(wt(s=>s.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(wt(s=>s.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(wt(s=>s.data)),this.pushManager=this.sw.registration.pipe(wt(s=>s.pushManager));let r=this.pushManager.pipe(Mn(s=>s.getSubscription()));this.subscription=new Ge(s=>{let o=r.subscribe(s),c=this.subscriptionChanges.subscribe(s);return()=>{o.unsubscribe(),c.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(ha));let r={userVisibleOnly:!0},s=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(s.length));for(let c=0;c<s.length;c++)o[c]=s.charCodeAt(c);return r.applicationServerKey=o,new Promise((c,l)=>{this.pushManager.pipe(Mn(d=>d.subscribe(r)),Gt(1)).subscribe({next:d=>{this.subscriptionChanges.next(d),c(d)},error:l})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(ha));let t=r=>{if(r===null)throw new V(5602,!1);return r.unsubscribe().then(s=>{if(!s)throw new V(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,s)=>{this.subscription.pipe(Gt(1),Mn(t)).subscribe({next:r,error:s})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(It(yn))};static \u0275prov=He({token:n,factory:n.\u0275fac})}return n})(),j_=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=ut,this.unrecoverable=ut;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ha));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new V(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(It(yn))};static \u0275prov=He({token:n,factory:n.\u0275fac})}return n})();var Qh=new Ht("");function z_(){let n=me(pr);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=me(Qh),t=me(Te),r=me(ps);t.runOutsideAngular(()=>{let s=navigator.serviceWorker,o=()=>s.controller?.postMessage({action:"INITIALIZE"});s.addEventListener("controllerchange",o),r.onDestroy(()=>{s.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let s,{registrationStrategy:o}=n;if(typeof o=="function")s=new Promise(c=>o().subscribe(()=>c()));else{let[c,...l]=(o||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":s=Promise.resolve();break;case"registerWithDelay":s=Hh(+l[0]||0);break;case"registerWhenStable":s=Promise.race([r.whenStable(),Hh(+l[0])]);break;default:throw new V(5600,!1)}}s.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(c=>console.error(_c(5604,!1)))})})}function Hh(n){return new Promise(e=>setTimeout(e,n))}function W_(n,e){return new yn(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var pr=class{enabled;updateViaCache;type;scope;registrationStrategy};function Yh(n,e={}){return Qt([$_,j_,{provide:Qh,useValue:n},{provide:pr,useValue:e},{provide:yn,useFactory:W_,deps:[pr,lt]},Sc(z_)])}xc(gi,On(ke({},Mo),{providers:[Gh(),...Mo.providers||[],yc(Or),Yh("ngsw-worker.js",{enabled:!Fn(),registrationStrategy:"registerWhenStable:30000"})]})).catch(n=>console.error(n));
