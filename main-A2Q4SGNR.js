var xA=Object.defineProperty,OA=Object.defineProperties;var LA=Object.getOwnPropertyDescriptors;var O_=Object.getOwnPropertySymbols;var FA=Object.prototype.hasOwnProperty,VA=Object.prototype.propertyIsEnumerable;var L_=(n,e,t)=>e in n?xA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})FA.call(e,t)&&L_(n,t,e[t]);if(O_)for(var t of O_(e))VA.call(e,t)&&L_(n,t,e[t]);return n},ge=(n,e)=>OA(n,LA(e));var C=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});var _h;function Dc(){return _h}function Gt(n){let e=_h;return _h=n,e}var F_=Symbol("NotFound");function _i(n){return n===F_||n?.name==="\u0275NotFound"}var et=null,Ac=!1,Ih=1,jA=null,dt=Symbol("SIGNAL");function Y(n){let e=et;return et=n,e}function Nc(){return et}var fs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ps(n){if(Ac)throw new Error("");if(et===null)return;et.consumerOnSignalRead(n);let e=et.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=et.recomputing;if(r&&(t=e!==void 0?e.nextProducer:et.producers,t!==void 0&&t.producer===n)){et.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===et&&(!r||$A(i,et)))return;let o=Ii(et),s={producer:n,consumer:et,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};et.producersTail=s,e!==void 0?e.nextProducer=s:et.producers=s,o&&$_(n,s)}function V_(){Ih++}function Eh(n){if(!(Ii(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ih)){if(!n.producerMustRecompute(n)&&!ms(n)){Rc(n);return}n.producerRecomputeValue(n),Rc(n)}}function wh(n){if(n.consumers===void 0)return;let e=Ac;Ac=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||UA(r)}}finally{Ac=e}}function Th(){return et?.consumerAllowSignalWrites!==!1}function UA(n){n.dirty=!0,wh(n),n.consumerMarkedDirty?.(n)}function Rc(n){n.dirty=!1,n.lastCleanEpoch=Ih}function gs(n){return n&&j_(n),Y(n)}function j_(n){n.producersTail=void 0,n.recomputing=!0}function Pc(n,e){Y(e),n&&U_(n)}function U_(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Ii(n))do t=bh(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function ms(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Eh(t),r!==t.version))return!0}return!1}function ys(n){if(Ii(n)){let e=n.producers;for(;e!==void 0;)e=bh(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function $_(n,e){let t=n.consumersTail,r=Ii(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)$_(i.producer,i)}function bh(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Ii(e)){let o=e.producers;for(;o!==void 0;)o=bh(o)}return t}function Ii(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Sh(n){jA?.(n)}function $A(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ch(n,e){return Object.is(n,e)}function BA(){throw new Error}var B_=BA;function H_(n){B_(n)}function Dh(n){B_=n}var HA=null;function Ah(n,e){let t=Object.create(Mc);t.value=n,e!==void 0&&(t.equal=e);let r=()=>q_(t);return r[dt]=t,Sh(t),[r,s=>Ei(t,s),s=>Rh(t,s)]}function q_(n){return ps(n),n.value}function Ei(n,e){Th()||H_(n),n.equal(n.value,e)||(n.value=e,qA(n))}function Rh(n,e){Th()||H_(n),Ei(n,e(n.value))}var Mc=ge(O({},fs),{equal:Ch,value:void 0,kind:"signal"});function qA(n){n.version++,V_(),wh(n),HA?.(n)}function G(n){return typeof n=="function"}function wi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var kc=wi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Er(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var be=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){e=o instanceof kc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{z_(o)}catch(s){e=e??[],s instanceof kc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new kc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)z_(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Er(t,e)}remove(e){let{_finalizers:t}=this;t&&Er(t,e),e instanceof n&&e._removeParent(this)}};be.EMPTY=(()=>{let n=new be;return n.closed=!0,n})();var Nh=be.EMPTY;function xc(n){return n instanceof be||n&&"closed"in n&&G(n.remove)&&G(n.add)&&G(n.unsubscribe)}function z_(n){G(n)?n():n.unsubscribe()}var xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ti={setTimeout(n,e,...t){let{delegate:r}=Ti;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ti;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Oc(n){Ti.setTimeout(()=>{let{onUnhandledError:e}=xt;if(e)e(n);else throw n})}function vs(){}var W_=Ph("C",void 0,void 0);function G_(n){return Ph("E",void 0,n)}function K_(n){return Ph("N",n,void 0)}function Ph(n,e,t){return{kind:n,value:e,error:t}}var wr=null;function bi(n){if(xt.useDeprecatedSynchronousErrorHandling){let e=!wr;if(e&&(wr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=wr;if(wr=null,t)throw r}}else n()}function Q_(n){xt.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=n)}var Tr=class extends be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xc(e)&&e.add(this)):this.destination=GA}static create(e,t,r){return new Si(e,t,r)}next(e){this.isStopped?kh(K_(e),this):this._next(e)}error(e){this.isStopped?kh(G_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kh(W_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zA=Function.prototype.bind;function Mh(n,e){return zA.call(n,e)}var xh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Lc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Lc(r)}else Lc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Lc(t)}}},Si=class extends Tr{constructor(e,t,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mh(e.next,o),error:e.error&&Mh(e.error,o),complete:e.complete&&Mh(e.complete,o)}):i=e}this.destination=new xh(i)}};function Lc(n){xt.useDeprecatedSynchronousErrorHandling?Q_(n):Oc(n)}function WA(n){throw n}function kh(n,e){let{onStoppedNotification:t}=xt;t&&Ti.setTimeout(()=>t(n,e))}var GA={closed:!0,next:vs,error:WA,complete:vs};var Ci=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vt(n){return n}function Oh(...n){return Lh(n)}function Lh(n){return n.length===0?vt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=QA(t)?t:new Si(t,r,i);return bi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Y_(r),new r((i,o)=>{let s=new Si({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ci](){return this}pipe(...t){return Lh(t)(this)}toPromise(t){return t=Y_(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Y_(n){var e;return(e=n??xt.Promise)!==null&&e!==void 0?e:Promise}function KA(n){return n&&G(n.next)&&G(n.error)&&G(n.complete)}function QA(n){return n&&n instanceof Tr||KA(n)&&xc(n)}function Fh(n){return G(n?.lift)}function re(n){return e=>{if(Fh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(n,e,t,r,i){return new Vh(n,e,t,r,i)}var Vh=class extends Tr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Di(){return re((n,e)=>{let t=null;n._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ai=class extends ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Fh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new be;let t=this.getSubject();e.add(this.source.subscribe(ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=be.EMPTY)}return e}refCount(){return Di()(this)}};var J_=wi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class n extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Fc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new J_}next(t){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Nh:(this.currentObservers=null,o.push(t),new be(()=>{this.currentObservers=null,Er(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return n.create=(e,t)=>new Fc(e,t),n})(),Fc=class extends Ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Nh}};var Qe=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var jh={now(){return(jh.delegate||Date).now()},delegate:void 0};var Vc=class extends be{constructor(e,t){super()}schedule(e,t=0){return this}};var _s={setInterval(n,e,...t){let{delegate:r}=_s;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=_s;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ri=class extends Vc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return _s.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&_s.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Er(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ni=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ni.now=jh.now;var Pi=class extends Ni{constructor(e,t=Ni.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Uh=new Pi(Ri);var jc=class extends Ri{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Uc=class extends Pi{};var $h=new Uc(jc);var ht=new ee(n=>n.complete());function Z_(n){return n&&G(n.schedule)}function X_(n){return n[n.length-1]}function eI(n){return G(X_(n))?n.pop():void 0}function $n(n){return Z_(X_(n))?n.pop():void 0}function Bh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function nI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function tI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function br(n){return this instanceof br?(this.v=n,this):new br(n)}function rI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function c(y,A){r[y]&&(i[y]=function(N){return new Promise(function(R,F){o.push([y,N,R,F])>1||u(y,N)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof br?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function iI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof tI=="function"?tI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var $c=n=>n&&typeof n.length=="number"&&typeof n!="function";function Bc(n){return G(n?.then)}function Hc(n){return G(n[Ci])}function qc(n){return Symbol.asyncIterator&&G(n?.[Symbol.asyncIterator])}function zc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wc=YA();function Gc(n){return G(n?.[Wc])}function Kc(n){return rI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield br(t.read());if(i)return yield br(void 0);yield yield br(r)}}finally{t.releaseLock()}})}function Qc(n){return G(n?.getReader)}function Ve(n){if(n instanceof ee)return n;if(n!=null){if(Hc(n))return JA(n);if($c(n))return ZA(n);if(Bc(n))return XA(n);if(qc(n))return oI(n);if(Gc(n))return eR(n);if(Qc(n))return tR(n)}throw zc(n)}function JA(n){return new ee(e=>{let t=n[Ci]();if(G(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZA(n){return new ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function XA(n){return new ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Oc)})}function eR(n){return new ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function oI(n){return new ee(e=>{nR(n,e).catch(t=>e.error(t))})}function tR(n){return oI(Kc(n))}function nR(n,e){var t,r,i,o;return nI(this,void 0,void 0,function*(){try{for(t=iI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function ft(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Bn(n,e=0){return re((t,r)=>{t.subscribe(ie(r,i=>ft(r,n,()=>r.next(i),e),()=>ft(r,n,()=>r.complete(),e),i=>ft(r,n,()=>r.error(i),e)))})}function Hn(n,e=0){return re((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sI(n,e){return Ve(n).pipe(Hn(e),Bn(e))}function aI(n,e){return Ve(n).pipe(Hn(e),Bn(e))}function cI(n,e){return new ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function uI(n,e){return new ee(t=>{let r;return ft(t,e,()=>{r=n[Wc](),ft(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function Yc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ee(t=>{ft(t,e,()=>{let r=n[Symbol.asyncIterator]();ft(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function lI(n,e){return Yc(Kc(n),e)}function dI(n,e){if(n!=null){if(Hc(n))return sI(n,e);if($c(n))return cI(n,e);if(Bc(n))return aI(n,e);if(qc(n))return Yc(n,e);if(Gc(n))return uI(n,e);if(Qc(n))return lI(n,e)}throw zc(n)}function Re(n,e){return e?dI(n,e):Ve(n)}function q(...n){let e=$n(n);return Re(n,e)}function Mi(n,e){let t=G(n)?n:()=>n,r=i=>i.error(t());return new ee(e?i=>e.schedule(r,0,i):r)}function Hh(n){return!!n&&(n instanceof ee||G(n.lift)&&G(n.subscribe))}var pn=wi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(n,e){return re((t,r)=>{let i=0;t.subscribe(ie(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:rR}=Array;function iR(n,e){return rR(e)?n(...e):n(e)}function hI(n){return oe(e=>iR(n,e))}var{isArray:oR}=Array,{getPrototypeOf:sR,prototype:aR,keys:cR}=Object;function fI(n){if(n.length===1){let e=n[0];if(oR(e))return{args:e,keys:null};if(uR(e)){let t=cR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function uR(n){return n&&typeof n=="object"&&sR(n)===aR}function pI(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Jc(...n){let e=$n(n),t=eI(n),{args:r,keys:i}=fI(n);if(r.length===0)return Re([],e);let o=new ee(lR(r,e,i?s=>pI(i,s):vt));return t?o.pipe(hI(t)):o}function lR(n,e,t=vt){return r=>{gI(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)gI(e,()=>{let l=Re(n[u],e),f=!1;l.subscribe(ie(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function gI(n,e,t){n?ft(t,n,e):e()}function mI(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?A(N):u.push(N),A=N=>{o&&e.next(N),l++;let R=!1;Ve(t(N,f++)).subscribe(ie(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?ft(e,s,()=>A(F)):A(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ie(e,y,()=>{p=!0,m()})),()=>{c?.()}}function ke(n,e,t=1/0){return G(e)?ke((r,i)=>oe((o,s)=>e(r,o,i,s))(Ve(n(r,i))),t):(typeof e=="number"&&(t=e),re((r,i)=>mI(r,i,n,t)))}function yI(n=1/0){return ke(vt,n)}function vI(){return yI(1)}function ki(...n){return vI()(Re(n,$n(n)))}function Is(n){return new ee(e=>{Ve(n()).subscribe(e)})}function Dt(n,e){return re((t,r)=>{let i=0;t.subscribe(ie(r,o=>n.call(e,o,i++)&&r.next(o)))})}function qn(n){return re((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ie(t,void 0,void 0,s=>{o=Ve(n(s,qn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function _I(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(ie(s,f=>{let p=l++;u=c?n(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function xi(n,e){return G(e)?ke(n,e,1):ke(n,1)}function zn(n){return re((e,t)=>{let r=!1;e.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function gn(n){return n<=0?()=>ht:re((e,t)=>{let r=0;e.subscribe(ie(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zc(n=dR){return re((e,t)=>{let r=!1;e.subscribe(ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function dR(){return new pn}function Es(n){return re((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function mn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):vt,gn(1),t?zn(e):Zc(()=>new pn))}function Oi(n){return n<=0?()=>ht:re((e,t)=>{let r=[];e.subscribe(ie(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function qh(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):vt,Oi(1),t?zn(e):Zc(()=>new pn))}function zh(n,e){return re(_I(n,e,arguments.length>=2,!0))}function Wh(...n){let e=$n(n);return re((t,r)=>{(e?ki(n,t,e):ki(n,t)).subscribe(r)})}function pt(n,e){return re((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,f=o++;Ve(n(u,f)).subscribe(i=ie(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Xc(n){return re((e,t)=>{Ve(n).subscribe(ie(t,()=>t.complete(),vs)),!t.closed&&e.subscribe(t)})}function je(n,e,t){let r=G(n)||e||t?{next:n,error:e,complete:t}:n;return r?re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ie(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vt}function II(n){let e=Y(null);try{return n()}finally{Y(e)}}var Fi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},sf=new Fi("20.3.9");var iu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(Ss(e,t)),this.code=e}};function hR(n){return`NG0${Math.abs(n)}`}function Ss(n,e){return`${hR(n)}${e?": "+e:""}`}function fe(n){for(let e in n)if(n[e]===fe)return e;throw Error("")}function Wn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Wn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function af(n,e){return n?e?`${n} ${e}`:n:e||""}var fR=fe({__forward_ref__:fe});function ou(n){return n.__forward_ref__=ou,n.toString=function(){return Wn(this())},n}function gt(n){return cf(n)?n():n}function cf(n){return typeof n=="function"&&n.hasOwnProperty(fR)&&n.__forward_ref__===ou}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Cs(n){return pR(n,su)}function uf(n){return Cs(n)!==null}function pR(n,e){return n.hasOwnProperty(e)&&n[e]||null}function gR(n){let e=n?.[su]??null;return e||null}function Kh(n){return n&&n.hasOwnProperty(tu)?n[tu]:null}var su=fe({\u0275prov:fe}),tu=fe({\u0275inj:fe}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lf(n){return n&&!!n.\u0275providers}var df=fe({\u0275cmp:fe}),hf=fe({\u0275dir:fe}),ff=fe({\u0275pipe:fe}),pf=fe({\u0275mod:fe}),Ts=fe({\u0275fac:fe}),Nr=fe({__NG_ELEMENT_ID__:fe}),wI=fe({__NG_ENV_ID__:fe});function au(n){return typeof n=="string"?n:n==null?"":String(n)}function bI(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():au(n)}var SI=fe({ngErrorCode:fe}),mR=fe({ngErrorMessage:fe}),yR=fe({ngTokenPath:fe});function gf(n,e){return CI("",-200,e)}function cu(n,e){throw new j(-201,!1)}function CI(n,e,t){let r=new j(e,n);return r[SI]=e,r[mR]=n,t&&(r[yR]=t),r}function vR(n){return n[SI]}var Qh;function DI(){return Qh}function _t(n){let e=Qh;return Qh=n,e}function mf(n,e,t){let r=Cs(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;cu(n,"Injector")}var _R={},Sr=_R,Yh="__NG_DI_FLAG__",Jh=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Cr(t)||0;try{return this.injector.get(e,r&8?null:Sr,r)}catch(i){if(_i(i))return i;throw i}}};function IR(n,e=0){let t=Dc();if(t===void 0)throw new j(-203,!1);if(t===null)return mf(n,void 0,e);{let r=ER(e),i=t.retrieve(n,r);if(_i(i)){if(r.optional)return null;throw i}return i}}function X(n,e=0){return(DI()||IR)(gt(n),e)}function M(n,e){return X(n,Cr(e))}function Cr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ER(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Zh(n){let e=[];for(let t=0;t<n.length;t++){let r=gt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=wR(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(X(i,o))}else e.push(X(r))}return e}function AI(n,e){return n[Yh]=e,n.prototype[Yh]=e,n}function wR(n){return n[Yh]}function Dr(n,e){let t=n.hasOwnProperty(Ts);return t?n[Ts]:null}function uu(n,e){n.forEach(t=>Array.isArray(t)?uu(t,e):e(t))}function yf(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ds(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var Pr={},Ar=[],vn=new U(""),vf=new U("",-1),_f=new U(""),bs=class{get(e,t=Sr){if(t===Sr){let i=CI("",-201);throw i.name="\u0275NotFound",i}return t}};function If(n){return n[pf]||null}function Qn(n){return n[df]||null}function Ef(n){return n[hf]||null}function RI(n){return n[ff]||null}function Ot(n){return{\u0275providers:n}}function NI(n){return Ot([{provide:vn,multi:!0,useValue:n}])}function PI(...n){return{\u0275providers:wf(!0,n),\u0275fromNgModule:!0}}function wf(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return uu(e,s=>{let c=s;nu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&MI(i,o),t}function MI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Tf(i,o=>{e(o,r)})}}function nu(n,e,t,r){if(n=gt(n),!n)return!1;let i=null,o=Kh(n),s=!o&&Qn(n);if(!o&&!s){let u=n.ngModule;if(o=Kh(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)nu(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{uu(o.imports,f=>{nu(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&MI(l,e)}if(!c){let l=Dr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ar},i),e({provide:_f,useValue:i,multi:!0},i),e({provide:vn,useValue:()=>X(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;Tf(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Tf(n,e){for(let t of n)lf(t)&&(t=t.\u0275providers),Array.isArray(t)?Tf(t,e):e(t)}var TR=fe({provide:String,useValue:fe});function kI(n){return n!==null&&typeof n=="object"&&TR in n}function bR(n){return!!(n&&n.useExisting)}function SR(n){return!!(n&&n.useFactory)}function ru(n){return typeof n=="function"}var As=new U(""),eu={},TI={},Gh;function Rs(){return Gh===void 0&&(Gh=new bs),Gh}var xe=class{},Rr=class extends xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ef(e,s=>this.processProvider(s)),this.records.set(vf,Li(void 0,this)),i.has("environment")&&this.records.set(xe,Li(void 0,this));let o=this.records.get(As);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_f,Ar,{self:!0}))}retrieve(e,t){let r=Cr(t)||0;try{return this.get(e,Sr,r)}catch(i){if(_i(i))return i;throw i}}destroy(){ws(this),this._destroyed=!0;let e=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(e)}}onDestroy(e){return ws(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ws(this);let t=Gt(this),r=_t(void 0),i;try{return e()}finally{Gt(t),_t(r)}}get(e,t=Sr,r){if(ws(this),e.hasOwnProperty(wI))return e[wI](this);let i=Cr(r),o,s=Gt(this),c=_t(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=NR(e)&&Cs(e);f&&this.injectableDefInScope(f)?l=Li(Xh(e),eu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Rs():this.parent;return t=i&8&&t===Sr?null:t,u.get(e,t)}catch(u){let l=vR(u);throw l===-200||l===-201?new j(l,null):u}finally{_t(c),Gt(s)}}resolveInjectorInitializers(){let e=Y(null),t=Gt(this),r=_t(void 0),i;try{let o=this.get(vn,Ar,{self:!0});for(let s of o)s()}finally{Gt(t),_t(r),Y(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Wn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=gt(e);let t=ru(e)?e:gt(e&&e.provide),r=DR(e);if(!ru(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Li(void 0,eu,!0),i.factory=()=>Zh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Y(null);try{if(t.value===TI)throw gf(Wn(e));return t.value===eu&&(t.value=TI,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&RR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Y(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Xh(n){let e=Cs(n),t=e!==null?e.factory:Dr(n);if(t!==null)return t;if(n instanceof U)throw new j(204,!1);if(n instanceof Function)return CR(n);throw new j(204,!1)}function CR(n){if(n.length>0)throw new j(204,!1);let t=gR(n);return t!==null?()=>t.factory(n):()=>new n}function DR(n){if(kI(n))return Li(void 0,n.useValue);{let e=xI(n);return Li(e,eu)}}function xI(n,e,t){let r;if(ru(n)){let i=gt(n);return Dr(i)||Xh(i)}else if(kI(n))r=()=>gt(n.useValue);else if(SR(n))r=()=>n.useFactory(...Zh(n.deps||[]));else if(bR(n))r=(i,o)=>X(gt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=gt(n&&(n.useClass||n.provide));if(AR(n))r=()=>new i(...Zh(n.deps));else return Dr(i)||Xh(i)}return r}function ws(n){if(n.destroyed)throw new j(205,!1)}function Li(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function AR(n){return!!n.deps}function RR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function NR(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function ef(n,e){for(let t of n)Array.isArray(t)?ef(t,e):t&&lf(t)?ef(t.\u0275providers,e):e(t)}function Oe(n,e){let t;n instanceof Rr?(ws(n),t=n):t=new Jh(n);let r,i=Gt(t),o=_t(void 0);try{return e()}finally{Gt(i),_t(o)}}function OI(){return DI()!==void 0||Dc()!=null}var Lt=0,Q=1,K=2,Ue=3,At=4,Rt=5,Vi=6,ji=7,$e=8,Yn=9,Qt=10,Be=11,Ui=12,bf=13,$i=14,It=15,Mr=16,kr=17,xr=18,Ns=19,Sf=20,yn=21,lu=22,Ps=23,Et=24,du=25,Or=26,mt=27,LI=1,Cf=6,Jn=7,Ms=8,ks=9,Le=10;function _n(n){return Array.isArray(n)&&typeof n[LI]=="object"}function Ft(n){return Array.isArray(n)&&n[LI]===!0}function Df(n){return(n.flags&4)!==0}function Zn(n){return n.componentOffset>-1}function hu(n){return(n.flags&1)===1}function Lr(n){return!!n.template}function Bi(n){return(n[K]&512)!==0}function Fr(n){return(n[K]&256)===256}var Af="svg",FI="math";function Nt(n){for(;Array.isArray(n);)n=n[Lt];return n}function VI(n,e){return Nt(e[n])}function Yt(n,e){return Nt(e[n.index])}function xs(n,e){return n.data[e]}function Vt(n,e){let t=e[n];return _n(t)?t:t[Lt]}function fu(n){return(n[K]&128)===128}function jI(n){return Ft(n[Ue])}function Hi(n,e){return e==null?null:n[e]}function Rf(n){n[kr]=0}function Nf(n){n[K]&1024||(n[K]|=1024,fu(n)&&Ls(n))}function Os(n){return!!(n[K]&9216||n[Et]?.dirty)}function pu(n){n[Qt].changeDetectionScheduler?.notify(8),n[K]&64&&(n[K]|=1024),Os(n)&&Ls(n)}function Ls(n){n[Qt].changeDetectionScheduler?.notify(0);let e=Gn(n);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!fu(e)));)e=Gn(e)}function Pf(n,e){if(Fr(n))throw new j(911,!1);n[yn]===null&&(n[yn]=[]),n[yn].push(e)}function UI(n,e){if(n[yn]===null)return;let t=n[yn].indexOf(e);t!==-1&&n[yn].splice(t,1)}function Gn(n){let e=n[Ue];return Ft(e)?e[Ue]:e}function $I(n){return n[ji]??=[]}function BI(n){return n.cleanup??=[]}var ce={lFrame:rE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var tf=!1;function HI(){return ce.lFrame.elementDepthCount}function qI(){ce.lFrame.elementDepthCount++}function zI(){ce.lFrame.elementDepthCount--}function WI(){return ce.bindingsEnabled}function GI(){return ce.skipHydrationRootTNode!==null}function KI(n){return ce.skipHydrationRootTNode===n}function QI(){ce.skipHydrationRootTNode=null}function Se(){return ce.lFrame.lView}function Vr(){return ce.lFrame.tView}function Jt(){let n=Mf();for(;n!==null&&n.type===64;)n=n.parent;return n}function Mf(){return ce.lFrame.currentTNode}function YI(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function qi(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function kf(){return ce.lFrame.isParent}function JI(){ce.lFrame.isParent=!1}function xf(){return tf}function Of(n){let e=tf;return tf=n,e}function Lf(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ZI(n){return ce.lFrame.bindingIndex=n}function gu(){return ce.lFrame.bindingIndex++}function XI(){return ce.lFrame.inI18n}function eE(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,mu(e)}function tE(){return ce.lFrame.currentDirectiveIndex}function mu(n){ce.lFrame.currentDirectiveIndex=n}function Ff(n){ce.lFrame.currentQueryIndex=n}function PR(n){let e=n[Q];return e.type===2?e.declTNode:e.type===1?n[Rt]:null}function Vf(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=PR(o),i===null||(o=o[$i],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=nE();return r.currentTNode=e,r.lView=n,!0}function yu(n){let e=nE(),t=n[Q];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nE(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?rE(n):e}function rE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function iE(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var jf=iE;function vu(){let n=iE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Fs(){return ce.lFrame.selectedIndex}function Xn(n){ce.lFrame.selectedIndex=n}function oE(){let n=ce.lFrame;return xs(n.tView,n.selectedIndex)}function jr(){ce.lFrame.currentNamespace=Af}function zi(){MR()}function MR(){ce.lFrame.currentNamespace=null}function sE(){return ce.lFrame.currentNamespace}var aE=!0;function _u(){return aE}function Iu(n){aE=n}function nf(n,e=null,t=null,r){let i=Uf(n,e,t,r);return i.resolveInjectorInitializers(),i}function Uf(n,e=null,t=null,r,i=new Set){let o=[t||Ar,PI(n)];return r=r||(typeof n=="object"?void 0:Wn(n)),new Rr(o,e||Rs(),r||null,i)}var tt=class n{static THROW_IF_NOT_FOUND=Sr;static NULL=new bs;static create(e,t){if(Array.isArray(e))return nf({name:""},t,e,"");{let r=e.name??"";return nf({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:n,providedIn:"any",factory:()=>X(vf)});static __NG_ELEMENT_ID__=-1},He=new U(""),er=(()=>{class n{static __NG_ELEMENT_ID__=kR;static __NG_ENV_ID__=t=>t}return n})(),rf=class extends er{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Fr(this._lView)}onDestroy(e){let t=this._lView;return Pf(t,e),()=>UI(t,e)}};function kR(){return new rf(Se())}var Kt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},wt=new U("",{providedIn:"root",factory:()=>{let n=M(xe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Kt),e.handleError(t))}}}),cE={provide:vn,useValue:()=>void M(Kt),multi:!0},xR=new U("",{providedIn:"root",factory:()=>{let n=M(He).defaultView;if(!n)return;let e=M(wt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),M(er).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function $f(){return Ot([NI(()=>void M(xR))])}function tr(n,e){let[t,r,i]=Ah(n,e?.equal),o=t,s=o[dt];return o.set=r,o.update=i,o.asReadonly=uE.bind(o),o}function uE(){let n=this[dt];if(n.readonlyFn===void 0){let e=()=>this();e[dt]=n,n.readonlyFn=e}return n.readonlyFn}var Kn=class{},Vs=new U("",{providedIn:"root",factory:()=>!1});var Bf=new U(""),Hf=new U(""),Zt=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Qe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),Wi=(()=>{class n{internalPendingTasks=M(Zt);scheduler=M(Kn);errorHandler=M(wt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})();function js(...n){}var qf=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new of})}return n})(),of=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Gs(n){return{toString:n}.toString()}var Eu="__parameters__";function zR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function WR(n,e,t){return Gs(()=>{let r=zR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Eu)?u[Eu]:Object.defineProperty(u,Eu,{value:[]})[Eu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var En=AI(WR("Optional"),8);function GR(n){return typeof n=="function"}var Su=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function HE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var _p=(()=>{let n=()=>qE;return n.ngInherit=!0,n})();function qE(n){return n.type.prototype.ngOnChanges&&(n.setInput=QR),KR}function KR(){let n=WE(this),e=n?.current;if(e){let t=n.previous;if(t===Pr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function QR(n,e,t,r,i){let o=this.declaredInputs[r],s=WE(n)||YR(n,{previous:Pr,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Su(l&&l.currentValue,t,u===Pr),HE(n,e,i,t)}var zE="__ngSimpleChanges__";function WE(n){return n[zE]||null}function YR(n,e){return n[zE]=e}var lE=[];var ve=function(n,e=null,t){for(let r=0;r<lE.length;r++){let i=lE[r];i(n,e,t)}};function JR(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function ZR(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function wu(n,e,t){GE(n,e,3,t)}function Tu(n,e,t,r){(n[K]&3)===t&&GE(n,e,t,r)}function zf(n,e){let t=n[K];(t&3)===e&&(t&=16383,t+=1,n[K]=t)}function GE(n,e,t,r){let i=r!==void 0?n[kr]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[kr]+=65536),(c<o||o==-1)&&(XR(n,t,e,u),n[kr]=(n[kr]&4294901760)+u+2),u++}function dE(n,e){ve(4,n,e);let t=Y(null);try{e.call(n)}finally{Y(t),ve(5,n,e)}}function XR(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[K]>>14<n[kr]>>16&&(n[K]&3)===e&&(n[K]+=16384,dE(c,o)):dE(c,o)}var Ki=-1,Bs=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function eN(n){return(n.flags&8)!==0}function tN(n){return(n.flags&16)!==0}function nN(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];iN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function rN(n){return n===3||n===4||n===6}function iN(n){return n.charCodeAt(0)===64}function Ip(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?hE(n,t,i,null,e[++r]):hE(n,t,i,null,null))}}return n}function hE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function KE(n){return n!==Ki}function Cu(n){return n&32767}function oN(n){return n>>16}function Du(n,e){let t=oN(n),r=e;for(;t>0;)r=r[$i],t--;return r}var Jf=!0;function fE(n){let e=Jf;return Jf=n,e}var sN=256,QE=sN-1,YE=5,aN=0,Xt={};function cN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Nr)&&(r=t[Nr]),r==null&&(r=t[Nr]=aN++);let i=r&QE,o=1<<i;e.data[n+(i>>YE)]|=o}function JE(n,e){let t=ZE(n,e);if(t!==-1)return t;let r=e[Q];r.firstCreatePass&&(n.injectorIndex=e.length,Wf(r.data,n),Wf(e,null),Wf(r.blueprint,null));let i=Ep(n,e),o=n.injectorIndex;if(KE(i)){let s=Cu(i),c=Du(i,e),u=c[Q].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Wf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ZE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ep(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=rw(i),r===null)return Ki;if(t++,i=i[$i],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ki}function uN(n,e,t){cN(n,e,t)}function XE(n,e,t){if(t&8||n!==void 0)return n;cu(e,"NodeInjector")}function ew(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Yn],o=_t(void 0);try{return i?i.get(e,r,t&8):mf(e,r,t&8)}finally{_t(o)}}return XE(r,e,t)}function tw(n,e,t,r=0,i){if(n!==null){if(e[K]&2048&&!(r&2)){let s=pN(n,e,t,r,Xt);if(s!==Xt)return s}let o=nw(n,e,t,r,Xt);if(o!==Xt)return o}return ew(e,t,r,i)}function nw(n,e,t,r,i){let o=hN(t);if(typeof o=="function"){if(!Vf(e,n,r))return r&1?XE(i,t,r):ew(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))cu(t);else return s}finally{jf()}}else if(typeof o=="number"){let s=null,c=ZE(n,e),u=Ki,l=r&1?e[It][Rt]:null;for((c===-1||r&4)&&(u=c===-1?Ep(n,e):e[c+8],u===Ki||!gE(r,!1)?c=-1:(s=e[Q],c=Cu(u),e=Du(u,e)));c!==-1;){let f=e[Q];if(pE(o,c,f.data)){let p=lN(c,e,t,s,r,l);if(p!==Xt)return p}u=e[c+8],u!==Ki&&gE(r,e[Q].data[c+8]===l)&&pE(o,c,e)?(s=f,c=Cu(u),e=Du(u,e)):c=-1}}return i}function lN(n,e,t,r,i,o){let s=e[Q],c=s.data[n+8],u=r==null?Zn(c)&&Jf:r!=s&&(c.type&3)!==0,l=i&1&&o===c,f=dN(c,s,t,u,l);return f!==null?Zf(e,s,f,c,i):Xt}function dN(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let y=p;y<m;y++){let A=s[y];if(y<u&&t===A||y>=u&&A.type===t)return y}if(i){let y=s[u];if(y&&Lr(y)&&y.type===t)return u}return null}function Zf(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Bs){let c=o;if(c.resolving){let y=bI(s[t]);throw gf(y)}let u=fE(c.canSeeViewProviders);c.resolving=!0;let l=s[t].type||s[t],f,p=c.injectImpl?_t(c.injectImpl):null,m=Vf(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&JR(t,s[t],e)}finally{p!==null&&_t(p),fE(u),c.resolving=!1,jf()}}return o}function hN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Nr)?n[Nr]:void 0;return typeof e=="number"?e>=0?e&QE:fN:e}function pE(n,e,t){let r=1<<n;return!!(t[e+(n>>YE)]&r)}function gE(n,e){return!(n&2)&&!(n&1&&e)}var Ur=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return tw(this._tNode,this._lView,e,Cr(r),t)}};function fN(){return new Ur(Jt(),Se())}function ju(n){return Gs(()=>{let e=n.prototype.constructor,t=e[Ts]||Xf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ts]||Xf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Xf(n){return cf(n)?()=>{let e=Xf(gt(n));return e&&e()}:Dr(n)}function pN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!Bi(s);){let c=nw(o,s,t,r|2,Xt);if(c!==Xt)return c;let u=o.parent;if(!u){let l=s[Sf];if(l){let f=l.get(t,Xt,r);if(f!==Xt)return f}u=rw(s),s=s[$i]}o=u}return i}function rw(n){let e=n[Q],t=e.type;return t===2?e.declTNode:t===1?n[Rt]:null}function gN(){return wp(Jt(),Se())}function wp(n,e){return new iw(Yt(n,e))}var iw=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=gN}return n})();function ow(n){return(n.flags&128)===128}var Tp=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Tp||{}),sw=new Map,mN=0;function yN(){return mN++}function vN(n){sw.set(n[Ns],n)}function ep(n){sw.delete(n[Ns])}var mE="__ngContext__";function Qi(n,e){_n(e)?(n[mE]=e[Ns],vN(e)):n[mE]=e}function aw(n){return uw(n[Ui])}function cw(n){return uw(n[At])}function uw(n){for(;n!==null&&!Ft(n);)n=n[At];return n}var tp;function bp(n){tp=n}function lw(){if(tp!==void 0)return tp;if(typeof document<"u")return document;throw new j(210,!1)}var Uu=new U("",{providedIn:"root",factory:()=>_N}),_N="ng",$u=new U(""),nr=new U("",{providedIn:"platform",factory:()=>"unknown"});var Bu=new U("",{providedIn:"root",factory:()=>lw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var IN="h",EN="b";var dw="r";var hw="di";var fw=!1,pw=new U("",{providedIn:"root",factory:()=>fw});var wN=(n,e,t,r)=>{};function TN(n,e,t,r){wN(n,e,t,r)}function Sp(n){return(n.flags&32)===32}var bN=()=>null;function gw(n,e,t=!1){return bN(n,e,t)}function mw(n,e){let t=n.contentQueries;if(t!==null){let r=Y(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];Ff(o),c.contentQueries(2,e[s],s)}}}finally{Y(r)}}}function np(n,e,t){Ff(0);let r=Y(null);try{e(n,t)}finally{Y(r)}}function yw(n,e,t){if(Df(e)){let r=Y(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{Y(r)}}}var In=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(In||{});var Au=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iu})`}};function vw(n){return n instanceof Au?n.changingThisBreaksApplicationSecurity:n}function _w(n,e){let t=Iw(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${iu})`)}return t===e}function Iw(n){return n instanceof Au&&n.getTypeName()||null}var SN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ew(n){return n=String(n),n.match(SN)?n:"unsafe:"+n}var Cp=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Cp||{});function Dp(n){let e=CN();return e?e.sanitize(Cp.URL,n)||"":_w(n,"URL")?vw(n):Ew(au(n))}function CN(){let n=Se();return n&&n[Qt].sanitizer}function ww(n){return n instanceof Function?n():n}function DN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Tw="ng-template";function AN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&DN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ap(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ap(n){return n.type===4&&n.value!==Tw}function RN(n,e,t){let r=n.type===4&&!t?Tw:n.value;return e===r}function NN(n,e,t){let r=4,i=n.attrs,o=i!==null?kN(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!jt(r)&&!jt(u))return!1;if(s&&jt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!RN(n,u,t)||u===""&&e.length===1){if(jt(r))return!1;s=!0}}else if(r&8){if(i===null||!AN(n,i,u,t)){if(jt(r))return!1;s=!0}}else{let l=e[++c],f=PN(u,i,Ap(n),t);if(f===-1){if(jt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(jt(r))return!1;s=!0}}}}return jt(r)||s}function jt(n){return(n&1)===0}function PN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return xN(e,n)}function MN(n,e,t=!1){for(let r=0;r<e.length;r++)if(NN(n,e[r],t))return!0;return!1}function kN(n){for(let e=0;e<n.length;e++){let t=n[e];if(rN(t))return e}return n.length}function xN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function yE(n,e){return n?":not("+e.trim()+")":e}function ON(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jt(s)&&(e+=yE(o,i),i=""),r=s,o=o||!jt(r);t++}return i!==""&&(e+=yE(o,i)),e}function LN(n){return n.map(ON).join(",")}function FN(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!jt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Hr={};function VN(n,e){return n.createText(e)}function jN(n,e,t){n.setValue(e,t)}function bw(n,e,t){return n.createElement(e,t)}function Ru(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Sw(n,e,t){n.appendChild(e,t)}function vE(n,e,t,r,i){r!==null?Ru(n,e,t,r,i):Sw(n,e,t)}function Cw(n,e,t,r){n.removeChild(null,e,t,r)}function UN(n,e,t){n.setAttribute(e,"style",t)}function $N(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Dw(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&nN(n,e,r),i!==null&&$N(n,e,i),o!==null&&UN(n,e,o)}function Rp(n,e,t,r,i,o,s,c,u,l,f){let p=mt+r,m=p+i,y=BN(p,m),A=typeof l=="function"?l():l;return y[Q]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function BN(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Hr);return t}function HN(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Rp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Np(n,e,t,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Lt]=i,p[K]=r|4|128|8|64|1024,(l!==null||n&&n[K]&2048)&&(p[K]|=2048),Rf(p),p[Ue]=p[$i]=n,p[$e]=t,p[Qt]=s||n&&n[Qt],p[Be]=c||n&&n[Be],p[Yn]=u||n&&n[Yn]||null,p[Rt]=o,p[Ns]=yN(),p[Vi]=f,p[Sf]=l,p[It]=e.type==2?n[It]:p,p}function qN(n,e,t){let r=Yt(e,n),i=HN(t),o=n[Qt].rendererFactory,s=Pp(n,Np(n,i,null,Aw(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Aw(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Rw(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Pp(n,e){return n[Ui]?n[bf][At]=e:n[Ui]=e,n[bf]=e,e}function Hu(n=1){Nw(Vr(),Se(),Fs()+n,!1)}function Nw(n,e,t,r){if(!r)if((e[K]&3)===3){let o=n.preOrderCheckHooks;o!==null&&wu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Tu(e,o,0,t)}Xn(t)}var qu=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(qu||{});function rp(n,e,t,r){let i=Y(null);try{let[o,s,c]=n.inputs[t],u=null;(s&qu.SignalBased)!==0&&(u=e[o][dt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):HE(e,u,o,r)}finally{Y(i)}}var qr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(qr||{}),zN;function Mp(n,e){return zN(n,e)}var Yi=new Set,kp=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(kp||{}),Ks=new U(""),_E=new Set;function Qs(n){_E.has(n)||(_E.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Pw=!1,ip=class extends Ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,OI()&&(this.destroyRef=M(er,{optional:!0})??void 0,this.pendingTasks=M(Zt,{optional:!0})??void 0)}emit(e){let t=Y(null);try{super.next(e)}finally{Y(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof be&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},at=ip;function Mw(n){let e,t;function r(){n=js;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function IE(n){return queueMicrotask(()=>n()),()=>{n=js}}var xp="isAngularZone",Nu=xp+"_ID",WN=0,_e=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new at(!1);onMicrotaskEmpty=new at(!1);onStable=new at(!1);onError=new at(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Pw}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,QN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,GN,js,js);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},GN={};function Op(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function KN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Mw(()=>{n.callbackScheduled=!1,op(n),n.isCheckStableRunning=!0,Op(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),op(n)}function QN(n){let e=()=>{KN(n)},t=WN++;n._inner=n._inner.fork({name:"angular",properties:{[xp]:!0,[Nu]:t,[Nu+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(YN(u))return r.invokeTask(o,s,c,u);try{return EE(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),wE(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return EE(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!JN(u)&&e(),wE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,op(n),Op(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function op(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function EE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wE(n){n._nesting--,Op(n)}var Pu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new at;onMicrotaskEmpty=new at;onStable=new at;onError=new at;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function YN(n){return kw(n,"__ignore_ng_zone__")}function JN(n){return kw(n,"__scheduler_tick__")}function kw(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var xw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})();var ZN=new U("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Ow(n,e){let t=n.get(ZN);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function XN(n,e){for(let[t,r]of e)Ow(n,r.animateFns)}function TE(n,e,t,r){let i=n?.[Or]?.enter;e!==null&&i&&i.has(t.index)&&XN(r,i)}function Gi(n,e,t,r,i,o,s,c){if(i!=null){let u,l=!1;Ft(i)?u=i:_n(i)&&(l=!0,i=i[Lt]);let f=Nt(i);n===0&&r!==null?(TE(c,r,o,t),s==null?Sw(e,r,f):Ru(e,r,f,s||null,!0)):n===1&&r!==null?(TE(c,r,o,t),Ru(e,r,f,s||null,!0)):n===2?bE(c,o,t,p=>{Cw(e,f,l,p)}):n===3&&bE(c,o,t,()=>{e.destroyNode(f)}),u!=null&&h0(e,n,t,u,o,r,s)}}function e0(n,e){Lw(n,e),e[Lt]=null,e[Rt]=null}function t0(n,e,t,r,i,o){r[Lt]=i,r[Rt]=e,Wu(n,r,t,1,i,o)}function Lw(n,e){e[Qt].changeDetectionScheduler?.notify(9),Wu(n,e,e[Be],2,null,null)}function n0(n){let e=n[Ui];if(!e)return Gf(n[Q],n);for(;e;){let t=null;if(_n(e))t=e[Ui];else{let r=e[Le];r&&(t=r)}if(!t){for(;e&&!e[At]&&e!==n;)_n(e)&&Gf(e[Q],e),e=e[Ue];e===null&&(e=n),_n(e)&&Gf(e[Q],e),t=e&&e[At]}e=t}}function Lp(n,e){let t=n[ks],r=t.indexOf(e);t.splice(r,1)}function zu(n,e){if(Fr(e))return;let t=e[Be];t.destroyNode&&Wu(n,e,t,3,null,null),n0(e)}function Gf(n,e){if(Fr(e))return;let t=Y(null);try{e[K]&=-129,e[K]|=256,e[Et]&&ys(e[Et]),o0(n,e),i0(n,e),e[Q].type===1&&e[Be].destroy();let r=e[Mr];if(r!==null&&Ft(e[Ue])){r!==e[Ue]&&Lp(r,e);let i=e[xr];i!==null&&i.detachView(n)}ep(e)}finally{Y(t)}}function bE(n,e,t,r){let i=n?.[Or];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&Yi.add(n),Ow(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s)for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();c.push(f)}i.running=Promise.allSettled(c),r0(n,r)}else n&&Yi.delete(n),r(!1)})}function r0(n,e){let t=n[Or]?.running;if(t){t.then(()=>{n[Or].running=void 0,Yi.delete(n),e(!0)});return}e(!1)}function i0(n,e){let t=n.cleanup,r=e[ji];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[ji]=null);let i=e[yn];if(i!==null){e[yn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Ps];if(o!==null){e[Ps]=null;for(let s of o)s.destroy()}}function o0(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Bs)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];ve(4,c,u);try{u.call(c)}finally{ve(5,c,u)}}else{ve(4,i,o);try{o.call(i)}finally{ve(5,i,o)}}}}}function s0(n,e,t){return a0(n,e.parent,t)}function a0(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Lt];if(Zn(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===In.None||i===In.Emulated)return null}return Yt(r,t)}function c0(n,e,t){return l0(n,e,t)}function u0(n,e,t){return n.type&40?Yt(n,t):null}var l0=u0,SE;function Fp(n,e,t,r){let i=s0(n,r,e),o=e[Be],s=r.parent||e[Rt],c=c0(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)vE(o,i,t[u],c,!1);else vE(o,i,t,c,!1);SE!==void 0&&SE(o,r,e,t,i)}function Us(n,e){if(e!==null){let t=e.type;if(t&3)return Yt(e,n);if(t&4)return sp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Us(n,r);{let i=n[e.index];return Ft(i)?sp(-1,i):Nt(i)}}else{if(t&128)return Us(n,e.next);if(t&32)return Mp(e,n)()||Nt(n[e.index]);{let r=Fw(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gn(n[It]);return Us(i,r)}else return Us(n,e.next)}}}return null}function Fw(n,e){if(e!==null){let r=n[It][Rt],i=e.projection;return r.projection[i]}return null}function sp(n,e){let t=Le+n+1;if(t<e.length){let r=e[t],i=r[Q].firstChild;if(i!==null)return Us(r,i)}return e[Jn]}function Vp(n,e,t,r,i,o,s){for(;t!=null;){let c=r[Yn];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Qi(Nt(u),r),t.flags|=2),!Sp(t))if(l&8)Vp(n,e,t.child,r,i,o,!1),Gi(e,n,c,i,u,t,o,r);else if(l&32){let f=Mp(t,r),p;for(;p=f();)Gi(e,n,c,i,p,t,o,r);Gi(e,n,c,i,u,t,o,r)}else l&16?d0(n,e,r,t,i,o):Gi(e,n,c,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Wu(n,e,t,r,i,o){Vp(t,r,n.firstChild,e,i,o,!1)}function d0(n,e,t,r,i,o){let s=t[It],u=s[Rt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Gi(e,n,t[Yn],i,f,r,o,t)}else{let l=u,f=s[Ue];ow(r)&&(l.flags|=128),Vp(n,e,l,f,i,o,!0)}}function h0(n,e,t,r,i,o,s){let c=r[Jn],u=Nt(r);c!==u&&Gi(e,n,t,o,c,i,s);for(let l=Le;l<r.length;l++){let f=r[l];Wu(f[Q],f,n,e,o,c)}}function Vw(n,e,t,r,i){let o=Fs(),s=r&2;try{Xn(-1),s&&e.length>mt&&Nw(n,e,mt,!1),ve(s?2:0,i,t),t(r,i)}finally{Xn(o),ve(s?3:1,i,t)}}function jw(n,e,t){I0(n,e,t),(t.flags&64)===64&&E0(n,e,t)}function Uw(n,e,t=Yt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function f0(n,e,t,r){let o=r.get(pw,fw)||t===In.ShadowDom,s=n.selectRootElement(e,o);return p0(s),s}function p0(n){g0(n)}var g0=()=>null;function m0(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function y0(n,e,t,r,i,o){let s=e[Q];if(jp(n,s,e,t,r)){Zn(n)&&_0(e,n.index);return}n.type&3&&(t=m0(t)),v0(n,e,t,r,i,o)}function v0(n,e,t,r,i,o){if(n.type&3){let s=Yt(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function _0(n,e){let t=Vt(e,n);t[K]&16||(t[K]|=64)}function I0(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Zn(t)&&qN(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||JE(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=Zf(e,n,s,t);if(Qi(u,e),o!==null&&b0(e,s-r,u,c,t,o),Lr(c)){let l=Vt(t.index,e);l[$e]=Zf(e,n,s,t)}}}function E0(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=tE();try{Xn(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];mu(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&w0(u,l)}}finally{Xn(-1),mu(s)}}function w0(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function T0(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];MN(e,o.selectors,!1)&&(r??=[],Lr(o)?r.unshift(o):r.push(o))}return r}function b0(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];rp(r,t,u,l)}}function S0(n,e,t,r,i){let o=mt+t,s=e[Q],c=i(s,e,n,r,t);e[o]=c,qi(n,!0);let u=n.type===2;return u?(Dw(e[Be],c,n),(HI()===0||hu(n))&&Qi(c,e),qI()):Qi(c,e),_u()&&(!u||!Sp(n))&&Fp(s,e,c,n),n}function C0(n){let e=n;return kf()?JI():(e=e.parent,qi(e,!1)),e}function D0(n,e){let t=n[Yn];if(!t)return;let r;try{r=t.get(wt,null)}catch{r=null}r?.(e)}function jp(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];rp(p,t[l],f,i),c=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];rp(f,l,r,i),c=!0}return c}function A0(n,e){let t=Vt(e,n),r=t[Q];R0(r,t);let i=t[Lt];i!==null&&t[Vi]===null&&(t[Vi]=gw(i,t[Yn])),ve(18),Up(r,t,t[$e]),ve(19,t[$e])}function R0(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Up(n,e,t){yu(e);try{let r=n.viewQuery;r!==null&&np(1,r,t);let i=n.template;i!==null&&Vw(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[xr]?.finishViewCreation(n),n.staticContentQueries&&mw(n,e),n.staticViewQueries&&np(2,n.viewQuery,t);let o=n.components;o!==null&&N0(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[K]&=-5,vu()}}function N0(n,e){for(let t=0;t<e.length;t++)A0(n,e[t])}function $w(n,e,t,r){let i=Y(null);try{let o=e.tView,c=n[K]&4096?4096:16,u=Np(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Mr]=l;let f=n[xr];return f!==null&&(u[xr]=f.createEmbeddedView(o)),Up(o,u,t),u}finally{Y(i)}}function Mu(n,e){return!e||e.firstChild===null||ow(n)}function Hs(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Nt(o)),Ft(o)&&Bw(o,r);let s=t.type;if(s&8)Hs(n,e,t.child,r);else if(s&32){let c=Mp(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=Fw(e,t);if(Array.isArray(c))r.push(...c);else{let u=Gn(e[It]);Hs(u[Q],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function Bw(n,e){for(let t=Le;t<n.length;t++){let r=n[t],i=r[Q].firstChild;i!==null&&Hs(r[Q],r,i,e)}n[Jn]!==n[Lt]&&e.push(n[Jn])}function Hw(n){if(n[du]!==null){for(let e of n[du])e.impl.addSequence(e);n[du].length=0}}var qw=[];function P0(n){return n[Et]??M0(n)}function M0(n){let e=qw.pop()??Object.create(x0);return e.lView=n,e}function k0(n){n.lView[Et]!==n&&(n.lView=null,qw.push(n))}var x0=ge(O({},fs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ls(n.lView)},consumerOnSignalRead(){this.lView[Et]=this}});function O0(n){let e=n[Et]??Object.create(L0);return e.lView=n,e}var L0=ge(O({},fs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Gn(n.lView);for(;e&&!zw(e[Q]);)e=Gn(e);e&&Nf(e)},consumerOnSignalRead(){this.lView[Et]=this}});function zw(n){return n.type!==2}function Ww(n){if(n[Ps]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ps])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[K]&8192)}}var F0=100;function Gw(n,e=0){let r=n[Qt].rendererFactory,i=!1;i||r.begin?.();try{V0(n,e)}finally{i||r.end?.()}}function V0(n,e){let t=xf();try{Of(!0),ap(n,e);let r=0;for(;Os(n);){if(r===F0)throw new j(103,!1);r++,ap(n,1)}}finally{Of(t)}}function j0(n,e,t,r){if(Fr(e))return;let i=e[K],o=!1,s=!1;yu(e);let c=!0,u=null,l=null;o||(zw(n)?(l=P0(e),u=gs(l)):Nc()===null?(c=!1,l=O0(e),u=gs(l)):e[Et]&&(ys(e[Et]),e[Et]=null));try{Rf(e),ZI(n.bindingStartIndex),t!==null&&Vw(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let y=n.preOrderCheckHooks;y!==null&&wu(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Tu(e,y,0,null),zf(e,0)}if(s||U0(e),Ww(e),Kw(e,0),n.contentQueries!==null&&mw(n,e),!o)if(f){let y=n.contentCheckHooks;y!==null&&wu(e,y)}else{let y=n.contentHooks;y!==null&&Tu(e,y,1),zf(e,1)}B0(n,e);let p=n.components;p!==null&&Yw(e,p,0);let m=n.viewQuery;if(m!==null&&np(2,m,r),!o)if(f){let y=n.viewCheckHooks;y!==null&&wu(e,y)}else{let y=n.viewHooks;y!==null&&Tu(e,y,2),zf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[lu]){for(let y of e[lu])y();e[lu]=null}o||(Hw(e),e[K]&=-73)}catch(f){throw o||Ls(e),f}finally{l!==null&&(Pc(l,u),c&&k0(l)),vu()}}function Kw(n,e){for(let t=aw(n);t!==null;t=cw(t))for(let r=Le;r<t.length;r++){let i=t[r];Qw(i,e)}}function U0(n){for(let e=aw(n);e!==null;e=cw(e)){if(!(e[K]&2))continue;let t=e[ks];for(let r=0;r<t.length;r++){let i=t[r];Nf(i)}}}function $0(n,e,t){ve(18);let r=Vt(e,n);Qw(r,t),ve(19,r[$e])}function Qw(n,e){fu(n)&&ap(n,e)}function ap(n,e){let r=n[Q],i=n[K],o=n[Et],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ms(o)),s||=!1,o&&(o.dirty=!1),n[K]&=-9217,s)j0(r,n,r.template,n[$e]);else if(i&8192){let c=Y(null);try{Ww(n),Kw(n,1);let u=r.components;u!==null&&Yw(n,u,1),Hw(n)}finally{Y(c)}}}function Yw(n,e,t){for(let r=0;r<e.length;r++)$0(n,e[r],t)}function B0(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Xn(~i);else{let o=i,s=t[++r],c=t[++r];eE(s,o);let u=e[o];ve(24,u),c(2,u),ve(25,u)}}}finally{Xn(-1)}}function $p(n,e){let t=xf()?64:1088;for(n[Qt].changeDetectionScheduler?.notify(e);n;){n[K]|=t;let r=Gn(n);if(Bi(n)&&!r)return n;n=r}return null}function Jw(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function H0(n,e){let t=Le+e;if(t<n.length)return n[t]}function Bp(n,e,t,r=!0){let i=e[Q];if(z0(i,e,n,t),r){let s=sp(t,n),c=e[Be],u=c.parentNode(n[Jn]);u!==null&&t0(i,n[Rt],c,e,u,s)}let o=e[Vi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function q0(n,e){let t=qs(n,e);return t!==void 0&&zu(t[Q],t),t}function qs(n,e){if(n.length<=Le)return;let t=Le+e,r=n[t];if(r){let i=r[Mr];i!==null&&i!==n&&Lp(i,r),e>0&&(n[t-1][At]=r[At]);let o=Ds(n,Le+e);e0(r[Q],r);let s=o[xr];s!==null&&s.detachView(o[Q]),r[Ue]=null,r[At]=null,r[K]&=-129}return r}function z0(n,e,t,r){let i=Le+r,o=t.length;r>0&&(t[i-1][At]=e),r<o-Le?(e[At]=t[i],yf(t,Le+r,e)):(t.push(e),e[At]=null),e[Ue]=t;let s=e[Mr];s!==null&&t!==s&&Zw(s,e);let c=e[xr];c!==null&&c.insertView(n),pu(e),e[K]|=128}function Zw(n,e){let t=n[ks],r=e[Ue];if(_n(r))n[K]|=2;else{let i=r[Ue][It];e[It]!==i&&(n[K]|=2)}t===null?n[ks]=[e]:t.push(e)}var $r=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Q];return Hs(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return Fr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ue];if(Ft(e)){let t=e[Ms],r=t?t.indexOf(this):-1;r>-1&&(qs(e,r),Ds(t,r))}this._attachedToViewContainer=!1}zu(this._lView[Q],this._lView)}onDestroy(e){Pf(this._lView,e)}markForCheck(){$p(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){pu(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,Gw(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Bi(this._lView),t=this._lView[Mr];t!==null&&!e&&Lp(t,this._lView),Lw(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=Bi(this._lView),r=this._lView[Mr];r!==null&&!t&&Zw(r,this._lView),pu(this._lView)}};function Hp(n,e,t,r,i){let o=n.data[e];if(o===null)o=W0(n,e,t,r,i),XI()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=YI();o.injectorIndex=s===null?-1:s.injectorIndex}return qi(o,!0),o}function W0(n,e,t,r,i){let o=Mf(),s=kf(),c=s?o:o&&o.parent,u=n.data[e]=K0(n,c,t,e,r,i);return G0(n,u,o,s),u}function G0(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function K0(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return GI()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var iz=new RegExp(`^(\\d+)*(${EN}|${IN})*(.*)`);function Q0(n){let e=n[Cf]??[],r=n[Ue][Be],i=[];for(let o of e)o.data[hw]!==void 0?i.push(o):Y0(o,r);n[Cf]=i}function Y0(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[dw];for(;t<i;){let o=r.nextSibling;Cw(e,r,!1),r=o,t++}}}var J0=()=>null,Z0=()=>null;function cp(n,e){return J0(n,e)}function X0(n,e,t){return Z0(n,e,t)}var Xw=class{},Gu=class{},up=class{resolveComponentFactory(e){throw new j(917,!1)}},Ys=class{static NULL=new up},Br=class{};var eT=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>null})}return n})();var bu={},lp=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,bu,r);return i!==bu||t===bu?i:this.parentInjector.get(e,t,r)}};function CE(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=af(i,c);else if(o==2){let u=c,l=e[++s];r=af(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ku(n,e=0){let t=Se();if(t===null)return X(n,e);let r=Jt();return tw(r,t,gt(n),e)}function eP(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,l]=f.resolveHostDirectives(s);break}rP(n,e,t,c,o,u,l)}o!==null&&r!==null&&tP(t,r,o)}function tP(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function nP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function rP(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&Lr(y)&&(u=!0,nP(n,t,m)),uN(JE(t,e),n,y.type)}uP(t,n.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=Rw(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(t.mergedAttrs=Ip(t.mergedAttrs,y.hostAttrs),oP(n,t,e,p,y),cP(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);t.directiveToIndex.set(y.type,[p,N+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let A=y.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}iP(n,t,o)}function iP(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))DE(0,e,i,r),DE(1,e,i,r),RE(e,r,!1);else{let o=t.get(i);AE(0,e,o,r),AE(1,e,o,r),RE(e,r,!0)}}}function DE(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),tT(e,o)}}function AE(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),tT(e,s)}}function tT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function RE(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Ap(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function oP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Dr(i.type,!0)),s=new Bs(o,Lr(i),Ku,null);n.blueprint[r]=s,t[r]=s,sP(n,e,r,Rw(n,t,i.hostVars,Hr),i)}function sP(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;aP(s)!=c&&s.push(c),s.push(t,r,o)}}function aP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function cP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Lr(e)&&(t[""]=n)}}function uP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function nT(n,e,t,r,i,o,s,c){let u=e[Q],l=u.consts,f=Hi(l,s),p=Hp(u,n,t,r,f);return o&&eP(u,e,p,Hi(l,c),i),p.mergedAttrs=Ip(p.mergedAttrs,p.attrs),p.attrs!==null&&CE(p,p.attrs,!1),p.mergedAttrs!==null&&CE(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function rT(n,e){ZR(n,e),Df(e)&&n.queries.elementEnd(e)}function iT(n,e,t){return n[e]=t}function oT(n,e){return n[e]}function zs(n,e,t){if(t===Hr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function dp(n,e,t,r){let i=zs(n,e,t);return zs(n,e+1,r)||i}function lP(n,e,t,r,i,o){let s=dp(n,e,t,r);return dp(n,e+2,i,o)||s}function Kf(n,e,t){return function r(i){let o=Zn(n)?Vt(n.index,e):e;$p(o,5);let s=e[$e],c=NE(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=NE(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function NE(n,e,t,r){let i=Y(null);try{return ve(6,e,t),t(r)!==!1}catch(o){return D0(n,o),!1}finally{ve(7,e,t),Y(i)}}function dP(n,e,t,r,i,o,s,c){let u=hu(n),l=!1,f=null;if(!r&&u&&(f=fP(e,t,o,n.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=Yt(n,t),m=r?r(p):p;TN(t,m,o,c);let y=i.listen(m,o,c);if(!hP(o)){let A=r?N=>r(Nt(N[n.index])):n.index;sT(A,e,t,o,c,y,!1)}}return l}function hP(n){return n.startsWith("animation")||n.startsWith("transition")}function fP(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[ji],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function sT(n,e,t,r,i,o,s){let c=e.firstCreatePass?BI(e):null,u=$I(t),l=u.length;u.push(i,o),c&&c.push(r,n,l,(l+1)*(s?-1:1))}function PE(n,e,t,r,i,o){let s=e[t],c=e[Q],l=c.data[t].outputs[r],p=s[l].subscribe(o);sT(n.index,c,e,i,o,p,!0)}var hp=Symbol("BINDING");var ku=class extends Ys{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Qn(e);return new Ji(t,this.ngModule)}};function pP(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&qu.SignalBased)!==0};return i&&(o.transform=i),o})}function gP(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function mP(n,e,t){let r=e instanceof xe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new lp(t,r):t}function yP(n){let e=n.get(Br,null);if(e===null)throw new j(407,!1);let t=n.get(eT,null),r=n.get(Kn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function vP(n,e){let t=aT(n);return bw(e,t,t==="svg"?Af:t==="math"?FI:null)}function aT(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ji=class extends Gu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=pP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=gP(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=LN(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){ve(22);let c=Y(null);try{let u=this.componentDef,l=_P(r,u,s,o),f=mP(u,i||this.ngModule,e),p=yP(f),m=p.rendererFactory.createRenderer(null,u),y=r?f0(m,r,u.encapsulation,f):vP(u,m),A=s?.some(ME)||o?.some(F=>typeof F!="function"&&F.bindings.some(ME)),N=Np(null,l,null,512|Aw(u),null,null,p,m,f,null,gw(y,f,!0));N[mt]=y,yu(N);let R=null;try{let F=nT(mt,N,2,"#host",()=>l.directiveRegistry,!0,0);Dw(m,y,F),Qi(y,N),jw(l,N,F),yw(l,F,N),rT(l,F),t!==void 0&&EP(F,this.ngContentSelectors,t),R=Vt(F.index,N),N[$e]=R[$e],Up(l,N,null)}catch(F){throw R!==null&&ep(R),ep(N),F}finally{ve(23),vu()}return new xu(this.componentType,N,!!A)}finally{Y(c)}}};function _P(n,e,t,r){let i=n?["ng-version","20.3.9"]:FN(e.selectors[0]),o=null,s=null,c=0;if(t)for(let f of t)c+=f[hp].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[hp].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=Ef(p);u.push(m)}return Rp(0,null,IP(o,s),1,c,u,null,null,null,[i],null)}function IP(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function ME(n){let e=n[hp].kind;return e==="input"||e==="twoWay"}var xu=class extends Xw{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=xs(t[Q],mt),this.location=wp(this._tNode,t),this.instance=Vt(this._tNode.index,t)[$e],this.hostView=this.changeDetectorRef=new $r(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=jp(r,i[Q],i,e,t);this.previousInputValues.set(e,t);let s=Vt(r.index,i);$p(s,1)}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function EP(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Qu=(()=>{class n{static __NG_ELEMENT_ID__=wP}return n})();function wP(){let n=Jt();return bP(n,Se())}var TP=Qu,cT=class extends TP{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wp(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ep(this._hostTNode,this._hostLView);if(KE(e)){let t=Du(e,this._hostLView),r=Cu(e),i=t[Q].data[r+8];return new Ur(i,t)}else return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=kE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Le}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=cp(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,Mu(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!GR(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let f=u?e:new Ji(Qn(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let F=(u?p:this.parentInjector).get(xe,null);F&&(o=F)}let m=Qn(f.componentType??{}),y=cp(this._lContainer,m?.id??null),A=y?.firstChild??null,N=f.create(p,i,A,o,s,c);return this.insertImpl(N.hostView,l,Mu(this._hostTNode,y)),N}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(jI(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ue],l=new cT(u,u[Rt],u[Ue]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Bp(s,i,o,r),e.attachToViewContainerRef(),yf(Qf(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=kE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=qs(this._lContainer,t);r&&(Ds(Qf(this._lContainer),t),zu(r[Q],r))}detach(e){let t=this._adjustIndex(e,-1),r=qs(this._lContainer,t);return r&&Ds(Qf(this._lContainer),t)!=null?new $r(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function kE(n){return n[Ms]}function Qf(n){return n[Ms]||(n[Ms]=[])}function bP(n,e){let t,r=e[n.index];return Ft(r)?t=r:(t=Jw(r,e,null,n),e[n.index]=t,Pp(e,t)),CP(t,e,n,r),new cT(t,n,e)}function SP(n,e){let t=n[Be],r=t.createComment(""),i=Yt(e,n),o=t.parentNode(i);return Ru(t,o,r,t.nextSibling(i),!1),r}var CP=RP,DP=()=>!1;function AP(n,e,t){return DP(n,e,t)}function RP(n,e,t,r){if(n[Jn])return;let i;t.type&8?i=Nt(r):i=SP(e,t),n[Jn]=i}var Zi=class{},Yu=class{};var Ou=class extends Zi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ku(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=If(e);this._bootstrapComponents=ww(o.bootstrap),this._r3Injector=Uf(e,t,[{provide:Zi,useValue:this},{provide:Ys,useValue:this.componentFactoryResolver},...r],Wn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Lu=class extends Yu{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ou(this.moduleType,e,[])}};var Ws=class extends Zi{injector;componentFactoryResolver=new ku(this);instance=null;constructor(e){super();let t=new Rr([...e.providers,{provide:Zi,useValue:this},{provide:Ys,useValue:this.componentFactoryResolver}],e.parent||Rs(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Js(n,e,t=null){return new Ws({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var NP=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=wf(!1,t.type),i=r.length>0?Js([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(X(xe))})}return n})();function Zs(n){return Gs(()=>{let e=uT(n),t=ge(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Tp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(NP).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||In.Emulated,styles:n.styles||Ar,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Qs("NgStandalone"),lT(t);let r=n.dependencies;return t.directiveDefs=xE(r,PP),t.pipeDefs=xE(r,RI),t.id=xP(t),t})}function PP(n){return Qn(n)||Ef(n)}function MP(n,e){if(n==null)return Pr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=qu.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function kP(n){if(n==null)return Pr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function qp(n){return Gs(()=>{let e=uT(n);return lT(e),e})}function uT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Pr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Ar,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:MP(n.inputs,e),outputs:kP(n.outputs),debugInfo:null}}function lT(n){n.features?.forEach(e=>e(n))}function xE(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function xP(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function OP(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=Ip(n.mergedAttrs,n.attrs);let f=n.tView=Rp(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),qi(n,!1);let u=LP(t,e,n,r);_u()&&Fp(t,e,u,n),Qi(u,e);let l=Jw(u,e,u,n);e[r+mt]=l,Pp(e,l),AP(l,n,e)}function OE(n,e,t,r,i,o,s,c,u,l,f){let p=t+mt,m;if(e.firstCreatePass){if(m=Hp(e,p,4,s||null,c||null),l!=null){let y=Hi(e.consts,l);m.localNames=[];for(let A=0;A<y.length;A+=2)m.localNames.push(y[A],-1)}}else m=e.data[p];return OP(m,n,e,t,r,i,o,u),l!=null&&Uw(n,m,f),m}var LP=FP;function FP(n,e,t,r){return Iu(!0),e[Be].createComment("")}var zp=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Wp=new U("");function Xs(n){return!!n&&typeof n.then=="function"}function dT(n){return!!n&&typeof n.subscribe=="function"}var hT=new U("");var Gp=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(hT,{optional:!0})??[];injector=M(tt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Oe(this.injector,i);if(Xs(o))t.push(o);else if(dT(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ju=new U("");function fT(){Dh(()=>{let n="";throw new j(600,n)})}function pT(n){return n.isBoundToModule}var VP=10;var zr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(wt);afterRenderManager=M(xw);zonelessEnabled=M(Vs);rootEffectScheduler=M(qf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ke;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(Zt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(t=>!t))}constructor(){M(Ks,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=tt.NULL){return this._injector.get(_e).run(()=>{ve(10);let s=t instanceof Gu;if(!this._injector.get(Gp).done){let A="";throw new j(405,A)}let u;s?u=t:u=this._injector.get(Ys).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=pT(u)?void 0:this._injector.get(Zi),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(Wp,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),$s(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ve(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(kp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=Y(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(t),this.afterTick.next(),ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Br,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<VP;)ve(14),this.synchronizeOnce(),ve(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Os(i))continue;let o=r&&!this.zonelessEnabled?0:1;Gw(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Os(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;$s(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ju,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$s(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $s(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var dz=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var fp=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e,!0))}};function Yf(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function jP(n,e,t){let r,i,o=0,s=n.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),f=e[o],p=Yf(o,l,o,f,t);if(p!==0){p<0&&n.updateValue(o,f),o++;continue}let m=n.at(s),y=e[u],A=Yf(s,m,u,y,t);if(A!==0){A<0&&n.updateValue(s,y),s--,u--;continue}let N=t(o,l),R=t(s,m),F=t(o,f);if(Object.is(F,R)){let H=t(u,y);Object.is(H,N)?(n.swap(o,s),n.updateValue(s,y),u--,s--):n.move(s,o),n.updateValue(o,f),o++;continue}if(r??=new Fu,i??=FE(n,o,s,t),pp(n,r,o,F))n.updateValue(o,f),o++,s++;else if(i.has(F))r.set(N,n.detach(o)),s--;else{let H=n.create(o,e[o]);n.attach(o,H),o++,s++}}for(;o<=u;)LE(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let f=n.at(o),p=l.value,m=Yf(o,f,o,p,t);if(m!==0)m<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new Fu,i??=FE(n,o,s,t);let y=t(o,p);if(pp(n,r,o,y))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let A=t(o,f);r.set(A,n.detach(o)),s--}}}for(;!l.done;)LE(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function pp(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function LE(n,e,t,r,i){if(pp(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function FE(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Fu=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};var gp=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Le}};var mp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Kp(n,e,t,r,i,o,s,c,u,l,f,p,m){Qs("NgControlFlow");let y=Se(),A=Vr(),N=u!==void 0,R=Se(),F=c?s.bind(R[It][$e]):s,H=new mp(N,F);R[mt+n]=H,OE(y,A,n+1,e,t,r,i,Hi(A.consts,o),256),N&&OE(y,A,n+2,u,l,f,p,Hi(A.consts,m),512)}var yp=class extends fp{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Le}at(e){return this.getLView(e)[$e].$implicit}attach(e,t){let r=t[Vi];this.needsIndexUpdate||=e!==this.length,Bp(this.lContainer,t,e,Mu(this.templateTNode,r))}detach(e,t){return this.needsIndexUpdate||=e!==this.length-1,t&&UP(this.lContainer,e),$P(this.lContainer,e)}create(e,t){let r=cp(this.lContainer,this.templateTNode.tView.ssrId),i=$w(this.hostLView,this.templateTNode,new gp(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){zu(e[Q],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[$e].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return BP(this.lContainer,e)}};function Qp(n){let e=Y(null),t=Fs();try{let r=Se(),i=r[Q],o=r[t],s=t+1,c=VE(r,s);if(o.liveCollection===void 0){let l=jE(i,s);o.liveCollection=new yp(c,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(jP(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=gu(),f=u.length===0;if(zs(r,l,f)){let p=t+2,m=VE(r,p);if(f){let y=jE(i,p),A=X0(m,y,r),N=$w(r,y,void 0,{dehydratedView:A});Bp(m,N,0,Mu(y,A))}else i.firstUpdatePass&&Q0(m),q0(m,0)}}}finally{Y(e)}}function VE(n,e){return n[e]}function UP(n,e){if(n.length<=Le)return;let t=Le+e,r=n[t];r&&r[Or]&&(r[Or].skipLeaveAnimations=!0)}function $P(n,e){return qs(n,e)}function BP(n,e){return H0(n,e)}function jE(n,e){return xs(n,e)}function Zu(n,e,t){let r=Se(),i=gu();if(zs(r,i,e)){let o=Vr(),s=oE();y0(s,r,n,e,r[Be],t)}return Zu}function UE(n,e,t,r,i){jp(e,n,t,i?"class":"style",r)}function Tt(n,e,t,r){let i=Se(),o=i[Q],s=n+mt,c=o.firstCreatePass?nT(s,i,2,e,T0,WI(),t,r):o.data[s];if(S0(c,i,n,e,HP),hu(c)){let u=i[Q];jw(u,i,c),yw(u,c,i)}return r!=null&&Uw(i,c),Tt}function Ut(){let n=Vr(),e=Jt(),t=C0(e);return n.firstCreatePass&&rT(n,t),KI(t)&&QI(),zI(),t.classesWithoutHost!=null&&eN(t)&&UE(n,t,Se(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&tN(t)&&UE(n,t,Se(),t.stylesWithoutHost,!1),Ut}function en(n,e,t,r){return Tt(n,e,t,r),Ut(),en}var HP=(n,e,t,r,i)=>(Iu(!0),bw(e[Be],r,sE()));var ea="en-US";var qP=ea;function gT(n){typeof n=="string"&&(qP=n.toLowerCase().replace(/_/g,"-"))}function Xu(n,e,t){let r=Se(),i=Vr(),o=Jt();return zP(i,r,r[Be],o,n,e,t),Xu}function zP(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=Kf(r,e,o),dP(r,n,e,s,t,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=Kf(r,e,o),PE(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Kf(r,e,o),PE(r,e,p,i,i,u)}}function el(n,e=""){let t=Se(),r=Vr(),i=n+mt,o=r.firstCreatePass?Hp(r,i,1,e,null):r.data[i],s=WP(r,t,o,e,n);t[i]=s,_u()&&Fp(r,t,s,o),qi(o,!1)}var WP=(n,e,t,r,i)=>(Iu(!0),VN(e[Be],r));function GP(n,e,t,r=""){return zs(n,gu(),t)?e+au(t)+r:Hr}function tl(n){return Yp("",n),tl}function Yp(n,e,t){let r=Se(),i=GP(r,n,e,t);return i!==Hr&&KP(r,Fs(),i),Yp}function KP(n,e,t){let r=VI(e,n);jN(n[Be],r,t)}function rr(n,e,t){let r=Lf()+n,i=Se();return i[r]===Hr?iT(i,r,t?e.call(t):e()):oT(i,r)}function Jp(n,e,t,r,i,o,s,c,u){let l=Lf()+n,f=Se(),p=lP(f,l,t,r,i,o);return dp(f,l+4,s,c)||p?iT(f,l+6,u?e.call(u,t,r,i,o,s,c):e(t,r,i,o,s,c)):oT(f,l+6)}var Vu=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Zp=(()=>{class n{compileModuleSync(t){return new Lu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=If(t),o=ww(i.declarations).reduce((s,c)=>{let u=Qn(c);return u&&s.push(new Ji(u)),s},[]);return new Vu(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var QP=(()=>{class n{zone=M(_e);changeDetectionScheduler=M(Kn);applicationRef=M(zr);applicationErrorHandler=M(wt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mT=new U("",{factory:()=>!1});function Xp({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(ge(O({},tg()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:vn,multi:!0,useFactory:()=>{let r=M(QP,{optional:!0});return()=>r.initialize()}},{provide:vn,multi:!0,useFactory:()=>{let r=M(YP);return()=>{r.initialize()}}},e===!0?{provide:Bf,useValue:!0}:[],{provide:Hf,useValue:t??Pw},{provide:wt,useFactory:()=>{let r=M(_e),i=M(xe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Kt),o.handleError(s))})}}}]}function eg(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Xp({ngZoneFactory:()=>{let i=tg(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Qs("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ot([{provide:mT,useValue:!0},{provide:Vs,useValue:!1},r])}function tg(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var YP=(()=>{class n{subscription=new be;initialized=!1;zone=M(_e);pendingTasks=M(Zt);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yT=(()=>{class n{applicationErrorHandler=M(wt);appRef=M(zr);taskService=M(Zt);ngZone=M(_e);zonelessEnabled=M(Vs);tracing=M(Ks,{optional:!0});disableScheduling=M(Bf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new be;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(Hf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?IE:Mw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,IE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JP(){return typeof $localize<"u"&&$localize.locale||ea}var ng=new U("",{providedIn:"root",factory:()=>M(ng,{optional:!0,skipSelf:!0})||JP()});function ir(n){return II(n)}var vT=class{[dt];constructor(e){this[dt]=e}destroy(){this[dt].destroy()}};var ET=Symbol("InputSignalNode#UNSET"),cM=ge(O({},Mc),{transformFn:void 0,applyValueToInputSignal(n,e){Ei(n,e)}});function wT(n,e){let t=Object.create(cM);t.value=n,t.transformFn=e?.transform;function r(){if(ps(t),t.value===ET){let i=null;throw new j(-950,i)}return t.value}return r[dt]=t,r}var uM=new U("");uM.__NG_ELEMENT_ID__=n=>{let e=Jt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new j(204,!1)};function _T(n,e){return wT(n,e)}function lM(n){return wT(ET,n)}var TT=(_T.required=lM,_T);var rg=new U(""),dM=new U("");function ta(n){return!n.moduleRef}function hM(n){let e=ta(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{ta(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(wt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ta(n)){let o=()=>e.destroy(),s=n.platformInjector.get(rg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(rg);s.add(o),n.moduleRef.onDestroy(()=>{$s(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return pM(r,t,()=>{let o=e.get(Zt),s=o.add(),c=e.get(Gp);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(ng,ea);if(gT(u||ea),!e.get(dM,!0))return ta(n)?e.get(zr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ta(n)){let f=e.get(zr);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return fM?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var fM;function pM(n,e,t){try{let r=t();return Xs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var nl=null;function gM(n=[],e){return tt.create({name:e,providers:[{provide:As,useValue:"platform"},{provide:rg,useValue:new Set([()=>nl=null])},...n]})}function mM(n=[]){if(nl)return nl;let e=gM(n);return nl=e,fT(),yM(e),e}function yM(n){let e=n.get($u,null);Oe(n,()=>{e?.forEach(t=>t())})}function ig(){return!1}var bT=(()=>{class n{static __NG_ELEMENT_ID__=vM}return n})();function vM(n){return _M(Jt(),Se(),(n&16)===16)}function _M(n,e,t){if(Zn(n)&&!t){let r=Vt(n.index,e);return new $r(r,r)}else if(n.type&175){let r=e[It];return new $r(r,e)}return null}function ST(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;ve(8);try{let o=i?.injector??mM(r),s=[Xp({}),{provide:Kn,useExisting:yT},cE,...t||[]],c=new Ws({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return hM({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ve(9)}}var AT=null;function wn(){return AT}function og(n){AT??=n}var na=class{},sg=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>M(RT),providedIn:"platform"})}return n})();var RT=(()=>{class n extends sg{_location;_history;_doc=M(He);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wn().getBaseHref(this._doc)}onPopState(t){let r=wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function NT(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function CT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function or(n){return n&&n[0]!=="?"?`?${n}`:n}var rl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>M(MT),providedIn:"root"})}return n})(),PT=new U(""),MT=(()=>{class n extends rl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return NT(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+or(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+or(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+or(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(X(sg),X(PT,8))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xi=(()=>{class n{_subject=new Ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=wM(CT(DT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+or(r))}normalize(t){return n.stripTrailingSlash(EM(this._basePath,DT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+or(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+or(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=or;static joinWithSlash=NT;static stripTrailingSlash=CT;static \u0275fac=function(r){return new(r||n)(X(rl))};static \u0275prov=$({token:n,factory:()=>IM(),providedIn:"root"})}return n})();function IM(){return new Xi(X(rl))}function EM(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function DT(n){return n.replace(/\/index.html$/,"")}function wM(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function ag(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ra=class{};var kT="browser";var ia=class{_doc;constructor(e){this._doc=e}manager},il=(()=>{class n extends ia{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(X(He))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),sl=new U(""),hg=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof il));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof il);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(X(sl),X(_e))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),cg="ng-app-id";function xT(n){for(let e of n)e.remove()}function OT(n,e){let t=e.createElement("style");return t.textContent=n,t}function TM(n,e,t,r){let i=n.head?.querySelectorAll(`style[${cg}="${e}"],link[${cg}="${e}"]`);if(i)for(let o of i)o.removeAttribute(cg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function lg(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var fg=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,TM(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,OT);r?.forEach(i=>this.addUsage(i,this.external,lg))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(xT(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])xT(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,OT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,lg(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(X(He),X(Uu),X(Bu,8),X(nr))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),ug={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},pg=/%COMP%/g;var FT="%COMP%",bM=`_nghost-${FT}`,SM=`_ngcontent-${FT}`,CM=!0,DM=new U("",{providedIn:"root",factory:()=>CM});function AM(n){return SM.replace(pg,n)}function RM(n){return bM.replace(pg,n)}function VT(n,e){return e.map(t=>t.replace(pg,n))}var gg=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new oa(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ol?i.applyToHost(t):i instanceof sa&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case In.Emulated:o=new ol(u,l,r,this.appId,f,s,c,p,m);break;case In.ShadowDom:return new dg(u,l,t,r,s,c,this.nonce,p,m);default:o=new sa(u,l,r,f,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(X(hg),X(fg),X(Uu),X(DM),X(He),X(nr),X(_e),X(Bu),X(Ks,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),oa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ug[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(LT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(LT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=ug[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ug[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(qr.DashCase|qr.Important)?e.style.setProperty(t,r,i&qr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&qr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=wn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function LT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var dg=class extends oa{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=VT(i.id,f);for(let m of f){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=lg(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sa=class extends oa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?VT(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Yi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ol=class extends sa{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,c,u,l,f),this.contentAttr=AM(f),this.hostAttr=RM(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var al=class n extends na{supportsDOMEvents=!0;static makeCurrent(){og(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=NM();return t==null?null:PM(t)}resetBaseElement(){aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ag(document.cookie,e)}},aa=null;function NM(){return aa=aa||document.head.querySelector("base"),aa?aa.getAttribute("href"):null}function PM(n){return new URL(n,document.baseURI).pathname}var MM=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),jT=["alt","control","meta","shift"],kM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xM={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},UT=(()=>{class n extends ia{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wn().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),jT.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=kM[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jT.forEach(s=>{if(s!==i){let c=xM[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(X(He))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function mg(n,e,t){let r=O({rootComponent:n,platformRef:t?.platformRef},OM(e));return ST(r)}function OM(n){return{appProviders:[...UM,...n?.providers??[]],platformProviders:jM}}function LM(){al.makeCurrent()}function FM(){return new Kt}function VM(){return bp(document),document}var jM=[{provide:nr,useValue:kT},{provide:$u,useValue:LM,multi:!0},{provide:He,useFactory:VM}];var UM=[{provide:As,useValue:"root"},{provide:Kt,useFactory:FM},{provide:sl,useClass:il,multi:!0,deps:[He]},{provide:sl,useClass:UT,multi:!0,deps:[He]},gg,fg,hg,{provide:Br,useExisting:gg},{provide:ra,useClass:MM},[]];var $T=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(X(He))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var z="primary",wa=Symbol("RouteTitle"),Eg=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Qr(n){return new Eg(n)}function QT(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function BM(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!tn(n[t],e[t]))return!1;return!0}function tn(n,e){let t=n?wg(n):void 0,r=e?wg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!YT(n[i],e[i]))return!1;return!0}function wg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function YT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function JT(n){return n.length>0?n[n.length-1]:null}function Sn(n){return Hh(n)?n:Xs(n)?Re(Promise.resolve(n)):q(n)}var HM={exact:XT,subset:eb},ZT={exact:qM,subset:zM,ignored:()=>!0};function BT(n,e,t){return HM[t.paths](n.root,e.root,t.matrixParams)&&ZT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function qM(n,e){return tn(n,e)}function XT(n,e,t){if(!Gr(n.segments,e.segments)||!ll(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!XT(n.children[r],e.children[r],t))return!1;return!0}function zM(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>YT(n[t],e[t]))}function eb(n,e,t){return tb(n,e,e.segments,t)}function tb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Gr(i,t)||e.hasChildren()||!ll(i,t,r))}else if(n.segments.length===t.length){if(!Gr(n.segments,t)||!ll(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!eb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Gr(n.segments,i)||!ll(n.segments,i,r)||!n.children[z]?!1:tb(n.children[z],e,o,r)}}function ll(n,e,t){return e.every((r,i)=>ZT[t](n[i].parameters,r.parameters))}var rn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new de([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qr(this.queryParams),this._queryParamMap}toString(){return KM.serialize(this)}},de=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dl(this)}},sr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Qr(this.parameters),this._parameterMap}toString(){return rb(this)}};function WM(n,e){return Gr(n,e)&&n.every((t,r)=>tn(t.parameters,e[r].parameters))}function Gr(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function GM(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===z&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==z&&(t=t.concat(e(i,r)))}),t}var Ta=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new Yr,providedIn:"root"})}return n})(),Yr=class{parse(e){let t=new bg(e);return new rn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ca(e.root,!0)}`,r=JM(e.queryParams),i=typeof e.fragment=="string"?`#${QM(e.fragment)}`:"";return`${t}${r}${i}`}},KM=new Yr;function dl(n){return n.segments.map(e=>rb(e)).join("/")}function ca(n,e){if(!n.hasChildren())return dl(n);if(e){let t=n.children[z]?ca(n.children[z],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${ca(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=GM(n,(r,i)=>i===z?[ca(n.children[z],!1)]:[`${i}:${ca(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[z]!=null?`${dl(n)}/${t[0]}`:`${dl(n)}/(${t.join("//")})`}}function nb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cl(n){return nb(n).replace(/%3B/gi,";")}function QM(n){return encodeURI(n)}function Tg(n){return nb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hl(n){return decodeURIComponent(n)}function HT(n){return hl(n.replace(/\+/g,"%20"))}function rb(n){return`${Tg(n.path)}${YM(n.parameters)}`}function YM(n){return Object.entries(n).map(([e,t])=>`;${Tg(e)}=${Tg(t)}`).join("")}function JM(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${cl(t)}=${cl(i)}`).join("&"):`${cl(t)}=${cl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var ZM=/^[^\/()?;#]+/;function yg(n){let e=n.match(ZM);return e?e[0]:""}var XM=/^[^\/()?;=#]+/;function ek(n){let e=n.match(XM);return e?e[0]:""}var tk=/^[^=?&#]+/;function nk(n){let e=n.match(tk);return e?e[0]:""}var rk=/^[^&#]+/;function ik(n){let e=n.match(rk);return e?e[0]:""}var bg=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[z]=new de(e,t)),r}parseSegment(){let e=yg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new sr(hl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=ek(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=yg(this.remaining);i&&(r=i,this.capture(r))}e[hl(t)]=hl(r)}parseQueryParam(e){let t=nk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=ik(this.remaining);s&&(r=s,this.capture(r))}let i=HT(t),o=HT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=yg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=z);let s=this.parseChildren();t[o??z]=Object.keys(s).length===1&&s[z]?s[z]:new de([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function ib(n){return n.segments.length>0?new de([],{[z]:n}):n}function ob(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=ob(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new de(n.segments,e);return ok(t)}function ok(n){if(n.numberOfChildren===1&&n.children[z]){let e=n.children[z];return new de(n.segments.concat(e.segments),e.children)}return n}function io(n){return n instanceof rn}function sb(n,e,t=null,r=null){let i=ab(n);return cb(i,e,t,r)}function ab(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new de(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=ib(r);return e??i}function cb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return vg(i,i,i,t,r);let o=sk(e);if(o.toRoot())return vg(i,i,new de([],{}),t,r);let s=ak(o,i,n),c=s.processChildren?la(s.segmentGroup,s.index,o.commands):lb(s.segmentGroup,s.index,o.commands);return vg(i,s.segmentGroup,c,t,r)}function fl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function fa(n){return typeof n=="object"&&n!=null&&n.outlets}function vg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=ub(n,e,t);let c=ib(ob(s));return new rn(c,o,i)}function ub(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=ub(o,e,t)}),new de(n.segments,r)}var pl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&fl(r[0]))throw new j(4003,!1);let i=r.find(fa);if(i&&i!==JT(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new pl(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new pl(t,e,r)}var no=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ak(n,e,t){if(n.isAbsolute)return new no(e,!0,0);if(!t)return new no(e,!1,NaN);if(t.parent===null)return new no(t,!0,0);let r=fl(n.commands[0])?0:1,i=t.segments.length-1+r;return ck(t,i,n.numberOfDoubleDots)}function ck(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new no(r,!1,i-o)}function uk(n){return fa(n[0])?n[0].outlets:{[z]:n}}function lb(n,e,t){if(n??=new de([],{}),n.segments.length===0&&n.hasChildren())return la(n,e,t);let r=lk(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new de(n.segments.slice(0,r.pathIndex),{});return o.children[z]=new de(n.segments.slice(r.pathIndex),n.children),la(o,0,i)}else return r.match&&i.length===0?new de(n.segments,{}):r.match&&!n.hasChildren()?Sg(n,e,t):r.match?la(n,0,i):Sg(n,e,t)}function la(n,e,t){if(t.length===0)return new de(n.segments,{});{let r=uk(t),i={};if(Object.keys(r).some(o=>o!==z)&&n.children[z]&&n.numberOfChildren===1&&n.children[z].segments.length===0){let o=la(n.children[z],e,t);return new de(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=lb(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new de(n.segments,i)}}function lk(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(fa(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!zT(u,l,s))return o;r+=2}else{if(!zT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sg(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(fa(o)){let u=dk(o.outlets);return new de(r,u)}if(i===0&&fl(t[0])){let u=n.segments[e];r.push(new sr(u.path,qT(t[0]))),i++;continue}let s=fa(o)?o.outlets[z]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&fl(c)?(r.push(new sr(s,qT(c))),i+=2):(r.push(new sr(s,{})),i++)}return new de(r,{})}function dk(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Sg(new de([],{}),0,r))}),e}function qT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function zT(n,e,t){return n==t.path&&tn(e,t.parameters)}var da="imperative",qe=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(qe||{}),St=class{id;url;constructor(e,t){this.id=e,this.url=t}},Jr=class extends St{type=qe.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tn=class extends St{urlAfterRedirects;type=qe.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ct=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(ct||{}),pa=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(pa||{}),nn=class extends St{reason;code;type=qe.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bn=class extends St{reason;code;type=qe.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},oo=class extends St{error;target;type=qe.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ga=class extends St{urlAfterRedirects;state;type=qe.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gl=class extends St{urlAfterRedirects;state;type=qe.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ml=class extends St{urlAfterRedirects;state;shouldActivate;type=qe.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yl=class extends St{urlAfterRedirects;state;type=qe.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vl=class extends St{urlAfterRedirects;state;type=qe.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_l=class{route;type=qe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Il=class{route;type=qe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},El=class{snapshot;type=qe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wl=class{snapshot;type=qe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tl=class{snapshot;type=qe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bl=class{snapshot;type=qe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ma=class{},so=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function hk(n){return!(n instanceof ma)&&!(n instanceof so)}function fk(n,e){return n.providers&&!n._injector&&(n._injector=Js(n.providers,e,`Route: ${n.path}`)),n._injector??e}function $t(n){return n.outlet||z}function pk(n,e){let t=n.filter(r=>$t(r)===e);return t.push(...n.filter(r=>$t(r)!==e)),t}function uo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return uo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new lo(this.rootInjector)}},lo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(X(xe))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Cg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Cg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Dg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Dg(e,this._root).map(t=>t.value)}};function Cg(n,e){if(n===e.value)return e;for(let t of e.children){let r=Cg(n,t);if(r)return r}return null}function Dg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Dg(n,t);if(r.length)return r.unshift(e),r}return[]}var bt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function to(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ya=class extends Cl{snapshot;constructor(e,t){super(e),this.snapshot=t,Og(this,e)}toString(){return this.snapshot.toString()}};function db(n){let e=gk(n),t=new Qe([new sr("",{})]),r=new Qe({}),i=new Qe({}),o=new Qe({}),s=new Qe(""),c=new ar(t,r,o,s,i,z,n,e.root);return c.snapshot=e.root,new ya(new bt(c,[]),e)}function gk(n){let e={},t={},r={},o=new Kr([],e,r,"",t,z,n,null,{});return new va("",new bt(o,[]))}var ar=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[wa]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Qr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Qr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&fb(i)&&(r.resolve[wa]=i.title),r}var Kr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[wa]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},va=class extends Cl{url;constructor(e,t){super(t),this.url=e,Og(this,t)}toString(){return hb(this._root)}};function Og(n,e){e.value._routerState=n,e.children.forEach(t=>Og(n,t))}function hb(n){let e=n.children.length>0?` { ${n.children.map(hb).join(", ")} } `:"";return`${n.value}${e}`}function _g(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,tn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),tn(e.params,t.params)||n.paramsSubject.next(t.params),BM(e.url,t.url)||n.urlSubject.next(t.url),tn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ag(n,e){let t=tn(n.params,e.params)&&WM(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ag(n.parent,e.parent))}function fb(n){return typeof n.title=="string"||n.title===null}var pb=new U(""),ba=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new at;deactivateEvents=new at;attachEvents=new at;detachEvents=new at;routerOutletData=TT();parentContexts=M(lo);location=M(Qu);changeDetector=M(bT);inputBinder=M(Pl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Rg(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=qp({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_p]})}return n})(),Rg=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ar?this.route:e===lo?this.childContexts:e===pb?this.outletData:this.parent.get(e,t)}},Pl=new U("");var Lg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Zs({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&en(0,"router-outlet")},dependencies:[ba],encapsulation:2})}return n})();function Fg(n){let e=n.children&&n.children.map(Fg),t=e?ge(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==z&&(t.component=Lg),t}function mk(n,e,t){let r=_a(n,e._root,t?t._root:void 0);return new ya(r,e)}function _a(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=yk(n,e,t);return new bt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>_a(n,c)),s}}let r=vk(e.value),i=e.children.map(o=>_a(n,o));return new bt(r,i)}}function yk(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _a(n,r,i);return _a(n,r)})}function vk(n){return new ar(new Qe(n.url),new Qe(n.params),new Qe(n.queryParams),new Qe(n.fragment),new Qe(n.data),n.outlet,n.component,n)}var ao=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},gb="ngNavigationCancelingError";function Al(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=io(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mb(!1,ct.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function mb(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[gb]=!0,t.cancellationCode=e,t}function _k(n){return yb(n)&&io(n.url)}function yb(n){return!!n&&n[gb]}var Ik=(n,e,t,r)=>oe(i=>(new Ng(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ng=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_g(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=to(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=to(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=to(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=to(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new bl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wl(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(_g(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),_g(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Rl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ro=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Ek(n,e,t){let r=n._root,i=e?e._root:null;return ua(r,i,t,[r.value])}function wk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ho(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!uf(n)?n:e.get(n):r}function ua(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=to(e);return n.children.forEach(s=>{Tk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ha(c,t.getContext(s),i)),i}function Tk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=bk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Rl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ua(n,e,c?c.children:null,r,i):ua(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ro(c.outlet.component,s))}else s&&ha(e,c,i),i.canActivateChecks.push(new Rl(r)),o.component?ua(n,null,c?c.children:null,r,i):ua(n,null,t,r,i);return i}function bk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Gr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gr(n.url,e.url)||!tn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ag(n,e)||!tn(n.queryParams,e.queryParams);case"paramsChange":default:return!Ag(n,e)}}function ha(n,e,t){let r=to(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ha(s,e.children.getContext(o),t):ha(s,null,t):ha(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ro(e.outlet.component,i)):t.canDeactivateChecks.push(new ro(null,i)):t.canDeactivateChecks.push(new ro(null,i))}function Sa(n){return typeof n=="function"}function Sk(n){return typeof n=="boolean"}function Ck(n){return n&&Sa(n.canLoad)}function Dk(n){return n&&Sa(n.canActivate)}function Ak(n){return n&&Sa(n.canActivateChild)}function Rk(n){return n&&Sa(n.canDeactivate)}function Nk(n){return n&&Sa(n.canMatch)}function vb(n){return n instanceof pn||n?.name==="EmptyError"}var ul=Symbol("INITIAL_VALUE");function co(){return pt(n=>Jc(n.map(e=>e.pipe(gn(1),Wh(ul)))).pipe(oe(e=>{for(let t of e)if(t!==!0){if(t===ul)return ul;if(t===!1||Pk(t))return t}return!0}),Dt(e=>e!==ul),gn(1)))}function Pk(n){return io(n)||n instanceof ao}function Mk(n,e){return ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q(ge(O({},t),{guardsResult:!0})):kk(s,r,i,n).pipe(ke(c=>c&&Sk(c)?xk(r,o,n,e):q(c)),oe(c=>ge(O({},t),{guardsResult:c})))})}function kk(n,e,t,r){return Re(n).pipe(ke(i=>jk(i.component,i.route,t,e,r)),mn(i=>i!==!0,!0))}function xk(n,e,t,r){return Re(e).pipe(xi(i=>ki(Lk(i.route.parent,r),Ok(i.route,r),Vk(n,i.path,t),Fk(n,i.route,t))),mn(i=>i!==!0,!0))}function Ok(n,e){return n!==null&&e&&e(new Tl(n)),q(!0)}function Lk(n,e){return n!==null&&e&&e(new El(n)),q(!0)}function Fk(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Is(()=>{let s=uo(e)??t,c=ho(o,s),u=Dk(c)?c.canActivate(e,n):Oe(s,()=>c(e,n));return Sn(u).pipe(mn())}));return q(i).pipe(co())}function Vk(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>wk(s)).filter(s=>s!==null).map(s=>Is(()=>{let c=s.guards.map(u=>{let l=uo(s.node)??t,f=ho(u,l),p=Ak(f)?f.canActivateChild(r,n):Oe(l,()=>f(r,n));return Sn(p).pipe(mn())});return q(c).pipe(co())}));return q(o).pipe(co())}function jk(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(c=>{let u=uo(e)??i,l=ho(c,u),f=Rk(l)?l.canDeactivate(n,e,t,r):Oe(u,()=>l(n,e,t,r));return Sn(f).pipe(mn())});return q(s).pipe(co())}function Uk(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let c=ho(s,n),u=Ck(c)?c.canLoad(e,t):Oe(n,()=>c(e,t));return Sn(u)});return q(o).pipe(co(),_b(r))}function _b(n){return Oh(je(e=>{if(typeof e!="boolean")throw Al(n,e)}),oe(e=>e===!0))}function $k(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let c=ho(s,n),u=Nk(c)?c.canMatch(e,t):Oe(n,()=>c(e,t));return Sn(u)});return q(o).pipe(co(),_b(r))}var Ia=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ea=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function eo(n){return Mi(new Ia(n))}function Bk(n){return Mi(new j(4e3,!1))}function Hk(n){return Mi(mb(!1,ct.GuardRejected))}var Pg=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[z])return Bk(`${e.redirectTo}`);i=i.children[z]}}applyRedirectCommands(e,t,r,i,o){return qk(t,i,o).pipe(oe(s=>{if(s instanceof rn)throw new Ea(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ea(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new rn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new de(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function qk(n,e,t){if(typeof n=="string")return q(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:f,title:p}=e;return Sn(Oe(t,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var Mg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zk(n,e,t,r,i){let o=Ib(n,e,t);return o.matched?(r=fk(e,r),$k(r,e,t,i).pipe(oe(s=>s===!0?o:O({},Mg)))):q(o)}function Ib(n,e,t){if(e.path==="**")return Wk(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},Mg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||QT)(t,n,e);if(!i)return O({},Mg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Wk(n){return{matched:!0,parameters:n.length>0?JT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function WT(n,e,t,r){return t.length>0&&Qk(n,t,r)?{segmentGroup:new de(e,Kk(r,new de(t,n.children))),slicedSegments:[]}:t.length===0&&Yk(n,t,r)?{segmentGroup:new de(n.segments,Gk(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new de(n.segments,n.children),slicedSegments:t}}function Gk(n,e,t,r){let i={};for(let o of t)if(Ml(n,e,o)&&!r[$t(o)]){let s=new de([],{});i[$t(o)]=s}return O(O({},r),i)}function Kk(n,e){let t={};t[z]=e;for(let r of n)if(r.path===""&&$t(r)!==z){let i=new de([],{});t[$t(r)]=i}return t}function Qk(n,e,t){return t.some(r=>Ml(n,e,r)&&$t(r)!==z)}function Yk(n,e,t){return t.some(r=>Ml(n,e,r))}function Ml(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Jk(n,e,t){return e.length===0&&!n.children[t]}var kg=class{};function Zk(n,e,t,r,i,o,s="emptyOnly"){return new xg(n,e,t,r,i,s,o).recognize()}var Xk=31,xg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Pg(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=WT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new bt(r,t),o=new va("",i),s=sb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Kr([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,z,t).pipe(oe(r=>({children:r,rootSnapshot:t})),qn(r=>{if(r instanceof Ea)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ia?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof bt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Re(o).pipe(xi(s=>{let c=r.children[s],u=pk(t,s);return this.processSegmentGroup(e,u,c,s,i)}),zh((s,c)=>(s.push(...c),s)),zn(null),qh(),ke(s=>{if(s===null)return eo(r);let c=Eb(s);return ex(c),q(c)}))}processSegment(e,t,r,i,o,s,c){return Re(t).pipe(xi(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(qn(l=>{if(l instanceof Ia)return q(null);throw l}))),mn(u=>!!u),qn(u=>{if(vb(u))return Jk(r,i,o)?q(new kg):eo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return $t(r)!==s&&(s===z||!Ml(i,o,r))?eo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):eo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=Ib(t,i,o);if(!u)return eo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Xk&&(this.allowRedirects=!1));let y=new Kr(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,GT(i),$t(i),i.component??i._loadedComponent??null,i,KT(i)),A=Dl(y,c,this.paramsInheritanceStrategy);return y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e).pipe(pt(R=>this.applyRedirects.lineralizeSegments(i,R)),ke(R=>this.processSegment(e,r,t,R.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=zk(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(pt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,A=new Kr(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,GT(r),$t(r),r.component??r._loadedComponent??null,r,KT(r)),N=Dl(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=WT(t,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(f,l,R,A).pipe(oe(Z=>new bt(A,Z)));if(l.length===0&&F.length===0)return q(new bt(A,[]));let H=$t(r)===o;return this.processSegment(f,l,R,F,H?z:o,!0,A).pipe(oe(Z=>new bt(A,Z instanceof bt?[Z]:[])))}))):eo(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):Uk(e,t,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,t).pipe(je(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Hk(t))):q({routes:[],injector:e})}};function ex(n){n.sort((e,t)=>e.value.outlet===z?-1:t.value.outlet===z?1:e.value.outlet.localeCompare(t.value.outlet))}function tx(n){let e=n.value.routeConfig;return e&&e.path===""}function Eb(n){let e=[],t=new Set;for(let r of n){if(!tx(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Eb(r.children);e.push(new bt(r.value,i))}return e.filter(r=>!t.has(r))}function GT(n){return n.data||{}}function KT(n){return n.resolve||{}}function nx(n,e,t,r,i,o){return ke(s=>Zk(n,e,t,r,s.extractedUrl,i,o).pipe(oe(({state:c,tree:u})=>ge(O({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function rx(n,e){return ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of wb(u))s.add(l);let c=0;return Re(s).pipe(xi(u=>o.has(u)?ix(u,r,n,e):(u.data=Dl(u,u.parent,n).resolve,q(void 0))),je(()=>c++),Oi(1),ke(u=>c===s.size?q(t):ht))})}function wb(n){let e=n.children.map(t=>wb(t)).flat();return[n,...e]}function ix(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!fb(i)&&(o[wa]=i.title),Is(()=>(n.data=Dl(n,n.parent,t).resolve,ox(o,n,e,r).pipe(oe(s=>(n._resolvedData=s,n.data=O(O({},n.data),s),null)))))}function ox(n,e,t,r){let i=wg(n);if(i.length===0)return q({});let o={};return Re(i).pipe(ke(s=>sx(n[s],e,t,r).pipe(mn(),je(c=>{if(c instanceof ao)throw Al(new Yr,c);o[s]=c}))),Oi(1),oe(()=>o),qn(s=>vb(s)?ht:Mi(s)))}function sx(n,e,t,r){let i=uo(e)??r,o=ho(n,i),s=o.resolve?o.resolve(e,t):Oe(i,()=>o(e,t));return Sn(s)}function Ig(n){return pt(e=>{let t=n(e);return t?Re(t).pipe(oe(()=>e)):q(e)})}var Vg=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(t){return t.data[wa]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>M(Tb),providedIn:"root"})}return n})(),Tb=(()=>{class n extends Vg{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(X($T))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ca=new U("",{providedIn:"root",factory:()=>({})}),Da=new U(""),bb=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Zp);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Sn(Oe(t,()=>r.loadComponent())).pipe(oe(Cb),pt(Db),je(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Es(()=>{this.componentLoaders.delete(r)})),o=new Ai(i,()=>new Ke).pipe(Di());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Sb(r,this.compiler,t,this.onLoadEndListener).pipe(Es(()=>{this.childrenLoaders.delete(r)})),s=new Ai(o,()=>new Ke).pipe(Di());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sb(n,e,t,r){return Sn(Oe(t,()=>n.loadChildren())).pipe(oe(Cb),pt(Db),ke(i=>i instanceof Yu||Array.isArray(i)?q(i):Re(e.compileModuleAsync(i))),oe(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(Da,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fg),injector:o}}))}function ax(n){return n&&typeof n=="object"&&"default"in n}function Cb(n){return ax(n)?n.default:n}function Db(n){return q(n)}var kl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>M(cx),providedIn:"root"})}return n})(),cx=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ab=new U("");var Rb=new U(""),Nb=(()=>{class n{currentNavigation=tr(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ke;transitionAbortWithErrorSubject=new Ke;configLoader=M(bb);environmentInjector=M(xe);destroyRef=M(er);urlSerializer=M(Ta);rootContexts=M(lo);location=M(Xi);inputBindingEnabled=M(Pl,{optional:!0})!==null;titleStrategy=M(Vg);options=M(Ca,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(kl);createViewTransition=M(Ab,{optional:!0});navigationErrorHandler=M(Rb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new _l(i)),r=i=>this.events.next(new Il(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ir(()=>{this.transitions?.next(ge(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new Qe(null),this.transitions.pipe(Dt(r=>r!==null),pt(r=>{let i=!1;return q(r).pipe(pt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ct.SupersededByNewNavigation),ht;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ge(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new bn(o.id,this.urlSerializer.serialize(o.rawUrl),"",pa.IgnoredSameUrlNavigation)),o.resolve(!1),ht;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return q(o).pipe(pt(u=>(this.events.next(new Jr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?ht:Promise.resolve(u))),nx(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),je(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let l=new ga(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:f,restoredState:p,extras:m}=o,y=new Jr(u,this.urlSerializer.serialize(l),f,p);this.events.next(y);let A=db(this.rootComponentType).snapshot;return this.currentTransition=r=ge(O({},o),{targetSnapshot:A,urlAfterRedirects:l,extras:ge(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(N=>(N.finalUrl=l,N)),q(r)}else return this.events.next(new bn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",pa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ht}),je(o=>{let s=new gl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),oe(o=>(this.currentTransition=r=ge(O({},o),{guards:Ek(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Mk(this.environmentInjector,o=>this.events.next(o)),je(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Al(this.urlSerializer,o.guardsResult);let s=new ml(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Dt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ct.GuardRejected),!1)),Ig(o=>{if(o.guards.canActivateChecks.length!==0)return q(o).pipe(je(s=>{let c=new yl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),pt(s=>{let c=!1;return q(s).pipe(rx(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",ct.NoDataFromResolver)}}))}),je(s=>{let c=new vl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),Ig(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let l=uo(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,c.routeConfig).pipe(je(f=>{c.component=f}),oe(()=>{})))}for(let l of c.children)u.push(...s(l));return u};return Jc(s(o.targetSnapshot.root)).pipe(zn(null),gn(1))}),Ig(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Re(c).pipe(oe(()=>r)):q(r)}),oe(o=>{let s=mk(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ge(O({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),je(()=>{this.events.next(new ma)}),Ik(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),gn(1),Xc(new ee(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(Dt(()=>!i&&!r.targetRouterState),je(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ct.Aborted)}))),je({next:o=>{i=!0,this.lastSuccessfulNavigation=ir(this.currentNavigation),this.events.next(new Tn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Xc(this.transitionAbortWithErrorSubject.pipe(je(o=>{throw o}))),Es(()=>{i||this.cancelNavigationTransition(r,"",ct.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),qn(o=>{if(this.destroyed)return r.resolve(!1),ht;if(i=!0,yb(o))this.events.next(new nn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),_k(o)?this.events.next(new so(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new oo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Oe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof ao){let{message:u,cancellationCode:l}=Al(this.urlSerializer,c);this.events.next(new nn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new so(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return ht}))}))}cancelNavigationTransition(t,r,i){let o=new nn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ir(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ux(n){return n!==da}var Pb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>M(lx),providedIn:"root"})}return n})(),Nl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},lx=(()=>{class n extends Nl{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ju(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mb=(()=>{class n{urlSerializer=M(Ta);options=M(Ca,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(Xi);urlHandlingStrategy=M(kl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new rn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof rn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=db(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>M(dx),providedIn:"root"})}return n})(),dx=(()=>{class n extends Mb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Jr?this.updateStateMemento():t instanceof bn?this.commitTransition(r):t instanceof ga?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ma?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof nn&&t.code!==ct.SupersededByNewNavigation&&t.code!==ct.Redirect?this.restoreHistory(r):t instanceof oo?this.restoreHistory(r,!0):t instanceof Tn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ju(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jg(n,e){n.events.pipe(Dt(t=>t instanceof Tn||t instanceof nn||t instanceof oo||t instanceof bn),oe(t=>t instanceof Tn||t instanceof bn?0:(t instanceof nn?t.code===ct.Redirect||t.code===ct.SupersededByNewNavigation:!1)?2:1),Dt(t=>t!==2),gn(1)).subscribe(()=>{e()})}var hx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xl=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(zp);stateManager=M(Mb);options=M(Ca,{optional:!0})||{};pendingTasks=M(Zt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(Nb);urlSerializer=M(Ta);location=M(Xi);urlHandlingStrategy=M(kl);injector=M(xe);_events=new Ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(Pb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Da,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(Pl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new be;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ir(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof nn&&r.code!==ct.Redirect&&r.code!==ct.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Tn)this.navigated=!0;else if(r instanceof so){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ux(i.source)},s);this.scheduleNavigation(c,da,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}hk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),da,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(wt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ir(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Fg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=ab(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return cb(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=io(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,da,null,r)}navigate(t,r={skipLocationChange:!1}){return px(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Ss(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},hx):r===!1?i=O({},fx):i=r,io(t))return BT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return BT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return jg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function px(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}var mx=new U("");function Ug(n,...e){return Ot([{provide:Da,multi:!0,useValue:n},[],{provide:ar,useFactory:yx,deps:[xl]},{provide:Ju,multi:!0,useFactory:vx},e.map(t=>t.\u0275providers)])}function yx(n){return n.routerState.root}function vx(){let n=M(tt);return e=>{let t=n.get(zr);if(e!==t.components[0])return;let r=n.get(xl),i=n.get(_x);n.get(Ix)===1&&r.initialNavigation(),n.get(Ex,null,{optional:!0})?.setUpPreloading(),n.get(mx,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _x=new U("",{factory:()=>new Ke}),Ix=new U("",{providedIn:"root",factory:()=>1});var Ex=new U("");var kb=()=>{};var Lb=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Tx=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ol={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[f],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Lb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Tx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Bg;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Bg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bx=function(n){let e=Lb(n);return Ol.encodeByteArray(e,!0)},Ra=function(n){return bx(n).replace(/\./g,"")},Ll=function(n){try{return Ol.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Sx=()=>qg().__FIREBASE_DEFAULTS__,Cx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Dx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Ll(n[1]);return e&&JSON.parse(e)},Fl=()=>{try{return kb()||Sx()||Cx()||Dx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Fb=n=>{var e,t;return(t=(e=Fl())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Vb=n=>{let e=Fb(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},zg=()=>{var n;return(n=Fl())===null||n===void 0?void 0:n.config},jb=n=>{var e;return(e=Fl())===null||e===void 0?void 0:e[`_${n}`]};var Zr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Xr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Wg(n){return C(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Ub(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ra(JSON.stringify(t)),Ra(JSON.stringify(s)),""].join(".")}var Aa={};function Ax(){let n={prod:[],emulator:[]};for(let e of Object.keys(Aa))Aa[e]?n.emulator.push(e):n.prod.push(e);return n}function Rx(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var xb=!1;function Gg(n,e){if(typeof window>"u"||typeof document>"u"||!Xr(window.location.host)||Aa[n]===e||Aa[n]||xb)return;Aa[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=Ax().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{xb=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=Rx(r),y=t("text"),A=document.getElementById(y)||document.createElement("span"),N=t("learnmore"),R=document.getElementById(N)||document.createElement("a"),F=t("preprendIcon"),H=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Z=m.element;c(Z),f(R,N);let me=l();u(H,F),Z.append(H,A,R,me),document.body.appendChild(Z)}o?(A.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function Nx(){var n;let e=(n=Fl())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hb(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zb(){return!Nx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Na(){try{return typeof indexedDB=="object"}catch{return!1}}function Wb(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Px="FirebaseError",Pt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Px,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}},Bt=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Mx(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Pt(i,c,r)}};function Mx(n,e){return n.replace(kx,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var kx=/\{\$([^}]+)}/g;function ei(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(Ob(o)&&Ob(s)){if(!ei(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Ob(n){return n!==null&&typeof n=="object"}function Kg(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gb(n,e){let t=new Hg(n,e);return t.subscribe.bind(t)}var Hg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xx(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=$g),i.error===void 0&&(i.error=$g),i.complete===void 0&&(i.complete=$g);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function xx(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $g(){}var dK=14400*1e3;function cr(n){return n&&n._delegate?n._delegate:n}var ut=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ti="[DEFAULT]";var Qg=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Zr;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lx(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ox(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ox(n){return n===ti?void 0:n}function Lx(n){return n.instantiationMode==="EAGER"}var Vl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Qg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Fx=[],ne=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ne||{}),Vx={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},jx=ne.INFO,Ux={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},$x=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Ux[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},on=class{constructor(e){this.name=e,this._logLevel=jx,this._logHandler=$x,this._userLogHandler=null,Fx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var Bx=(n,e)=>e.some(t=>n instanceof t),Kb,Qb;function Hx(){return Kb||(Kb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qx(){return Qb||(Qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Yb=new WeakMap,Jg=new WeakMap,Jb=new WeakMap,Yg=new WeakMap,Xg=new WeakMap;function zx(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(sn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Yb.set(t,n)}).catch(()=>{}),Xg.set(e,n),e}function Wx(n){if(Jg.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Jg.set(n,e)}var Zg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Jb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Zb(n){Zg=n(Zg)}function Gx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(jl(this),e,...t);return Jb.set(r,e.sort?e.sort():[e]),sn(r)}:qx().includes(n)?function(...e){return n.apply(jl(this),e),sn(Yb.get(this))}:function(...e){return sn(n.apply(jl(this),e))}}function Kx(n){return typeof n=="function"?Gx(n):(n instanceof IDBTransaction&&Wx(n),Bx(n,Hx())?new Proxy(n,Zg):n)}function sn(n){if(n instanceof IDBRequest)return zx(n);if(Yg.has(n))return Yg.get(n);let e=Kx(n);return e!==n&&(Yg.set(n,e),Xg.set(e,n)),e}var jl=n=>Xg.get(n);function eS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=sn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(sn(s.result),u.oldVersion,u.newVersion,sn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Qx=["get","getKey","getAll","getAllKeys","count"],Yx=["put","add","delete","clear"],em=new Map;function Xb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(em.get(e))return em.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Yx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Qx.includes(t)))return;let o=function(s,...c){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return em.set(e,o),o}Zb(n=>ge(O({},n),{get:(e,t,r)=>Xb(e,t)||n.get(e,t,r),has:(e,t)=>!!Xb(e,t)||n.has(e,t)}));var nm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Jx(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Jx(n){let e=n.getComponent();return e?.type==="VERSION"}var rm="@firebase/app",tS="0.13.2";var Cn=new on("@firebase/app"),Zx="@firebase/app-compat",Xx="@firebase/analytics-compat",eO="@firebase/analytics",tO="@firebase/app-check-compat",nO="@firebase/app-check",rO="@firebase/auth",iO="@firebase/auth-compat",oO="@firebase/database",sO="@firebase/data-connect",aO="@firebase/database-compat",cO="@firebase/functions",uO="@firebase/functions-compat",lO="@firebase/installations",dO="@firebase/installations-compat",hO="@firebase/messaging",fO="@firebase/messaging-compat",pO="@firebase/performance",gO="@firebase/performance-compat",mO="@firebase/remote-config",yO="@firebase/remote-config-compat",vO="@firebase/storage",_O="@firebase/storage-compat",IO="@firebase/firestore",EO="@firebase/ai",wO="@firebase/firestore-compat",TO="firebase",bO="11.10.0";var im="[DEFAULT]",SO={[rm]:"fire-core",[Zx]:"fire-core-compat",[eO]:"fire-analytics",[Xx]:"fire-analytics-compat",[nO]:"fire-app-check",[tO]:"fire-app-check-compat",[rO]:"fire-auth",[iO]:"fire-auth-compat",[oO]:"fire-rtdb",[sO]:"fire-data-connect",[aO]:"fire-rtdb-compat",[cO]:"fire-fn",[uO]:"fire-fn-compat",[lO]:"fire-iid",[dO]:"fire-iid-compat",[hO]:"fire-fcm",[fO]:"fire-fcm-compat",[pO]:"fire-perf",[gO]:"fire-perf-compat",[mO]:"fire-rc",[yO]:"fire-rc-compat",[vO]:"fire-gcs",[_O]:"fire-gcs-compat",[IO]:"fire-fst",[wO]:"fire-fst-compat",[EO]:"fire-vertex","fire-js":"fire-js",[TO]:"fire-js-all"};var Pa=new Map,CO=new Map,om=new Map;function nS(n,e){try{n.container.addComponent(e)}catch(t){Cn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ht(n){let e=n.name;if(om.has(e))return Cn.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,n);for(let t of Pa.values())nS(t,n);for(let t of CO.values())nS(t,n);return!0}function Ul(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dn(n){return n==null?!1:n.settings!==void 0}var DO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Bt("app","Firebase",DO);var sm=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}};var fo=bO;function um(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:im,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ur.create("bad-app-name",{appName:String(i)});if(t||(t=zg()),!t)throw ur.create("no-options");let o=Pa.get(i);if(o){if(ei(t,o.options)&&ei(r,o.config))return o;throw ur.create("duplicate-app",{appName:i})}let s=new Vl(i);for(let u of om.values())s.addComponent(u);let c=new sm(t,r,s);return Pa.set(i,c),c}function po(n=im){let e=Pa.get(n);if(!e&&n===im&&zg())return um();if(!e)throw ur.create("no-app",{appName:n});return e}function $l(){return Array.from(Pa.values())}function Ce(n,e,t){var r;let i=(r=SO[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cn.warn(c.join(" "));return}Ht(new ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var AO="firebase-heartbeat-database",RO=1,Ma="firebase-heartbeat-store",tm=null;function sS(){return tm||(tm=eS(AO,RO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ma)}catch(t){console.warn(t)}}}}).catch(n=>{throw ur.create("idb-open",{originalErrorMessage:n.message})})),tm}function NO(n){return C(this,null,function*(){try{let t=(yield sS()).transaction(Ma),r=yield t.objectStore(Ma).get(aS(n));return yield t.done,r}catch(e){if(e instanceof Pt)Cn.warn(e.message);else{let t=ur.create("idb-get",{originalErrorMessage:e?.message});Cn.warn(t.message)}}})}function rS(n,e){return C(this,null,function*(){try{let r=(yield sS()).transaction(Ma,"readwrite");yield r.objectStore(Ma).put(e,aS(n)),yield r.done}catch(t){if(t instanceof Pt)Cn.warn(t.message);else{let r=ur.create("idb-set",{originalErrorMessage:t?.message});Cn.warn(r.message)}}})}function aS(n){return`${n.name}!${n.options.appId}`}var PO=1024,MO=30,am=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new cm(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>MO){let s=xO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cn.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=iS(),{heartbeatsToSend:r,unsentEntries:i}=kO(this._heartbeatsCache.heartbeats),o=Ra(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Cn.warn(t),""}})}};function iS(){return new Date().toISOString().substring(0,10)}function kO(n,e=PO){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),oS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),oS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var cm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Na()?Wb().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield NO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function oS(n){return Ra(JSON.stringify({version:2,heartbeats:n})).length}function xO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function OO(n){Ht(new ut("platform-logger",e=>new nm(e),"PRIVATE")),Ht(new ut("heartbeat",e=>new am(e),"PRIVATE")),Ce(rm,tS,n),Ce(rm,tS,"esm2017"),Ce("fire-js","")}OO("");var LO="firebase",FO="11.10.0";Ce(LO,FO,"app");function cS(n){n===void 0&&(n=M(tt));let e=n.get(Wi);return t=>new ee(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var ri=new Fi("ANGULARFIRE2_VERSION");function Hl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var mo=(n,e)=>{let t=e?[e]:$l(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},go=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(go||{}),uS=ig()&&typeof Zone<"u"?go.WARN:go.SILENT;var Bl=class{zone;delegate;constructor(e,t=$h){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ii=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(_e);this.outsideAngular=t.runOutsideAngular(()=>new Bl(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Bl(typeof Zone>"u"?void 0:Zone.current,Uh))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lS=!1;function VO(n,e){!lS&&(uS>go.SILENT||ig())&&(lS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),uS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function jO(n){let e=M(_e,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ni(n){let e=M(_e,{optional:!0});return e?e.run(()=>n()):n()}var UO=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Oe(t,()=>ni(()=>n.apply(void 0,r)))),lr=(n,e,t)=>(t||=e?go.WARN:go.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=M(ii),s=M(Wi),c=M(xe)}catch{return VO(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ni(()=>s.add())),i[l]=UO(i[l],r,c));let u=jO(()=>n.apply(this,i));return e?u instanceof ee?u.pipe(Hn(o.outsideAngular),Bn(o.insideAngular),cS(c)):u instanceof Promise?ni(()=>{let l=s.add();return new Promise((f,p)=>{u.then(m=>Oe(c,()=>ni(()=>f(m))),m=>Oe(c,()=>ni(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ni(()=>u):u instanceof ee?u.pipe(Hn(o.outsideAngular),Bn(o.insideAngular)):ni(()=>u)});var oi=class{constructor(e){return e}},ka=class{constructor(){return $l()}};function $O(n){return n&&n.length===1?n[0]:new oi(po())}var lm=new U("angularfire2._apps"),BO={provide:oi,useFactory:$O,deps:[[new En,lm]]},HO={provide:ka,deps:[[new En,lm]]};function qO(n){return(e,t)=>{let r=t.get(nr);Ce("angularfire",ri.full,"core"),Ce("angularfire",ri.full,"app"),Ce("angular",sf.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new oi(i)}}function dS(n,...e){return Ot([BO,HO,{provide:lm,useFactory:qO(n),multi:!0,deps:[_e,tt,ii,...e]}])}var hS=lr(um,!0);var zO=new Map,WO={activated:!1,tokenObservers:[]},GO={initialized:!1,enabled:!1};function qt(n){return zO.get(n)||Object.assign({},WO)}function mS(){return GO}var KO="https://content-firebaseappcheck.googleapis.com/v1";var QO="exchangeDebugToken",fS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},pQ=1440*60*1e3;var fm=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new Zr,this.pending.promise.catch(t=>{}),yield YO(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Zr,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function YO(n){return new Promise(e=>{setTimeout(e,n)})}var JO={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},dr=new Bt("appCheck","AppCheck",JO);function yS(n){if(!qt(n).activated)throw dr.create("use-before-activation",{appName:n.name})}function vS(r,i){return C(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(y){throw dr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw dr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw dr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw dr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function _S(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${KO}/projects/${t}/apps/${r}:${QO}?key=${i}`,body:{debug_token:e}}}var ZO="firebase-app-check-database",XO=1,pm="firebase-app-check-store";var ql=null;function e1(){return ql||(ql=new Promise((n,e)=>{try{let t=indexedDB.open(ZO,XO);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(dr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(pm,{keyPath:"compositeKey"})}}}catch(t){e(dr.create("storage-open",{originalErrorMessage:t?.message}))}}),ql)}function t1(n,e){return n1(r1(n),e)}function n1(n,e){return C(this,null,function*(){let r=(yield e1()).transaction(pm,"readwrite"),o=r.objectStore(pm).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(dr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function r1(n){return`${n.options.appId}-${n.name}`}var xa=new on("@firebase/app-check");function dm(n,e){return Na()?t1(n,e).catch(t=>{xa.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function IS(){return mS().enabled}function ES(){return C(this,null,function*(){let n=mS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var i1={error:"UNKNOWN_ERROR"};function o1(n){return Ol.encodeString(JSON.stringify(n),!1)}function gm(n,e=!1,t=!1){return C(this,null,function*(){let r=n.app;yS(r);let i=qt(r),o=i.token,s;if(o&&!Oa(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Oa(l)?o=l:yield dm(r,void 0))}if(!e&&o&&Oa(o))return{token:o.token};let c=!1;if(IS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=vS(_S(r,yield ES()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield dm(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?xa.warn(l.message):t&&xa.error(l),hm(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield qt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?xa.warn(l.message):t&&xa.error(l),s=l}let u;return o?s?Oa(o)?u={token:o.token,internalError:s}:u=hm(s):(u={token:o.token},i.token=o,yield dm(r,o)):u=hm(s),c&&u1(r,u),u})}function s1(n){return C(this,null,function*(){let e=n.app;yS(e);let{provider:t}=qt(e);if(IS()){let r=yield ES(),{token:i}=yield vS(_S(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function a1(n,e,t,r){let{app:i}=n,o=qt(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Oa(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),pS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>pS(n))}function wS(n,e){let t=qt(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function pS(n){let{app:e}=n,t=qt(e),r=t.tokenRefresher;r||(r=c1(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function c1(n){let{app:e}=n;return new fm(()=>C(null,null,function*(){let t=qt(e),r;if(t.token?r=yield gm(n,!0):r=yield gm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=qt(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},fS.RETRIAL_MIN_WAIT,fS.RETRIAL_MAX_WAIT)}function u1(n,e){let t=qt(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Oa(n){return n.expireTimeMillis-Date.now()>0}function hm(n){return{token:o1(i1),error:n}}var mm=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=qt(this.app);for(let t of e)wS(this.app,t.next);return Promise.resolve()}};function l1(n,e){return new mm(n,e)}function d1(n){return{getToken:e=>gm(n,e),getLimitedUseToken:()=>s1(n),addTokenListener:e=>a1(n,"INTERNAL",e),removeTokenListener:e=>wS(n.app,e)}}var h1="@firebase/app-check",f1="0.10.1";var p1="app-check",gS="app-check-internal";function g1(){Ht(new ut(p1,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return l1(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gS).initialize()})),Ht(new ut(gS,n=>{let e=n.getProvider("app-check").getImmediate();return d1(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ce(h1,f1)}g1();var m1="app-check";var zl=class{constructor(){return mo(m1)}};var y1=["localhost","0.0.0.0","127.0.0.1"],DQ=typeof window<"u"&&y1.includes(window.location.hostname);function NS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var PS=NS,MS=new Bt("auth","Firebase",NS());var Ql=new on("@firebase/auth");function _1(n,...e){Ql.logLevel<=ne.WARN&&Ql.warn(`Auth (${fo}): ${n}`,...e)}function Gl(n,...e){Ql.logLevel<=ne.ERROR&&Ql.error(`Auth (${fo}): ${n}`,...e)}function TS(n,...e){throw Am(n,...e)}function Dm(n,...e){return Am(n,...e)}function kS(n,e,t){let r=Object.assign(Object.assign({},PS()),{[e]:t});return new Bt("auth","Firebase",r).create(e,{appName:n.name})}function Kl(n){return kS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return MS.create(n,...e)}function he(n,e,...t){if(!n)throw Am(e,...t)}function La(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Gl(e),new Error(e)}function Yl(n,e){n||La(e)}function I1(){return bS()==="http:"||bS()==="https:"}function bS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function E1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I1()||Hb()||"connection"in navigator)?navigator.onLine:!0}function w1(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ci=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yl(t>e,"Short delay should be less than long delay!"),this.isMobile=$b()||qb()}get(){return E1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function T1(n,e){Yl(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Jl=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;La("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;La("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;La("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var b1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var S1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C1=new ci(3e4,6e4);function xS(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function nd(o,s,c,u){return C(this,arguments,function*(n,e,t,r,i={}){return OS(n,i,()=>C(null,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Kg(Object.assign({key:n.config.apiKey},f)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return Bb()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Xr(n.emulatorConfig.host)&&(y.credentials="include"),Jl.fetch()(yield LS(n,n.config.apiHost,t,p),y)}))})}function OS(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},b1),e);try{let i=new _m(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wl(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wl(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wl(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wl(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw kS(n,f,l);TS(n,f)}}catch(i){if(i instanceof Pt)throw i;TS(n,"network-request-failed",{message:String(i)})}})}function LS(n,e,t,r){return C(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?T1(n.config,i):`${n.config.apiScheme}://${i}`;return S1.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var _m=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Dm(this.auth,"network-request-failed")),C1.get())})}};function Wl(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Dm(n,e,r);return i.customData._tokenResponse=t,i}function D1(n,e){return C(this,null,function*(){return nd(n,"POST","/v1/accounts:delete",e)})}function Zl(n,e){return C(this,null,function*(){return nd(n,"POST","/v1/accounts:lookup",e)})}function Fa(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Rm(n,e=!1){return C(this,null,function*(){let t=cr(n),r=yield t.getIdToken(e),i=FS(r);he(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Fa(ym(i.auth_time)),issuedAtTime:Fa(ym(i.iat)),expirationTime:Fa(ym(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ym(n){return Number(n)*1e3}function FS(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ll(t);return i?JSON.parse(i):(Gl("Failed to decode base64 JWT payload"),null)}catch(i){return Gl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SS(n){let e=FS(n);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Im(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Pt&&A1(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function A1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Em=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ja=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xl(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Im(n,Zl(t,{idToken:r}));he(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?VS(o.providerUserInfo):[],c=R1(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ja(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function Nm(n){return C(this,null,function*(){let e=cr(n);yield Xl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function R1(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VS(n){return n.map(e=>{var{providerId:t}=e,r=Bh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function N1(n,e){return C(this,null,function*(){let t=yield OS(n,{},()=>C(null,null,function*(){let r=Kg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield LS(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Xr(n.emulatorConfig.host)&&(u.credentials="include"),Jl.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function P1(n,e){return C(this,null,function*(){return nd(n,"POST","/v2/accounts:revokeToken",xS(n,e))})}var Va=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){he(e.length!==0,"internal-error");let t=SS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield N1(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return La("not implemented")}};function hr(n,e){he(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var si=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Bh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Em(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ja(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield Im(this,this.stsTokenManager.getToken(this.auth,e));return he(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Rm(this,e)}reload(){return Nm(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Xl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Dn(this.auth.app))return Promise.reject(Kl(this.auth));let e=yield this.getIdToken();return yield Im(this,D1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,H=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:me,isAnonymous:it,providerData:pe,stsTokenManager:w}=t;he(Z&&w,e,"internal-error");let v=Va.fromJSON(this.name,w);he(typeof Z=="string",e,"internal-error"),hr(p,e.name),hr(m,e.name),he(typeof me=="boolean",e,"internal-error"),he(typeof it=="boolean",e,"internal-error"),hr(y,e.name),hr(A,e.name),hr(N,e.name),hr(R,e.name),hr(F,e.name),hr(H,e.name);let I=new n({uid:Z,auth:e,email:m,emailVerified:me,displayName:p,isAnonymous:it,photoURL:A,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:F,lastLoginAt:H});return pe&&Array.isArray(pe)&&(I.providerData=pe.map(E=>Object.assign({},E))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new Va;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xl(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];he(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?VS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Va;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ja(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var CS=new Map;function ai(n){Yl(n instanceof Function,"Expected a class definition");let e=CS.get(n);return e?(Yl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,CS.set(n,e),e)}var M1=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),wm=M1;function vm(n,e,t){return`firebase:${n}:${e}:${t}`}var ed=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=vm(this.userKey,i.apiKey,o),this.fullPersistenceKey=vm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Zl(this.auth,{idToken:e}).catch(()=>{});return t?si._fromGetAccountInfoResponse(this.auth,t,e):null}return si._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(ai(wm),e,r);let i=(yield Promise.all(t.map(l=>C(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ai(wm),s=vm(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(s);if(f){let p;if(typeof f=="string"){let m=yield Zl(e,{idToken:f}).catch(()=>{});if(!m)break;p=yield si._fromGetAccountInfoResponse(e,m,f)}else p=si._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>C(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function DS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V1(e))return"Blackberry";if(j1(e))return"Webos";if(x1(e))return"Safari";if((e.includes("chrome/")||O1(e))&&!e.includes("edge/"))return"Chrome";if(F1(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function k1(n=Ct()){return/firefox\//i.test(n)}function x1(n=Ct()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O1(n=Ct()){return/crios\//i.test(n)}function L1(n=Ct()){return/iemobile/i.test(n)}function F1(n=Ct()){return/android/i.test(n)}function V1(n=Ct()){return/blackberry/i.test(n)}function j1(n=Ct()){return/webos/i.test(n)}function jS(n,e=[]){let t;switch(n){case"Browser":t=DS(Ct());break;case"Worker":t=`${DS(Ct())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fo}/${r}`}var Tm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function U1(t){return C(this,arguments,function*(n,e={}){return nd(n,"GET","/v2/passwordPolicy",xS(n,e))})}var $1=6,bm=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:$1,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Sm=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new td(this),this.idTokenSubscription=new td(this),this.beforeStateQueue=new Tm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ai(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ed.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield Zl(this,{idToken:e}),r=yield si._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(Dn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Xl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=w1()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Dn(this.app))return Promise.reject(Kl(this));let t=e?cr(e):null;return t&&he(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Dn(this.app)?Promise.reject(Kl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Dn(this.app)?Promise.reject(Kl(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(ai(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield U1(this),t=new bm(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield P1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ai(e)||this._popupRedirectResolver;he(t,this,"argument-error"),this.redirectPersistenceManager=yield ed.create(this,[ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&_1(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function B1(n){return cr(n)}var td=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gb(t=>this.observer=t)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var H1={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q1(n){H1=n}function z1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function W1(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var jQ=z1("rcb"),UQ=new ci(3e4,6e4);var $Q=new ci(2e3,1e4);var BQ=600*1e3;var HQ=new ci(3e4,6e4);var qQ=new ci(5e3,15e3);var zQ=encodeURIComponent("fac");var AS="@firebase/auth",RS="1.10.8";var Cm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function G1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K1(n){Ht(new ut("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jS(n)},l=new Sm(r,i,o,u);return W1(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ht(new ut("auth-internal",e=>{let t=B1(e.getProvider("auth").getImmediate());return(r=>new Cm(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(AS,RS,G1(n)),Ce(AS,RS,"esm2017")}var Q1=300,WQ=jb("authIdTokenMaxAge")||Q1;function Y1(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}q1({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Dm("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Y1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K1("Browser");var KL="auth";var rd=class{constructor(){return mo(KL)}};var US=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$S={};var An,Pm;(function(){var n;function e(w,v){function I(){}I.prototype=v.prototype,w.D=v.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(E,T,S){for(var _=Array(arguments.length-2),dn=2;dn<arguments.length;dn++)_[dn-2]=arguments[dn];return v.prototype[T].apply(E,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,I){I||(I=0);var E=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)E[T]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(T=0;16>T;++T)E[T]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=w.g[0],I=w.g[1],T=w.g[2];var S=w.g[3],_=v+(S^I&(T^S))+E[0]+3614090360&4294967295;v=I+(_<<7&4294967295|_>>>25),_=S+(T^v&(I^T))+E[1]+3905402710&4294967295,S=v+(_<<12&4294967295|_>>>20),_=T+(I^S&(v^I))+E[2]+606105819&4294967295,T=S+(_<<17&4294967295|_>>>15),_=I+(v^T&(S^v))+E[3]+3250441966&4294967295,I=T+(_<<22&4294967295|_>>>10),_=v+(S^I&(T^S))+E[4]+4118548399&4294967295,v=I+(_<<7&4294967295|_>>>25),_=S+(T^v&(I^T))+E[5]+1200080426&4294967295,S=v+(_<<12&4294967295|_>>>20),_=T+(I^S&(v^I))+E[6]+2821735955&4294967295,T=S+(_<<17&4294967295|_>>>15),_=I+(v^T&(S^v))+E[7]+4249261313&4294967295,I=T+(_<<22&4294967295|_>>>10),_=v+(S^I&(T^S))+E[8]+1770035416&4294967295,v=I+(_<<7&4294967295|_>>>25),_=S+(T^v&(I^T))+E[9]+2336552879&4294967295,S=v+(_<<12&4294967295|_>>>20),_=T+(I^S&(v^I))+E[10]+4294925233&4294967295,T=S+(_<<17&4294967295|_>>>15),_=I+(v^T&(S^v))+E[11]+2304563134&4294967295,I=T+(_<<22&4294967295|_>>>10),_=v+(S^I&(T^S))+E[12]+1804603682&4294967295,v=I+(_<<7&4294967295|_>>>25),_=S+(T^v&(I^T))+E[13]+4254626195&4294967295,S=v+(_<<12&4294967295|_>>>20),_=T+(I^S&(v^I))+E[14]+2792965006&4294967295,T=S+(_<<17&4294967295|_>>>15),_=I+(v^T&(S^v))+E[15]+1236535329&4294967295,I=T+(_<<22&4294967295|_>>>10),_=v+(T^S&(I^T))+E[1]+4129170786&4294967295,v=I+(_<<5&4294967295|_>>>27),_=S+(I^T&(v^I))+E[6]+3225465664&4294967295,S=v+(_<<9&4294967295|_>>>23),_=T+(v^I&(S^v))+E[11]+643717713&4294967295,T=S+(_<<14&4294967295|_>>>18),_=I+(S^v&(T^S))+E[0]+3921069994&4294967295,I=T+(_<<20&4294967295|_>>>12),_=v+(T^S&(I^T))+E[5]+3593408605&4294967295,v=I+(_<<5&4294967295|_>>>27),_=S+(I^T&(v^I))+E[10]+38016083&4294967295,S=v+(_<<9&4294967295|_>>>23),_=T+(v^I&(S^v))+E[15]+3634488961&4294967295,T=S+(_<<14&4294967295|_>>>18),_=I+(S^v&(T^S))+E[4]+3889429448&4294967295,I=T+(_<<20&4294967295|_>>>12),_=v+(T^S&(I^T))+E[9]+568446438&4294967295,v=I+(_<<5&4294967295|_>>>27),_=S+(I^T&(v^I))+E[14]+3275163606&4294967295,S=v+(_<<9&4294967295|_>>>23),_=T+(v^I&(S^v))+E[3]+4107603335&4294967295,T=S+(_<<14&4294967295|_>>>18),_=I+(S^v&(T^S))+E[8]+1163531501&4294967295,I=T+(_<<20&4294967295|_>>>12),_=v+(T^S&(I^T))+E[13]+2850285829&4294967295,v=I+(_<<5&4294967295|_>>>27),_=S+(I^T&(v^I))+E[2]+4243563512&4294967295,S=v+(_<<9&4294967295|_>>>23),_=T+(v^I&(S^v))+E[7]+1735328473&4294967295,T=S+(_<<14&4294967295|_>>>18),_=I+(S^v&(T^S))+E[12]+2368359562&4294967295,I=T+(_<<20&4294967295|_>>>12),_=v+(I^T^S)+E[5]+4294588738&4294967295,v=I+(_<<4&4294967295|_>>>28),_=S+(v^I^T)+E[8]+2272392833&4294967295,S=v+(_<<11&4294967295|_>>>21),_=T+(S^v^I)+E[11]+1839030562&4294967295,T=S+(_<<16&4294967295|_>>>16),_=I+(T^S^v)+E[14]+4259657740&4294967295,I=T+(_<<23&4294967295|_>>>9),_=v+(I^T^S)+E[1]+2763975236&4294967295,v=I+(_<<4&4294967295|_>>>28),_=S+(v^I^T)+E[4]+1272893353&4294967295,S=v+(_<<11&4294967295|_>>>21),_=T+(S^v^I)+E[7]+4139469664&4294967295,T=S+(_<<16&4294967295|_>>>16),_=I+(T^S^v)+E[10]+3200236656&4294967295,I=T+(_<<23&4294967295|_>>>9),_=v+(I^T^S)+E[13]+681279174&4294967295,v=I+(_<<4&4294967295|_>>>28),_=S+(v^I^T)+E[0]+3936430074&4294967295,S=v+(_<<11&4294967295|_>>>21),_=T+(S^v^I)+E[3]+3572445317&4294967295,T=S+(_<<16&4294967295|_>>>16),_=I+(T^S^v)+E[6]+76029189&4294967295,I=T+(_<<23&4294967295|_>>>9),_=v+(I^T^S)+E[9]+3654602809&4294967295,v=I+(_<<4&4294967295|_>>>28),_=S+(v^I^T)+E[12]+3873151461&4294967295,S=v+(_<<11&4294967295|_>>>21),_=T+(S^v^I)+E[15]+530742520&4294967295,T=S+(_<<16&4294967295|_>>>16),_=I+(T^S^v)+E[2]+3299628645&4294967295,I=T+(_<<23&4294967295|_>>>9),_=v+(T^(I|~S))+E[0]+4096336452&4294967295,v=I+(_<<6&4294967295|_>>>26),_=S+(I^(v|~T))+E[7]+1126891415&4294967295,S=v+(_<<10&4294967295|_>>>22),_=T+(v^(S|~I))+E[14]+2878612391&4294967295,T=S+(_<<15&4294967295|_>>>17),_=I+(S^(T|~v))+E[5]+4237533241&4294967295,I=T+(_<<21&4294967295|_>>>11),_=v+(T^(I|~S))+E[12]+1700485571&4294967295,v=I+(_<<6&4294967295|_>>>26),_=S+(I^(v|~T))+E[3]+2399980690&4294967295,S=v+(_<<10&4294967295|_>>>22),_=T+(v^(S|~I))+E[10]+4293915773&4294967295,T=S+(_<<15&4294967295|_>>>17),_=I+(S^(T|~v))+E[1]+2240044497&4294967295,I=T+(_<<21&4294967295|_>>>11),_=v+(T^(I|~S))+E[8]+1873313359&4294967295,v=I+(_<<6&4294967295|_>>>26),_=S+(I^(v|~T))+E[15]+4264355552&4294967295,S=v+(_<<10&4294967295|_>>>22),_=T+(v^(S|~I))+E[6]+2734768916&4294967295,T=S+(_<<15&4294967295|_>>>17),_=I+(S^(T|~v))+E[13]+1309151649&4294967295,I=T+(_<<21&4294967295|_>>>11),_=v+(T^(I|~S))+E[4]+4149444226&4294967295,v=I+(_<<6&4294967295|_>>>26),_=S+(I^(v|~T))+E[11]+3174756917&4294967295,S=v+(_<<10&4294967295|_>>>22),_=T+(v^(S|~I))+E[2]+718787259&4294967295,T=S+(_<<15&4294967295|_>>>17),_=I+(S^(T|~v))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+S&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var I=v-this.blockSize,E=this.B,T=this.h,S=0;S<v;){if(T==0)for(;S<=I;)i(this,w,S),S+=this.blockSize;if(typeof w=="string"){for(;S<v;)if(E[T++]=w.charCodeAt(S++),T==this.blockSize){i(this,E),T=0;break}}else for(;S<v;)if(E[T++]=w[S++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var I=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=I&255,I/=256;for(this.u(w),w=Array(16),v=I=0;4>v;++v)for(var E=0;32>E;E+=8)w[I++]=this.g[v]>>>E&255;return w};function o(w,v){var I=c;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=v(w)}function s(w,v){this.h=v;for(var I=[],E=!0,T=w.length-1;0<=T;T--){var S=w[T]|0;E&&S==v||(I[T]=S,E=!1)}this.g=I}var c={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],I=1,E=0;w>=I;E++)v[E]=w/I|0,I*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(f(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),E=p,T=0;T<w.length;T+=8){var S=Math.min(8,w.length-T),_=parseInt(w.substring(T,T+S),v);8>S?(S=l(Math.pow(v,S)),E=E.j(S).add(l(_))):(E=E.j(I),E=E.add(l(_)))}return E}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-R(this).m();for(var w=0,v=1,I=0;I<this.g.length;I++){var E=this.i(I);w+=(0<=E?E:4294967296+E)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(N(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),I=this,E="";;){var T=me(I,v).g;I=F(I,T.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=T,A(I))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function N(w){return w.h==-1}n.l=function(w){return w=F(this,w),N(w)?-1:A(w)?0:1};function R(w){for(var v=w.g.length,I=[],E=0;E<v;E++)I[E]=~w.g[E];return new s(I,~w.h).add(m)}n.abs=function(){return N(this)?R(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0,T=0;T<=v;T++){var S=E+(this.i(T)&65535)+(w.i(T)&65535),_=(S>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);E=_>>>16,S&=65535,_&=65535,I[T]=_<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(R(v))}n.j=function(w){if(A(this)||A(w))return p;if(N(this))return N(w)?R(this).j(R(w)):R(R(this).j(w));if(N(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,I=[],E=0;E<2*v;E++)I[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<w.g.length;T++){var S=this.i(E)>>>16,_=this.i(E)&65535,dn=w.i(T)>>>16,Ko=w.i(T)&65535;I[2*E+2*T]+=_*Ko,H(I,2*E+2*T),I[2*E+2*T+1]+=S*Ko,H(I,2*E+2*T+1),I[2*E+2*T+1]+=_*dn,H(I,2*E+2*T+1),I[2*E+2*T+2]+=S*dn,H(I,2*E+2*T+2)}for(E=0;E<v;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=v;E<2*v;E++)I[E]=0;return new s(I,0)};function H(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Z(w,v){this.g=w,this.h=v}function me(w,v){if(A(v))throw Error("division by zero");if(A(w))return new Z(p,p);if(N(w))return v=me(R(w),v),new Z(R(v.g),R(v.h));if(N(v))return v=me(w,R(v)),new Z(R(v.g),v.h);if(30<w.g.length){if(N(w)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,E=v;0>=E.l(w);)I=it(I),E=it(E);var T=pe(I,1),S=pe(E,1);for(E=pe(E,2),I=pe(I,2);!A(E);){var _=S.add(E);0>=_.l(w)&&(T=T.add(I),S=_),E=pe(E,1),I=pe(I,1)}return v=F(w,T.j(v)),new Z(T,v)}for(T=p;0<=w.l(v);){for(I=Math.max(1,Math.floor(w.m()/v.m())),E=Math.ceil(Math.log(I)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(I),_=S.j(v);N(_)||0<_.l(w);)I-=E,S=l(I),_=S.j(v);A(S)&&(S=m),T=T.add(S),w=F(w,_)}return new Z(T,w)}n.A=function(w){return me(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)&w.i(E);return new s(I,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)|w.i(E);return new s(I,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)^w.i(E);return new s(I,this.h^w.h)};function it(w){for(var v=w.g.length+1,I=[],E=0;E<v;E++)I[E]=w.i(E)<<1|w.i(E-1)>>>31;return new s(I,w.h)}function pe(w,v){var I=v>>5;v%=32;for(var E=w.g.length-I,T=[],S=0;S<E;S++)T[S]=0<v?w.i(S+I)>>>v|w.i(S+I+1)<<32-v:w.i(S+I);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pm=$S.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,An=$S.Integer=s}).apply(typeof US<"u"?US:typeof self<"u"?self:typeof window<"u"?window:{});var id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rn={};var Mm,QL,yo,km,Ua,od,xm,Om,Lm;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof id=="object"&&id];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in h))break e;h=h[b]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,b={next:function(){if(!g&&h<a.length){var D=h++;return{value:d(D,a[D]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,b,D){for(var x=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)x[ye-2]=arguments[ye];return d.prototype[b].apply(g,x)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=a.length||0,D=g.length||0;a.length=b+D;for(let x=0;x<D;x++)a[b+x]=g[x]}else a.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function me(a){return me[" "](a),a}me[" "]=function(){};var it=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function pe(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function w(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function v(a){let d={};for(let h in a)d[h]=a[h];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)a[h]=g[h];for(let D=0;D<I.length;D++)h=I[D],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function S(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Kd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class dn{constructor(){this.h=this.g=null}add(d,h){let g=Ko.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Ko=new F(()=>new eA,a=>a.reset());class eA{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Qo,Yo=!1,Kd=new dn,xv=()=>{let a=c.Promise.resolve(void 0);Qo=()=>{a.then(tA)}};var tA=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){S(h)}var d=Ko;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Yo=!1};function Fn(){this.s=this.s,this.C=this.C}Fn.prototype.s=!1,Fn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Fn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var nA=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a})();function Jo(a,d){if(Ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(it){e:{try{me(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:rA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Jo.aa.h.call(this)}}A(Jo,Ye);var rA={2:"touch",3:"pen",4:"mouse"};Jo.prototype.h=function(){Jo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Zo="closure_listenable_"+(1e6*Math.random()|0),iA=0;function oA(a,d,h,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++iA,this.da=this.fa=!1}function lc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function dc(a){this.src=a,this.g={},this.h=0}dc.prototype.add=function(a,d,h,g,b){var D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);var x=Yd(a,d,g,b);return-1<x?(d=a[x],h||(d.fa=!1)):(d=new oA(d,this.src,D,!!g,b),d.fa=h,a.push(d)),d};function Qd(a,d){var h=d.type;if(h in a.g){var g=a.g[h],b=Array.prototype.indexOf.call(g,d,void 0),D;(D=0<=b)&&Array.prototype.splice.call(g,b,1),D&&(lc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Yd(a,d,h,g){for(var b=0;b<a.length;++b){var D=a[b];if(!D.da&&D.listener==d&&D.capture==!!h&&D.ha==g)return b}return-1}var Jd="closure_lm_"+(1e6*Math.random()|0),Zd={};function Ov(a,d,h,g,b){if(g&&g.once)return Fv(a,d,h,g,b);if(Array.isArray(d)){for(var D=0;D<d.length;D++)Ov(a,d[D],h,g,b);return null}return h=nh(h),a&&a[Zo]?a.K(d,h,l(g)?!!g.capture:!!g,b):Lv(a,d,h,!1,g,b)}function Lv(a,d,h,g,b,D){if(!d)throw Error("Invalid event type");var x=l(b)?!!b.capture:!!b,ye=eh(a);if(ye||(a[Jd]=ye=new dc(a)),h=ye.add(d,h,g,x,D),h.proxy)return h;if(g=sA(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)nA||(b=x),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(jv(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function sA(){function a(h){return d.call(a.src,a.listener,h)}let d=aA;return a}function Fv(a,d,h,g,b){if(Array.isArray(d)){for(var D=0;D<d.length;D++)Fv(a,d[D],h,g,b);return null}return h=nh(h),a&&a[Zo]?a.L(d,h,l(g)?!!g.capture:!!g,b):Lv(a,d,h,!0,g,b)}function Vv(a,d,h,g,b){if(Array.isArray(d))for(var D=0;D<d.length;D++)Vv(a,d[D],h,g,b);else g=l(g)?!!g.capture:!!g,h=nh(h),a&&a[Zo]?(a=a.i,d=String(d).toString(),d in a.g&&(D=a.g[d],h=Yd(D,h,g,b),-1<h&&(lc(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete a.g[d],a.h--)))):a&&(a=eh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Yd(d,h,g,b)),(h=-1<a?d[a]:null)&&Xd(h))}function Xd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Zo])Qd(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(jv(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=eh(d))?(Qd(h,a),h.h==0&&(h.src=null,d[Jd]=null)):lc(a)}}}function jv(a){return a in Zd?Zd[a]:Zd[a]="on"+a}function aA(a,d){if(a.da)a=!0;else{d=new Jo(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Xd(a),a=h.call(g,d)}return a}function eh(a){return a=a[Jd],a instanceof dc?a:null}var th="__closure_events_fn_"+(1e9*Math.random()>>>0);function nh(a){return typeof a=="function"?a:(a[th]||(a[th]=function(d){return a.handleEvent(d)}),a[th])}function Je(){Fn.call(this),this.i=new dc(this),this.M=this,this.F=null}A(Je,Fn),Je.prototype[Zo]=!0,Je.prototype.removeEventListener=function(a,d,h,g){Vv(this,a,d,h,g)};function ot(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ye(d,a);else if(d instanceof Ye)d.target=d.target||a;else{var b=d;d=new Ye(g,a),E(d,b)}if(b=!0,h)for(var D=h.length-1;0<=D;D--){var x=d.g=h[D];b=hc(x,g,!0,d)&&b}if(x=d.g=a,b=hc(x,g,!0,d)&&b,b=hc(x,g,!1,d)&&b,h)for(D=0;D<h.length;D++)x=d.g=h[D],b=hc(x,g,!1,d)&&b}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)lc(h[g]);delete a.g[d],a.h--}}this.F=null},Je.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Je.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function hc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,D=0;D<d.length;++D){var x=d[D];if(x&&!x.da&&x.capture==h){var ye=x.listener,Ge=x.ha||x.src;x.fa&&Qd(a.i,x),b=ye.call(Ge,g)!==!1&&b}}return b&&!g.defaultPrevented}function Uv(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function $v(a){a.g=Uv(()=>{a.g=null,a.i&&(a.i=!1,$v(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class cA extends Fn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:$v(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xo(a){Fn.call(this),this.h=a,this.g={}}A(Xo,Fn);var Bv=[];function Hv(a){pe(a.g,function(d,h){this.g.hasOwnProperty(h)&&Xd(d)},a),a.g={}}Xo.prototype.N=function(){Xo.aa.N.call(this),Hv(this)},Xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rh=c.JSON.stringify,uA=c.JSON.parse,lA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ih(){}ih.prototype.h=null;function qv(a){return a.h||(a.h=a.i())}function zv(){}var es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oh(){Ye.call(this,"d")}A(oh,Ye);function sh(){Ye.call(this,"c")}A(sh,Ye);var yr={},Wv=null;function fc(){return Wv=Wv||new Je}yr.La="serverreachability";function Gv(a){Ye.call(this,yr.La,a)}A(Gv,Ye);function ts(a){let d=fc();ot(d,new Gv(d))}yr.STAT_EVENT="statevent";function Kv(a,d){Ye.call(this,yr.STAT_EVENT,a),this.stat=d}A(Kv,Ye);function st(a){let d=fc();ot(d,new Kv(d,a))}yr.Ma="timingevent";function Qv(a,d){Ye.call(this,yr.Ma,a),this.size=d}A(Qv,Ye);function ns(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function rs(){this.g=!0}rs.prototype.xa=function(){this.g=!1};function dA(a,d,h,g,b,D){a.info(function(){if(a.g)if(D)for(var x="",ye=D.split("&"),Ge=0;Ge<ye.length;Ge++){var le=ye[Ge].split("=");if(1<le.length){var Ze=le[0];le=le[1];var Xe=Ze.split("_");x=2<=Xe.length&&Xe[1]=="type"?x+(Ze+"="+le+"&"):x+(Ze+"=redacted&")}}else x=null;else x=D;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+x})}function hA(a,d,h,g,b,D,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+D+" "+x})}function gi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+pA(a,h)+(g?" "+g:"")})}function fA(a,d){a.info(function(){return"TIMEOUT: "+d})}rs.prototype.info=function(){};function pA(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var D=b[0];if(D!="noop"&&D!="stop"&&D!="close")for(var x=1;x<b.length;x++)b[x]=""}}}}return rh(h)}catch{return d}}var pc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ah;function gc(){}A(gc,ih),gc.prototype.g=function(){return new XMLHttpRequest},gc.prototype.i=function(){return{}},ah=new gc;function Vn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Xo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jv}function Jv(){this.i=null,this.g="",this.h=!1}var Zv={},ch={};function uh(a,d,h){a.L=1,a.v=_c(hn(d)),a.m=h,a.P=!0,Xv(a,null)}function Xv(a,d){a.F=Date.now(),mc(a),a.A=hn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),f_(h.i,"t",g),a.C=0,h=a.j.J,a.h=new Jv,a.g=P_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new cA(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Bv[0]=b.toString()),b=Bv);for(var D=0;D<b.length;D++){var x=Ov(h,b[D],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ts(),dA(a.i,a.u,a.A,a.l,a.R,a.m)}Vn.prototype.ca=function(a){a=a.target;let d=this.M;d&&fn(a)==3?d.j():this.Y(a)},Vn.prototype.Y=function(a){try{if(a==this.g)e:{let Xe=fn(this.g);var d=this.g.Ba();let vi=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||I_(this.g)))){this.J||Xe!=4||d==7||(d==8||0>=vi?ts(3):ts(2)),lh(this);var h=this.g.Z();this.X=h;t:if(e_(this)){var g=I_(this.g);a="";var b=g.length,D=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),is(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(D&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=h==200,hA(this.i,this.u,this.A,this.l,this.R,Xe,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,Ge=this.g;if((ye=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ye)){var le=ye;break t}}le=null}if(h=le)gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dh(this,h);else{this.o=!1,this.s=3,st(12),vr(this),is(this);break e}}if(this.P){h=!0;let kt;for(;!this.J&&this.C<x.length;)if(kt=gA(this,x),kt==ch){Xe==4&&(this.s=4,st(14),h=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Zv){this.s=4,st(15),gi(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else gi(this.i,this.l,kt,null),dh(this,kt);if(e_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||x.length!=0||this.h.h||(this.s=1,st(16),h=!1),this.o=this.o&&h,!h)gi(this.i,this.l,x,"[Invalid Chunked Response]"),vr(this),is(this);else if(0<x.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),yh(Ze),Ze.M=!0,st(11))}}else gi(this.i,this.l,x,null),dh(this,x);Xe==4&&vr(this),this.o&&!this.J&&(Xe==4?D_(this.j,this):(this.o=!1,mc(this)))}else MA(this.g),h==400&&0<x.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),vr(this),is(this)}}}catch{}finally{}};function e_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function gA(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?ch:(h=Number(d.substring(h,g)),isNaN(h)?Zv:(g+=1,g+h>d.length?ch:(d=d.slice(g,g+h),a.C=g+h,d)))}Vn.prototype.cancel=function(){this.J=!0,vr(this)};function mc(a){a.S=Date.now()+a.I,t_(a,a.I)}function t_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ns(m(a.ba,a),d)}function lh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Vn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(fA(this.i,this.A),this.L!=2&&(ts(),st(17)),vr(this),this.s=2,is(this)):t_(this,this.S-a)};function is(a){a.j.G==0||a.J||D_(a.j,a)}function vr(a){lh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Hv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function dh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||hh(h.h,a))){if(!a.K&&hh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)bc(h),wc(h);else break e;mh(h),st(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=ns(m(h.Za,h),6e3));if(1>=i_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Ir(h,11)}else if((a.K||h.g==a)&&bc(h),!H(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let le=b[d];if(h.T=le[0],le=le[1],h.G==2)if(le[0]=="c"){h.K=le[1],h.ia=le[2];let Ze=le[3];Ze!=null&&(h.la=Ze,h.j.info("VER="+h.la));let Xe=le[4];Xe!=null&&(h.Aa=Xe,h.j.info("SVER="+h.Aa));let vi=le[5];vi!=null&&typeof vi=="number"&&0<vi&&(g=1.5*vi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let kt=a.g;if(kt){let Cc=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cc){var D=g.h;D.g||Cc.indexOf("spdy")==-1&&Cc.indexOf("quic")==-1&&Cc.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(fh(D,D.h),D.h=null))}if(g.D){let vh=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;vh&&(g.ya=vh,Ie(g.I,g.D,vh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var x=a;if(g.qa=N_(g,g.J?g.ia:null,g.W),x.K){o_(g.h,x);var ye=x,Ge=g.L;Ge&&(ye.I=Ge),ye.B&&(lh(ye),mc(ye)),g.g=x}else S_(g);0<h.i.length&&Tc(h)}else le[0]!="stop"&&le[0]!="close"||Ir(h,7);else h.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Ir(h,7):gh(h):le[0]!="noop"&&h.l&&h.l.ta(le),h.v=0)}}ts(4)}catch{}}var mA=class{constructor(a,d){this.g=a,this.map=d}};function n_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function r_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function i_(a){return a.h?1:a.g?a.g.size:0}function hh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function fh(a,d){a.g?a.g.add(d):a.h=d}function o_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}n_.prototype.cancel=function(){if(this.i=s_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function s_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function yA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function vA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function a_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=vA(a),g=yA(a),b=g.length,D=0;D<b;D++)d.call(void 0,g[D],h&&h[D],a)}var c_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _A(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),b=null;if(0<=g){var D=a[h].substring(0,g);b=a[h].substring(g+1)}else D=a[h];d(D,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function _r(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof _r){this.h=a.h,yc(this,a.j),this.o=a.o,this.g=a.g,vc(this,a.s),this.l=a.l;var d=a.i,h=new as;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),u_(this,h),this.m=a.m}else a&&(d=String(a).match(c_))?(this.h=!1,yc(this,d[1]||"",!0),this.o=os(d[2]||""),this.g=os(d[3]||"",!0),vc(this,d[4]),this.l=os(d[5]||"",!0),u_(this,d[6]||"",!0),this.m=os(d[7]||"")):(this.h=!1,this.i=new as(null,this.h))}_r.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ss(d,l_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ss(d,l_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ss(h,h.charAt(0)=="/"?wA:EA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ss(h,bA)),a.join("")};function hn(a){return new _r(a)}function yc(a,d,h){a.j=h?os(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function vc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function u_(a,d,h){d instanceof as?(a.i=d,SA(a.i,a.h)):(h||(d=ss(d,TA)),a.i=new as(d,a.h))}function Ie(a,d,h){a.i.set(d,h)}function _c(a){return Ie(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function os(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ss(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,IA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function IA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var l_=/[#\/\?@]/g,EA=/[#\?:]/g,wA=/[#\?]/g,TA=/[#\?@]/g,bA=/#/g;function as(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function jn(a){a.g||(a.g=new Map,a.h=0,a.i&&_A(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=as.prototype,n.add=function(a,d){jn(this),this.i=null,a=mi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function d_(a,d){jn(a),d=mi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function h_(a,d){return jn(a),d=mi(a,d),a.g.has(d)}n.forEach=function(a,d){jn(this),this.g.forEach(function(h,g){h.forEach(function(b){a.call(d,b,g,this)},this)},this)},n.na=function(){jn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=a[g];for(let D=0;D<b.length;D++)h.push(d[g])}return h},n.V=function(a){jn(this);let d=[];if(typeof a=="string")h_(this,a)&&(d=d.concat(this.g.get(mi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return jn(this),this.i=null,a=mi(this,a),h_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function f_(a,d,h){d_(a,d),0<h.length&&(a.i=null,a.g.set(mi(a,d),N(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let D=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var b=D;x[g]!==""&&(b+="="+encodeURIComponent(String(x[g]))),a.push(b)}}return this.i=a.join("&")};function mi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function SA(a,d){d&&!a.j&&(jn(a),a.i=null,a.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(d_(this,g),f_(this,b,h))},a)),a.j=d}function CA(a,d){let h=new rs;if(c.Image){let g=new Image;g.onload=y(Un,h,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Un,h,"TestLoadImage: error",!1,d,g),g.onabort=y(Un,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Un,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function DA(a,d){let h=new rs,g=new AbortController,b=setTimeout(()=>{g.abort(),Un(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(D=>{clearTimeout(b),D.ok?Un(h,"TestPingServer: ok",!0,d):Un(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Un(h,"TestPingServer: error",!1,d)})}function Un(a,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function AA(){this.g=new lA}function RA(a,d,h){let g=h||"";try{a_(a,function(b,D){let x=b;l(b)&&(x=rh(b)),d.push(g+D+"="+encodeURIComponent(x))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function cs(a){this.l=a.Ub||null,this.j=a.eb||!1}A(cs,ih),cs.prototype.g=function(){return new Ic(this.l,this.j)},cs.prototype.i=(function(a){return function(){return a}})({});function Ic(a,d){Je.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ic,Je),n=Ic.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ls(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ls(this)),this.g&&(this.readyState=3,ls(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;p_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function p_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?us(this):ls(this),this.readyState==3&&p_(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,us(this))},n.Qa=function(a){this.g&&(this.response=a,us(this))},n.ga=function(){this.g&&us(this)};function us(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ls(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function ls(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function g_(a){let d="";return pe(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function ph(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=g_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ie(a,d,h))}function Te(a){Je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Te,Je);var NA=/^https?$/i,PA=["POST","PUT"];n=Te.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ah.g(),this.v=this.o?qv(this.o):qv(ah),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(D){m_(this,D);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let D of g.keys())h.set(D,g.get(D));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(PA,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[D,x]of h)this.g.setRequestHeader(D,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{__(this),this.u=!0,this.g.send(a),this.u=!1}catch(D){m_(this,D)}};function m_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,y_(a),Ec(a)}function y_(a){a.A||(a.A=!0,ot(a,"complete"),ot(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ot(this,"complete"),ot(this,"abort"),Ec(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ec(this,!0)),Te.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?v_(this):this.bb())},n.bb=function(){v_(this)};function v_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||fn(a)!=4||a.Z()!=2)){if(a.u&&fn(a)==4)Uv(a.Ea,0,a);else if(ot(a,"readystatechange"),fn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=x===0){var b=String(a.D).match(c_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!NA.test(b?b.toLowerCase():"")}h=g}if(h)ot(a,"complete"),ot(a,"success");else{a.m=6;try{var D=2<fn(a)?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.Z()+"]",y_(a)}}finally{Ec(a)}}}}function Ec(a,d){if(a.g){__(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ot(a,"ready");try{h.onreadystatechange=g}catch{}}}function __(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function fn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),uA(d)}};function I_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function MA(a){let d={};a=(a.g&&2<=fn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(H(a[g]))continue;var h=T(a[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let D=d[b]||[];d[b]=D,D.push(h)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function E_(a){this.Aa=0,this.i=[],this.j=new rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,a),this.cb=ds("retryDelaySeedMs",1e4,a),this.Wa=ds("forwardChannelMaxRetries",2,a),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new n_(a&&a.concurrentRequestLimit),this.Da=new AA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=E_.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){st(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=N_(this,null,this.W),Tc(this)};function gh(a){if(w_(a),a.G==3){var d=a.U++,h=hn(a.I);if(Ie(h,"SID",a.K),Ie(h,"RID",d),Ie(h,"TYPE","terminate"),hs(a,h),d=new Vn(a,a.j,d),d.L=2,d.v=_c(hn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=P_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),mc(d)}R_(a)}function wc(a){a.g&&(yh(a),a.g.cancel(),a.g=null)}function w_(a){wc(a),a.u&&(c.clearTimeout(a.u),a.u=null),bc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Tc(a){if(!r_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Qo||xv(),Yo||(Qo(),Yo=!0),Kd.add(d,a),a.B=0}}function kA(a,d){return i_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ns(m(a.Ga,a,d),A_(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Vn(this,this.j,a),D=this.o;if(this.S&&(D?(D=v(D),E(D,this.S)):D=this.S),this.m!==null||this.O||(b.H=D,D=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=b_(this,b,d),h=hn(this.I),Ie(h,"RID",a),Ie(h,"CVER",22),this.D&&Ie(h,"X-HTTP-Session-Id",this.D),hs(this,h),D&&(this.O?d="headers="+encodeURIComponent(String(g_(D)))+"&"+d:this.m&&ph(h,this.m,D)),fh(this.h,b),this.Ua&&Ie(h,"TYPE","init"),this.P?(Ie(h,"$req",d),Ie(h,"SID","null"),b.T=!0,uh(b,h,null)):uh(b,h,d),this.G=2}}else this.G==3&&(a?T_(this,a):this.i.length==0||r_(this.h)||T_(this))};function T_(a,d){var h;d?h=d.l:h=a.U++;let g=hn(a.I);Ie(g,"SID",a.K),Ie(g,"RID",h),Ie(g,"AID",a.T),hs(a,g),a.m&&a.o&&ph(g,a.m,a.o),h=new Vn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=b_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),fh(a.h,h),uh(h,g,d)}function hs(a,d){a.H&&pe(a.H,function(h,g){Ie(d,g,h)}),a.l&&a_({},function(h,g){Ie(d,g,h)})}function b_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var b=a.i;let D=-1;for(;;){let x=["count="+h];D==-1?0<h?(D=b[0].g,x.push("ofs="+D)):D=0:x.push("ofs="+D);let ye=!0;for(let Ge=0;Ge<h;Ge++){let le=b[Ge].g,Ze=b[Ge].map;if(le-=D,0>le)D=Math.max(0,b[Ge].g-100),ye=!1;else try{RA(Ze,x,"req"+le+"_")}catch{g&&g(Ze)}}if(ye){g=x.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function S_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Qo||xv(),Yo||(Qo(),Yo=!0),Kd.add(d,a),a.v=0}}function mh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ns(m(a.Fa,a),A_(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,C_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ns(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),wc(this),C_(this))};function yh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function C_(a){a.g=new Vn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=hn(a.qa);Ie(d,"RID","rpc"),Ie(d,"SID",a.K),Ie(d,"AID",a.T),Ie(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ie(d,"TO",a.ja),Ie(d,"TYPE","xmlhttp"),hs(a,d),a.m&&a.o&&ph(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=_c(hn(d)),h.m=null,h.P=!0,Xv(h,a)}n.Za=function(){this.C!=null&&(this.C=null,wc(this),mh(this),st(19))};function bc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function D_(a,d){var h=null;if(a.g==d){bc(a),yh(a),a.g=null;var g=2}else if(hh(a.h,d))h=d.D,o_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=fc(),ot(g,new Qv(g,h)),Tc(a)}else S_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&kA(a,d)||g==2&&mh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:Ir(a,5);break;case 4:Ir(a,10);break;case 3:Ir(a,6);break;default:Ir(a,2)}}}function A_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Ir(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let b=!g;g=new _r(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||yc(g,"https"),_c(g),b?CA(g.toString(),h):DA(g.toString(),h)}else st(2);a.G=0,a.l&&a.l.sa(d),R_(a),w_(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function R_(a){if(a.G=0,a.ka=[],a.l){let d=s_(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function N_(a,d,h){var g=h instanceof _r?hn(h):new _r(h);if(g.g!="")d&&(g.g=d+"."+g.g),vc(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var D=new _r(null);g&&yc(D,g),d&&(D.g=d),b&&vc(D,b),h&&(D.l=h),g=D}return h=a.D,d=a.ya,h&&d&&Ie(g,h,d),Ie(g,"VER",a.la),hs(a,g),g}function P_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Te(new cs({eb:h})):new Te(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function M_(){}n=M_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Sc(){}Sc.prototype.g=function(a,d){return new yt(a,d)};function yt(a,d){Je.call(this),this.g=new E_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!H(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new yi(this)}A(yt,Je),yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){gh(this.g)},yt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=rh(a),a=h);d.i.push(new mA(d.Ya++,a)),d.G==3&&Tc(d)},yt.prototype.N=function(){this.g.l=null,delete this.j,gh(this.g),delete this.g,yt.aa.N.call(this)};function k_(a){oh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(k_,oh);function x_(){sh.call(this),this.status=1}A(x_,sh);function yi(a){this.g=a}A(yi,M_),yi.prototype.ua=function(){ot(this.g,"a")},yi.prototype.ta=function(a){ot(this.g,new k_(a))},yi.prototype.sa=function(a){ot(this.g,new x_)},yi.prototype.ra=function(){ot(this.g,"b")},Sc.prototype.createWebChannel=Sc.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,Lm=Rn.createWebChannelTransport=function(){return new Sc},Om=Rn.getStatEventTarget=function(){return fc()},xm=Rn.Event=yr,od=Rn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pc.NO_ERROR=0,pc.TIMEOUT=8,pc.HTTP_ERROR=6,Ua=Rn.ErrorCode=pc,Yv.COMPLETE="complete",km=Rn.EventType=Yv,zv.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",Je.prototype.listen=Je.prototype.K,yo=Rn.WebChannel=zv,QL=Rn.FetchXmlHttpFactory=cs,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,Mm=Rn.XhrIo=Te}).apply(typeof id<"u"?id:typeof self<"u"?self:typeof window<"u"?window:{});var BS="@firebase/firestore",HS="4.8.0";var ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");var zo="11.10.0";var hi=new on("@firebase/firestore");function vo(){return hi.logLevel}function L(n,...e){if(hi.logLevel<=ne.DEBUG){let t=e.map(vv);hi.debug(`Firestore (${zo}): ${n}`,...t)}}function kn(n,...e){if(hi.logLevel<=ne.ERROR){let t=e.map(vv);hi.error(`Firestore (${zo}): ${n}`,...t)}}function fr(n,...e){if(hi.logLevel<=ne.WARN){let t=e.map(vv);hi.warn(`Firestore (${zo}): ${n}`,...t)}}function vv(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function W(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,MC(n,r,t)}function MC(n,e,t){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw kn(r),new Error(r)}function we(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||MC(e,i,r)}function ae(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Pt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Pn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var dd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Bm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ze.UNAUTHENTICATED))}shutdown(){}},Hm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},qm=class{constructor(e){this.t=e,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new dd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new ze(e)}},zm=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Wm=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new zm(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Gm=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function YL(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function kC(){return new TextEncoder}var fd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=YL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function te(n,e){return n<e?-1:n>e?1:0}function Km(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return te(r,i);{let o=kC(),s=JL(o.encode(qS(n,t)),o.encode(qS(e,t)));return s!==0?s:te(r,i)}}t+=r>65535?2:1}return te(n.length,e.length)}function qS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function JL(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return te(n[t],e[t]);return te(n.length,e.length)}function ko(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var zS="__name__",pd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&W(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&W(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return te(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Km(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return An.fromString(e.substring(4,e.length-2))}},De=class n extends pd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},ZL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class n extends pd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return ZL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zS}static keyField(){return new n([zS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new V(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new V(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var B=class n{constructor(e){this.path=e}static fromPath(e){return new n(De.fromString(e))}static fromName(e){return new n(De.fromString(e).popFirst(5))}static empty(){return new n(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return De.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new De(e.slice()))}};function XL(n,e,t){if(!t)throw new V(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eF(n,e,t,r){if(e===!0&&r===!0)throw new V(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WS(n){if(B.isDocumentKey(n))throw new V(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tF(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function nF(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":W(12329,{type:typeof n})}function Qm(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=nF(n);throw new V(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Me(n,e){let t={typeString:n};return e&&(t.value=e),t}function sc(n,e){if(!tF(n))throw new V(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new V(k.INVALID_ARGUMENT,t);return!0}var GS=-62135596800,KS=1e6,lt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*KS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GS)throw new V(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KS}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-GS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Me("string",lt._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};var J=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new lt(0,0))}static max(){return new n(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ga=-1,Ym=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Ym.UNKNOWN_ID=-1;function rF(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new lt(t+1,0):new lt(t,r));return new fi(i,B.empty(),e)}function iF(n){return new fi(n.readTime,n.key,Ga)}var fi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(J.min(),B.empty(),Ga)}static max(){return new n(J.max(),B.empty(),Ga)}};function oF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=B.comparator(n.documentKey,e.documentKey),t!==0?t:te(n.largestBatchId,e.largestBatchId))}var sF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function $d(n){return C(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==sF)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function aF(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wo(n){return n.name==="IndexedDbTransactionError"}var _v=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),cF=-1;function Bd(n){return n==null}function gd(n){return n===0&&1/n==-1/0}var xC="";function uF(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=QS(e)),e=lF(n.get(t),e);return QS(e)}function lF(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case xC:t+="";break;default:t+=o}}return t}function QS(n){return n+xC+""}var dF="remoteDocuments",OC="owner";var LC="mutationQueues";var FC="mutations";var VC="documentMutations",hF="remoteDocumentsV14";var jC="remoteDocumentGlobal";var UC="targets";var $C="targetDocuments";var BC="targetGlobal",HC="collectionParents";var qC="clientMetadata";var zC="bundles";var WC="namedQueries";var fF="indexConfiguration";var pF="indexState";var gF="indexEntries";var GC="documentOverlays";var mF="globals";var yF=[LC,FC,VC,dF,UC,OC,BC,$C,qC,jC,HC,zC,WC],YY=[...yF,GC],vF=[LC,FC,VC,hF,UC,OC,BC,$C,qC,jC,HC,zC,WC,GC],_F=vF,IF=[..._F,fF,pF,gF];var JY=[...IF,mF];function YS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ac(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EF(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ae=class n{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wo(this.root,e,this.comparator,!1)}getReverseIterator(){return new wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wo(this.root,e,this.comparator,!0)}},wo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},an=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw W(27949);return e+(this.isRed()?0:1)}};an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var We=class n{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new md(this.data.getIterator())}getIteratorFrom(e){return new md(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},md=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ui=class n{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new n([])}unionWith(e){let t=new We(zt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var yd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yd("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rt.EMPTY_BYTE_STRING=new rt("");var wF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xn(n){if(we(!!n,39018),typeof n=="string"){let e=0,t=wF.exec(n);if(we(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function On(n){return typeof n=="string"?rt.fromBase64String(n):rt.fromUint8Array(n)}var KC="server_timestamp",QC="__type__",YC="__previous_value__",JC="__local_write_time__";function Iv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[QC])===null||t===void 0?void 0:t.stringValue)===KC}function Hd(n){let e=n.mapValue.fields[YC];return Iv(e)?Hd(e):e}function Ka(n){let e=xn(n.mapValue.fields[JC].timestampValue);return new lt(e.seconds,e.nanos)}var Zm=class{constructor(e,t,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},vd="(default)",_d=class n{constructor(e,t){this.projectId=e,this.database=t||vd}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===vd}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ZC="__type__",XC="__max__",sd={mapValue:{fields:{__type__:{stringValue:XC}}}},eD="__vector__",Qa="value";function pr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iv(n)?4:nD(n)?9007199254740991:tD(n)?10:11:W(28295,{value:n})}function un(n,e){if(n===e)return!0;let t=pr(n);if(t!==pr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ka(n).isEqual(Ka(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=xn(i.timestampValue),c=xn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return On(i.bytesValue).isEqual(On(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ee(i.geoPointValue.latitude)===Ee(o.geoPointValue.latitude)&&Ee(i.geoPointValue.longitude)===Ee(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ee(i.integerValue)===Ee(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ee(i.doubleValue),c=Ee(o.doubleValue);return s===c?gd(s)===gd(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return ko(n.arrayValue.values||[],e.arrayValue.values||[],un);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(YS(s)!==YS(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!un(s[u],c[u])))return!1;return!0})(n,e);default:return W(52216,{left:n})}}function Ya(n,e){return(n.values||[]).find(t=>un(t,e))!==void 0}function xo(n,e){if(n===e)return 0;let t=pr(n),r=pr(e);if(t!==r)return te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Ee(o.integerValue||o.doubleValue),u=Ee(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return JS(n.timestampValue,e.timestampValue);case 4:return JS(Ka(n),Ka(e));case 5:return Km(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=On(o),u=On(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=te(c[l],u[l]);if(f!==0)return f}return te(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=te(Ee(o.latitude),Ee(s.latitude));return c!==0?c:te(Ee(o.longitude),Ee(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ZS(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,f;let p=o.fields||{},m=s.fields||{},y=(c=p[Qa])===null||c===void 0?void 0:c.arrayValue,A=(u=m[Qa])===null||u===void 0?void 0:u.arrayValue,N=te(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:ZS(y,A)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===sd.mapValue&&s===sd.mapValue)return 0;if(o===sd.mapValue)return 1;if(s===sd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=Km(u[p],f[p]);if(m!==0)return m;let y=xo(c[u[p]],l[f[p]]);if(y!==0)return y}return te(u.length,f.length)})(n.mapValue,e.mapValue);default:throw W(23264,{le:t})}}function JS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return te(n,e);let t=xn(n),r=xn(e),i=te(t.seconds,r.seconds);return i!==0?i:te(t.nanos,r.nanos)}function ZS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=xo(t[i],r[i]);if(o)return o}return te(t.length,r.length)}function Oo(n){return Xm(n)}function Xm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=xn(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return On(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return B.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Xm(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Xm(t.fields[s])}`;return i+"}"})(n.mapValue):W(61005,{value:n})}function ud(n){switch(pr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Hd(n);return e?16+ud(e):16;case 5:return 2*n.stringValue.length;case 6:return On(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+ud(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ac(r.fields,(o,s)=>{i+=o.length+ud(s)}),i})(n.mapValue);default:throw W(13486,{value:n})}}function ey(n){return!!n&&"integerValue"in n}function Ev(n){return!!n&&"arrayValue"in n}function XS(n){return!!n&&"nullValue"in n}function eC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fm(n){return!!n&&"mapValue"in n}function tD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZC])===null||t===void 0?void 0:t.stringValue)===eD}function Ba(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ac(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ba(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ba(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===XC}var XY={mapValue:{fields:{[ZC]:{stringValue:eD},[Qa]:{arrayValue:{}}}}};var Nn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(t)}setAll(e){let t=zt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=Ba(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Fm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Fm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ac(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Ba(this.value))}};var Wt=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,J.min(),J.min(),J.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,J.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,J.min(),J.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,J.min(),J.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Lo=class{constructor(e,t){this.position=e,this.inclusive=t}};function tC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),t.key):r=xo(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!un(n.position[t],e.position[t]))return!1;return!0}var Fo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function TF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Id=class{},Fe=class n extends Id{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ny(e,t,r):t==="array-contains"?new oy(e,r):t==="in"?new sy(e,r):t==="not-in"?new ay(e,r):t==="array-contains-any"?new cy(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ry(e,r):new iy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&pr(this.value)===pr(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ln=class n extends Id{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return rD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function rD(n){return n.op==="and"}function iD(n){return bF(n)&&rD(n)}function bF(n){for(let e of n.filters)if(e instanceof ln)return!1;return!0}function ty(n){if(n instanceof Fe)return n.field.canonicalString()+n.op.toString()+Oo(n.value);if(iD(n))return n.filters.map(e=>ty(e)).join(",");{let e=n.filters.map(t=>ty(t)).join(",");return`${n.op}(${e})`}}function oD(n,e){return n instanceof Fe?(function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&un(r.value,i.value)})(n,e):n instanceof ln?(function(r,i){return i instanceof ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&oD(s,i.filters[c]),!0):!1})(n,e):void W(19439)}function sD(n){return n instanceof Fe?(function(t){return`${t.field.canonicalString()} ${t.op} ${Oo(t.value)}`})(n):n instanceof ln?(function(t){return t.op.toString()+" {"+t.getFilters().map(sD).join(" ,")+"}"})(n):"Filter"}var ny=class extends Fe{constructor(e,t,r){super(e,t,r),this.key=B.fromName(r.referenceValue)}matches(e){let t=B.comparator(e.key,this.key);return this.matchesComparison(t)}},ry=class extends Fe{constructor(e,t){super(e,"in",t),this.keys=aD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},iy=class extends Fe{constructor(e,t){super(e,"not-in",t),this.keys=aD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function aD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>B.fromName(r.referenceValue))}var oy=class extends Fe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Ev(t)&&Ya(t.arrayValue,this.value)}},sy=class extends Fe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ya(this.value.arrayValue,t)}},ay=class extends Fe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ya(this.value.arrayValue,t)}},cy=class extends Fe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Ev(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ya(this.value.arrayValue,r))}};var uy=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function rC(n,e=null,t=[],r=[],i=null,o=null,s=null){return new uy(n,e,t,r,i,o,s)}function wv(n){let e=ae(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ty(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Oo(r)).join(",")),e.Pe=t}return e.Pe}function Tv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nC(n.startAt,e.startAt)&&nC(n.endAt,e.endAt)}function ly(n){return B.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Vo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function SF(n,e,t,r,i,o,s,c){return new Vo(n,e,t,r,i,o,s,c)}function cD(n){return new Vo(n)}function iC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CF(n){return n.collectionGroup!==null}function Ha(n){let e=ae(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new We(zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Fo(o,r))}),t.has(zt.keyField().canonicalString())||e.Te.push(new Fo(zt.keyField(),r))}return e.Te}function cn(n){let e=ae(n);return e.Ie||(e.Ie=DF(e,Ha(n))),e.Ie}function DF(n,e){if(n.limitType==="F")return rC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Fo(i.field,o)});let t=n.endAt?new Lo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Lo(n.startAt.position,n.startAt.inclusive):null;return rC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dy(n,e,t){return new Vo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qd(n,e){return Tv(cn(n),cn(e))&&n.limitType===e.limitType}function uD(n){return`${wv(cn(n))}|lt:${n.limitType}`}function _o(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>sD(i)).join(", ")}]`),Bd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Oo(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Oo(i)).join(",")),`Target(${r})`})(cn(n))}; limitType=${n.limitType})`}function zd(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Ha(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=tC(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,Ha(r),i)||r.endAt&&!(function(s,c,u){let l=tC(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,Ha(r),i))})(n,e)}function AF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lD(n){return(e,t)=>{let r=!1;for(let i of Ha(n)){let o=RF(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function RF(n,e,t){let r=n.field.isKeyField()?B.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?xo(u,l):W(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return W(19790,{direction:n.dir})}}var Ln=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ac(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return EF(this.inner)}size(){return this.innerSize}};var NF=new Ae(B.comparator);function gr(){return NF}var dD=new Ae(B.comparator);function $a(...n){let e=dD;for(let t of n)e=e.insert(t.key,t);return e}function PF(n){let e=dD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function li(){return qa()}function hD(){return qa()}function qa(){return new Ln(n=>n.toString(),(n,e)=>n.isEqual(e))}var eJ=new Ae(B.comparator),MF=new We(B.comparator);function ue(...n){let e=MF;for(let t of n)e=e.add(t);return e}var kF=new We(te);function xF(){return kF}function OF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function LF(n){return{integerValue:""+n}}var jo=class{constructor(){this._=void 0}};function FF(n,e,t){return n instanceof Ja?(function(i,o){let s={fields:{[QC]:{stringValue:KC},[JC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Iv(o)&&(o=Hd(o)),o&&(s.fields[YC]=o),{mapValue:s}})(t,e):n instanceof Uo?fD(n,e):n instanceof $o?pD(n,e):(function(i,o){let s=jF(i,o),c=oC(s)+oC(i.Ee);return ey(s)&&ey(i.Ee)?LF(c):OF(i.serializer,c)})(n,e)}function VF(n,e,t){return n instanceof Uo?fD(n,e):n instanceof $o?pD(n,e):t}function jF(n,e){return n instanceof Za?(function(r){return ey(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Ja=class extends jo{},Uo=class extends jo{constructor(e){super(),this.elements=e}};function fD(n,e){let t=gD(e);for(let r of n.elements)t.some(i=>un(i,r))||t.push(r);return{arrayValue:{values:t}}}var $o=class extends jo{constructor(e){super(),this.elements=e}};function pD(n,e){let t=gD(e);for(let r of n.elements)t=t.filter(i=>!un(i,r));return{arrayValue:{values:t}}}var Za=class extends jo{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function oC(n){return Ee(n.integerValue||n.doubleValue)}function gD(n){return Ev(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function UF(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Uo&&i instanceof Uo||r instanceof $o&&i instanceof $o?ko(r.elements,i.elements,un):r instanceof Za&&i instanceof Za?un(r.Ee,i.Ee):r instanceof Ja&&i instanceof Ja})(n.transform,e.transform)}var za=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ld(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Xa=class{};function mD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hy(n.key,za.none()):new ec(n.key,n.data,za.none());{let t=n.data,r=Nn.empty(),i=new We(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Bo(n.key,r,new ui(i.toArray()),za.none())}}function $F(n,e,t){n instanceof ec?(function(i,o,s){let c=i.value.clone(),u=aC(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Bo?(function(i,o,s){if(!ld(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=aC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(yD(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Wa(n,e,t,r){return n instanceof ec?(function(o,s,c,u){if(!ld(o.precondition,s))return c;let l=o.value.clone(),f=cC(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Bo?(function(o,s,c,u){if(!ld(o.precondition,s))return c;let l=cC(o.fieldTransforms,u,s),f=s.data;return f.setAll(yD(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,c){return ld(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function sC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ko(r,i,(o,s)=>UF(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ec=class extends Xa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bo=class extends Xa{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function yD(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function aC(n,e,t){let r=new Map;we(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,VF(s,c,t[i]))}return r}function cC(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,FF(o,s,e))}return r}var hy=class extends Xa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var fy=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&$F(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wa(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Wa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=hD();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=mD(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(t,r)=>sC(t,r))&&ko(this.baseMutations,e.baseMutations,(t,r)=>sC(t,r))}};var py=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var gy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ne,se;function vD(n){if(n===void 0)return kn("GRPC error has no .code"),k.UNKNOWN;switch(n){case Ne.OK:return k.OK;case Ne.CANCELLED:return k.CANCELLED;case Ne.UNKNOWN:return k.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return k.INTERNAL;case Ne.UNAVAILABLE:return k.UNAVAILABLE;case Ne.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ne.NOT_FOUND:return k.NOT_FOUND;case Ne.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ne.ABORTED:return k.ABORTED;case Ne.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ne.DATA_LOSS:return k.DATA_LOSS;default:return W(39323,{code:n})}}(se=Ne||(Ne={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";var uC=null;var BF=new An([4294967295,4294967295],0);function lC(n){let e=kC().encode(n),t=new Pm;return t.update(e),new Uint8Array(t.digest())}function dC(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new An([t,r],0),new An([i,o],0)]}var my=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new di(`Invalid padding: ${t}`);if(r<0)throw new di(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new di(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new di(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=An.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(An.fromNumber(r)));return i.compare(BF)===1&&(i=new An([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=lC(e),[r,i]=dC(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let t=lC(e),[r,i]=dC(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},di=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ed=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(J.min(),i,new Ae(te),gr(),ue())}},tc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var bo=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},wd=class{constructor(e,t){this.targetId=e,this.De=t}},Td=class{constructor(e,t,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},bd=class{constructor(){this.ve=0,this.Ce=hC(),this.Fe=rt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),t=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:W(38017,{changeType:o})}}),new tc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=hC()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},yy=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=gr(),this.je=ad(),this.Je=ad(),this.He=new Ae(te)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:W(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(ly(o))if(r===0){let s=new B(o.path);this.Xe(t,s,Wt.newNoDocument(s,J.min()))}else we(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}uC?.ct((function(f,p,m,y,A){var N,R,F,H,Z,me;let it={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},pe=p.unchangedNames;return pe&&(it.bloomFilter={applied:A===0,hashCount:(N=pe?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(H=(F=(R=pe?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(me=(Z=pe?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&me!==void 0?me:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),it})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=On(r).toUint8Array()}catch(u){if(u instanceof yd)return fr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new my(s,i,o)}catch(u){return fr(u instanceof di?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&ly(c.target)){let u=new B(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Wt.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Ed(e,t,this.He,this.ze,r);return this.ze=gr(),this.je=ad(),this.Je=ad(),this.He=new Ae(te),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new bd,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new We(te),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new We(te),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new bd),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function ad(){return new Ae(B.comparator)}function hC(){return new Ae(B.comparator)}var HF={asc:"ASCENDING",desc:"DESCENDING"},qF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zF={and:"AND",or:"OR"},vy=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function _y(n,e){return n.useProto3Json||Bd(e)?e:{value:e}}function WF(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function So(n){return we(!!n,49232),J.fromTimestamp((function(t){let r=xn(t);return new lt(r.seconds,r.nanos)})(n))}function KF(n,e){return Iy(n,e).canonicalString()}function Iy(n,e){let t=(function(i){return new De(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function _D(n){let e=De.fromString(n);return we(bD(e),10190,{key:e.toString()}),e}function Vm(n,e){let t=_D(e);if(t.get(1)!==n.databaseId.projectId)throw new V(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new B(ED(t))}function ID(n,e){return KF(n.databaseId,e)}function QF(n){let e=_D(n);return e.length===4?De.emptyPath():ED(e)}function fC(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ED(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function YF(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(we(f===void 0||typeof f=="string",58123),rt.fromBase64String(f||"")):(we(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),rt.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let f=l.code===void 0?k.UNKNOWN:vD(l.code);return new V(f,l.message||"")})(s);t=new Td(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Vm(n,r.document.name),o=So(r.document.updateTime),s=r.document.createTime?So(r.document.createTime):J.min(),c=new Nn({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new bo(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Vm(n,r.document),o=r.readTime?So(r.readTime):J.min(),s=Wt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new bo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Vm(n,r.document),o=r.removedTargetIds||[];t=new bo([],o,i,null)}else{if(!("filter"in e))return W(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new gy(i,o),c=r.targetId;t=new wd(c,s)}}return t}function JF(n,e){return{documents:[ID(n,e.path)]}}function ZF(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ID(n,i);let o=(function(l){if(l.length!==0)return TD(ln.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:Io(m.field),direction:tV(m.dir)}})(f))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=_y(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function XF(n){let e=QF(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){we(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(p){let m=wD(p);return m instanceof ln&&iD(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(A){return new Fo(Eo(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,Bd(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Lo(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Lo(y,m)})(t.endAt)),SF(e,i,s,o,c,"F",u,l)}function eV(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wD(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Eo(t.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Eo(t.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Eo(t.unaryFilter.field);return Fe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Eo(t.unaryFilter.field);return Fe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Fe.create(Eo(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ln.create(t.compositeFilter.filters.map(r=>wD(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W(1026)}})(t.compositeFilter.op))})(n):W(30097,{filter:n})}function tV(n){return HF[n]}function nV(n){return qF[n]}function rV(n){return zF[n]}function Io(n){return{fieldPath:n.canonicalString()}}function Eo(n){return zt.fromServerFormat(n.fieldPath)}function TD(n){return n instanceof Fe?(function(t){if(t.op==="=="){if(eC(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(XS(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(eC(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(XS(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:nV(t.op),value:t.value}}})(n):n instanceof ln?(function(t){let r=t.getFilters().map(i=>TD(i));return r.length===1?r[0]:{compositeFilter:{op:rV(t.op),filters:r}}})(n):W(54877,{filter:n})}function bD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var nc=class n{constructor(e,t,r,i,o=J.min(),s=J.min(),c=rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ey=class{constructor(e){this.gt=e}};function iV(n){let e=XF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dy(e,e.limit,"L"):e}var Sd=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ee(e.integerValue));else if("doubleValue"in e){let r=Ee(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),gd(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=xn(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(On(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?nD(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):tD(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):W(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Qa,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ee(c)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),B.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Sd.Ut=new Sd;var wy=class{constructor(){this.Dn=new Ty}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(fi.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},Ty=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new We(De.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(De.comparator)).toArray()}};var tJ=new Uint8Array(0);var pC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SD=41943040,Mt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(SD,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);var rc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var gC="LruGarbageCollector",oV=1048576;function mC([n,e],[t,r]){let i=te(n,t);return i===0?te(e,r):i}var by=class{constructor(e){this.Tr=e,this.buffer=new We(mC),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();mC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Sy=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(gC,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wo(t)?L(gC,"Ignoring IndexedDB error during garbage collection: ",t):yield $d(t)}yield this.Rr(3e5)}))}},Cy=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(_v.ue);let r=new by(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(pC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pC):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),vo()<=ne.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function sV(n,e){return new Cy(n,e)}var Dy=class{constructor(){this.changes=new Ln(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ay=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Ry=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Wa(r.mutation,i,ui.empty(),lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=li();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=$a();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=li();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=gr(),s=qa(),c=(function(){return qa()})();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Bo)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Wa(f.mutation,l,f.mutation.getFieldMask(),lt.now())):s.set(l.key,ui.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var p;return c.set(l,new Ay(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=qa(),i=new Ae((s,c)=>s-c),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||ui.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ue()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=hD();f.forEach(m=>{if(!o.has(m)){let y=mD(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(li()),c=Ga,u=o;return s.next(l=>P.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(f=>({batchId:c,changes:PF(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new B(t)).next(r=>{let i=$a();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=$a();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=(function(p,m){return new Vo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Wt.newInvalidDocument(f)))});let c=$a();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Wa(f.mutation,l,ui.empty(),lt.now()),zd(t,l)&&(c=c.insert(u,l))}),c})}};var Ny=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:So(i.createTime)}})(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:iV(i.bundledQuery),readTime:So(i.readTime)}})(t)),P.resolve()}};var Py=class{constructor(){this.overlays=new Ae(B.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=li();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=li(),o=t.length+1,s=new B(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ae((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=li(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=li(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return P.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new py(t,r));let o=this.kr.get(t);o===void 0&&(o=ue(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var My=class{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var ic=class{constructor(){this.qr=new We(Pe.Qr),this.$r=new We(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Pe(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Pe(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new B(new De([])),r=new Pe(t,e),i=new Pe(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new B(new De([])),r=new Pe(t,e),i=new Pe(t,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Pe(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Pe=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return B.comparator(e.key,t.key)||te(e.Hr,t.Hr)}static Ur(e,t){return te(e.Hr,t.Hr)||B.comparator(e.key,t.key)}};var ky=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new We(Pe.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new fy(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Pe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?cF:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Pe(t,0),i=new Pe(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new We(te);return t.forEach(i=>{let o=new Pe(i,0),s=new Pe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new Pe(new B(o),0),c=new We(te);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),P.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let o=new Pe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Pe(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var xy=class{constructor(e){this.ni=e,this.docs=(function(){return new Ae(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=gr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=gr(),s=t.path,c=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||oF(iF(f),r)<=0||(i.has(f.key)||zd(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){W(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Oy(this)}getSize(e){return P.resolve(this.size)}},Oy=class extends Dy{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Ly=class{constructor(e){this.persistence=e,this.ii=new Ln(t=>wv(t),Tv),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.si=0,this.oi=new ic,this.targetCount=0,this._i=rc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new rc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var Cd=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new _v(0),this.ci=!1,this.ci=!0,this.li=new My,this.referenceDelegate=e(this),this.hi=new Ly(this),this.indexManager=new wy,this.remoteDocumentCache=(function(i){return new xy(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Ey(t),this.Ti=new Ny(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Py,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new ky(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new Fy(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Fy=class extends Jm{constructor(e){super(),this.currentSequenceNumber=e}},Vy=class n{constructor(e){this.persistence=e,this.Ai=new ic,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw W(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=B.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,J.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Dd=class n{constructor(e,t){this.persistence=e,this.gi=new Ln(r=>uF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=sV(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ud(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var jy=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ue(),i=ue();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Uy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var $y=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return zb()?8:aF(Ct())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Uy;return this.ws(e,t,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,s,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(vo()<=ne.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(vo()<=ne.DEBUG&&L("QueryEngine","Query:",_o(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(vo()<=ne.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(t))):P.resolve())}ps(e,t){if(iC(t))return P.resolve(null);let r=cn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=dy(t,null,"F"),r=cn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,c);return this.Ds(t,l,s,u.readTime)?this.ps(e,dy(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return iC(t)||i.isEqual(J.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?P.resolve(null):(vo()<=ne.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_o(t)),this.vs(e,s,t,rF(i,Ga)).next(c=>c))})}bs(e,t){let r=new We(lD(e));return t.forEach((i,o)=>{zd(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return vo()<=ne.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",_o(t)),this.gs.getDocumentsMatchingQuery(e,t,fi.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var bv="LocalStore",aV=3e8,By=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ae(te),this.Ms=new Ln(o=>wv(o),Tv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ry(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function cV(n,e,t,r){return new By(n,e,t,r)}function CD(n,e){return C(this,null,function*(){let t=ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ue();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function DD(n){let e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function uV(n,e){let t=ae(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(rt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=aV?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,y,f)&&c.push(t.hi.updateTargetData(o,y))});let u=gr(),l=ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(lV(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(J.min())){let f=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function lV(n,e,t){let r=ue(),i=ue();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=gr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L(bv,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function dV(n,e){let t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new nc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Hy(n,e,t){return C(this,null,function*(){let r=ae(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Wo(s))throw s;L(bv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function yC(n,e,t){let r=ae(n),i=J.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=ae(u),m=p.Ms.get(f);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)})(r,s,cn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:J.min(),t?o:ue())).next(c=>(hV(r,AF(e),c),{documents:c,qs:o})))}function hV(n,e,t){let r=n.xs.get(e)||J.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Ad=class{constructor(){this.activeTargetIds=xF()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var qy=class{constructor(){this.Fo=new Ad,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Ad,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var zy=class{xo(e){}shutdown(){}};var vC="ConnectivityMonitor",Rd=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(vC,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(vC,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var cd=null;function Wy(){return cd===null?cd=(function(){return 268435456+Math.round(2147483648*Math.random())})():cd++,"0x"+cd.toString(16)}var jm="RestConnection",fV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Gy=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===vd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Wy(),c=this.Go(e,t.toUriEncodedString());L(jm,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=Xr(l);return this.jo(e,c,u,r,f).then(p=>(L(jm,`Received RPC '${e}' ${s}: `,p),p),p=>{throw fr(jm,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=fV[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Ky=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var nt="WebChannelConnection",Qy=class extends Gy{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Wy();return new Promise((c,u)=>{let l=new Mm;l.setWithCredentials(!0),l.listenOnce(km.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ua.NO_ERROR:let p=l.getResponseJson();L(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case Ua.TIMEOUT:L(nt,`RPC '${e}' ${s} timed out`),u(new V(k.DEADLINE_EXCEEDED,"Request time out"));break;case Ua.HTTP_ERROR:let m=l.getStatus();if(L(nt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let N=(function(F){let H=F.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(H)>=0?H:k.UNKNOWN})(A.status);u(new V(N,A.message))}else u(new V(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(k.UNAVAILABLE,"Connection failed."));break;default:W(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(nt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);L(nt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}P_(e,t,r){let i=Wy(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Lm(),c=Om(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(nt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let m=!1,y=!1,A=new Ky({Ho:R=>{y?L(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(nt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(nt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,F,H)=>{R.listen(F,Z=>{try{H(Z)}catch(me){setTimeout(()=>{throw me},0)}})};return N(p,yo.EventType.OPEN,()=>{y||(L(nt,`RPC '${e}' stream ${i} transport opened.`),A.s_())}),N(p,yo.EventType.CLOSE,()=>{y||(y=!0,L(nt,`RPC '${e}' stream ${i} transport closed`),A.__(),this.I_(p))}),N(p,yo.EventType.ERROR,R=>{y||(y=!0,fr(nt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),A.__(new V(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,yo.EventType.MESSAGE,R=>{var F;if(!y){let H=R.data[0];we(!!H,16349);let Z=H,me=Z?.error||((F=Z[0])===null||F===void 0?void 0:F.error);if(me){L(nt,`RPC '${e}' stream ${i} received error:`,me);let it=me.status,pe=(function(I){let E=Ne[I];if(E!==void 0)return vD(E)})(it),w=me.message;pe===void 0&&(pe=k.INTERNAL,w="Unknown error status: "+it+" with message "+me.message),y=!0,A.__(new V(pe,w)),p.close()}else L(nt,`RPC '${e}' stream ${i} received:`,H),A.a_(H)}}),N(c,xm.STAT_EVENT,R=>{R.stat===od.PROXY?L(nt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===od.NOPROXY&&L(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Um(){return typeof document<"u"?document:null}function AD(n){return new vy(n,!0)}var Nd=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var _C="PersistentStream",Yy=class{constructor(e,t,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Nd(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return C(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return C(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return C(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(kn(t.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new V(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>C(this,null,function*(){this.state=0,this.start()}))}G_(e){return L(_C,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(L(_C,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Jy=class extends Yy{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=YF(this.serializer,e),r=(function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?So(s.readTime):J.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=fC(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=ly(u)?{documents:JF(o,u)}:{query:ZF(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=GF(o,s.resumeToken);let l=_y(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){c.readTime=WF(o,s.snapshotVersion.toTimestamp());let l=_y(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=eV(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=fC(this.serializer),t.removeTarget=e,this.k_(t)}};var Zy=class{},Xy=class extends Zy{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Iy(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,Iy(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},ev=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(kn(t),this._a=!1):L("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ho="RemoteStore",tv=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>C(this,null,function*(){uc(this)&&(L(Ho,"Restarting streams for network reachability change."),yield(function(u){return C(this,null,function*(){let l=ae(u);l.Ia.add(4),yield cc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Wd(l)})})(this))}))}),this.Aa=new ev(r,i)}};function Wd(n){return C(this,null,function*(){if(uc(n))for(let e of n.da)yield e(!0)})}function cc(n){return C(this,null,function*(){for(let e of n.da)yield e(!1)})}function RD(n,e){let t=ae(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Av(t)?Dv(t):Go(t).x_()&&Cv(t,e))}function Sv(n,e){let t=ae(n),r=Go(t);t.Ta.delete(e),r.x_()&&ND(t,e),t.Ta.size===0&&(r.x_()?r.B_():uc(t)&&t.Aa.set("Unknown"))}function Cv(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Go(n).H_(e)}function ND(n,e){n.Ra.$e(e),Go(n).Y_(e)}function Dv(n){n.Ra=new yy({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Go(n).start(),n.Aa.aa()}function Av(n){return uc(n)&&!Go(n).M_()&&n.Ta.size>0}function uc(n){return ae(n).Ia.size===0}function PD(n){n.Ra=void 0}function pV(n){return C(this,null,function*(){n.Aa.set("Online")})}function gV(n){return C(this,null,function*(){n.Ta.forEach((e,t)=>{Cv(n,e)})})}function mV(n,e){return C(this,null,function*(){PD(n),Av(n)?(n.Aa.la(e),Dv(n)):n.Aa.set("Unknown")})}function yV(n,e,t){return C(this,null,function*(){if(n.Aa.set("Online"),e instanceof Td&&e.state===2&&e.cause)try{yield(function(i,o){return C(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})})(n,e)}catch(r){L(Ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield IC(n,r)}else if(e instanceof bo?n.Ra.Ye(e):e instanceof wd?n.Ra.it(e):n.Ra.et(e),!t.isEqual(J.min()))try{let r=yield DD(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(rt.EMPTY_BYTE_STRING,f.snapshotVersion)),ND(o,u);let p=new nc(f.target,u,l,f.sequenceNumber);Cv(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t))}catch(r){L(Ho,"Failed to raise snapshot:",r),yield IC(n,r)}})}function IC(n,e,t){return C(this,null,function*(){if(!Wo(e))throw e;n.Ia.add(1),yield cc(n),n.Aa.set("Offline"),t||(t=()=>DD(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(null,null,function*(){L(Ho,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Wd(n)}))})}function EC(n,e){return C(this,null,function*(){let t=ae(n);t.asyncQueue.verifyOperationInProgress(),L(Ho,"RemoteStore received new credentials");let r=uc(t);t.Ia.add(3),yield cc(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Wd(t)})}function vV(n,e){return C(this,null,function*(){let t=ae(n);e?(t.Ia.delete(2),yield Wd(t)):e||(t.Ia.add(2),yield cc(t),t.Aa.set("Unknown"))})}function Go(n){return n.Va||(n.Va=(function(t,r,i){let o=ae(t);return o.ia(),new Jy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:pV.bind(null,n),e_:gV.bind(null,n),n_:mV.bind(null,n),J_:yV.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.Va.N_(),Av(n)?Dv(n):n.Aa.set("Unknown")):(yield n.Va.stop(),PD(n))}))),n.Va}var nv=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function MD(n,e){if(kn("AsyncQueue",`${e}: ${n}`),Wo(n))return new V(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Pd=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||B.comparator(t.key,r.key):(t,r)=>B.comparator(t.key,r.key),this.keyedMap=$a(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Md=class{constructor(){this.fa=new Ae(B.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):W(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},qo=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,Pd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var rv=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},iv=class{constructor(){this.queries=wC(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ae(t),o=i.queries;i.queries=wC(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new V(k.ABORTED,"Firestore shutting down"))}};function wC(){return new Ln(n=>uD(n),qd)}function _V(n,e){return C(this,null,function*(){let t=ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new rv,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=MD(s,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&Rv(t)})}function IV(n,e){return C(this,null,function*(){let t=ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function EV(n,e){let t=ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&Rv(t)}function wV(n,e,t){let r=ae(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function Rv(n){n.Da.forEach(e=>{e.next()})}var ov,TC;(TC=ov||(ov={})).Fa="default",TC.Cache="cache";var sv=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ov.Cache}};var kd=class{constructor(e){this.key=e}},xd=class{constructor(e){this.key=e}},av=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=lD(e),this.eu=new Pd(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Md,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=zd(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?A!==N&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(y?(s=s.add(y),o=N?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(y,A){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{At:R})}};return N(y)-N(A)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new qo(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Md,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new xd(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new kd(r))}),t}uu(e){this.Ha=e.qs,this.Za=ue();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return qo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Nv="SyncEngine",cv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},uv=class{constructor(e){this.key=e,this.lu=!1}},lv=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ln(c=>uD(c),qd),this.Tu=new Map,this.Iu=new Set,this.du=new Ae(B.comparator),this.Eu=new Map,this.Au=new ic,this.Ru={},this.Vu=new Map,this.mu=rc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function TV(n,e,t=!0){return C(this,null,function*(){let r=FD(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield kD(r,e,t,!0),i})}function bV(n,e){return C(this,null,function*(){let t=FD(n);yield kD(t,e,!0,!1)})}function kD(n,e,t,r){return C(this,null,function*(){let i=yield dV(n.localStore,cn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield SV(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&RD(n.remoteStore,i),c})}function SV(n,e,t,r,i){return C(this,null,function*(){n.gu=(p,m,y)=>(function(N,R,F,H){return C(this,null,function*(){let Z=R.view.nu(F);Z.Ds&&(Z=yield yC(N.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,Z)));let me=H&&H.targetChanges.get(R.targetId),it=H&&H.targetMismatches.get(R.targetId)!=null,pe=R.view.applyChanges(Z,N.isPrimaryClient,me,it);return SC(N,R.targetId,pe._u),pe.snapshot})})(n,p,m,y);let o=yield yC(n.localStore,e,!0),s=new av(e,o.qs),c=s.nu(o.documents),u=tc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);SC(n,t,l._u);let f=new cv(e,t,s);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function CV(n,e,t){return C(this,null,function*(){let r=ae(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!qd(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Sv(r.remoteStore,i.targetId),dv(r,i.targetId)}).catch($d))):(dv(r,i.targetId),yield Hy(r.localStore,i.targetId,!0))})}function DV(n,e){return C(this,null,function*(){let t=ae(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Sv(t.remoteStore,r.targetId))})}function xD(n,e){return C(this,null,function*(){let t=ae(n);try{let r=yield uV(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?we(s.lu,14607):i.removedDocuments.size>0&&(we(s.lu,42227),s.lu=!1))}),yield LD(t,r,e)}catch(r){yield $d(r)}})}function bC(n,e,t){let r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=ae(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&Rv(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AV(n,e,t){return C(this,null,function*(){let r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ae(B.comparator);s=s.insert(o,Wt.newNoDocument(o,J.min()));let c=ue().add(o),u=new Ed(J.min(),new Map,new Ae(te),s,c);yield xD(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Pv(r)}else yield Hy(r.localStore,e,!1).then(()=>dv(r,e,t)).catch($d)})}function dv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||OD(n,r)})}function OD(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(Sv(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Pv(n))}function SC(n,e,t){for(let r of t)r instanceof kd?(n.Au.addReference(r.key,e),RV(n,r)):r instanceof xd?(L(Nv,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||OD(n,r.key)):W(19791,{yu:r})}function RV(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(L(Nv,"New document in limbo: "+t),n.Iu.add(r),Pv(n))}function Pv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new B(De.fromString(e)),r=n.mu.next();n.Eu.set(r,new uv(t)),n.du=n.du.insert(t,r),RD(n.remoteStore,new nc(cn(cD(t.path)),r,"TargetPurposeLimboResolution",_v.ue))}}function LD(n,e,t){return C(this,null,function*(){let r=ae(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=jy.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return C(this,null,function*(){let f=ae(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Wo(p))throw p;L(bv,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Fs.get(m),A=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(A);f.Fs=f.Fs.insert(m,N)}}})})(r.localStore,o))})}function NV(n,e){return C(this,null,function*(){let t=ae(n);if(!t.currentUser.isEqual(e)){L(Nv,"User change. New user:",e.toKey());let r=yield CD(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new V(k.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield LD(t,r.Bs)}})}function PV(n,e){let t=ae(n),r=t.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let c=t.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function FD(n){let e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AV.bind(null,e),e.hu.J_=EV.bind(null,e.eventManager),e.hu.pu=wV.bind(null,e.eventManager),e}var VD=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=AD(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return cV(this.persistence,new $y,t.initialUser,this.serializer)}Du(t){return new Cd(Vy.Vi,this.serializer)}bu(t){return new qy}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),hv=class extends VD{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){we(this.persistence.referenceDelegate instanceof Dd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Sy(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new Cd(r=>Dd.Vi(r,t),this.serializer)}};var MV=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=NV.bind(null,this.syncEngine),yield vV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new iv})()}createDatastore(t){let r=AD(t.databaseInfo.databaseId),i=(function(s){return new Qy(s)})(t.databaseInfo);return(function(s,c,u,l){return new Xy(s,c,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new tv(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>bC(this.syncEngine,r,0),(function(){return Rd.C()?new Rd:new zy})())}createSyncEngine(t,r){return(function(o,s,c,u,l,f,p){let m=new lv(o,s,c,u,l,f);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield(function(o){return C(this,null,function*(){let s=ae(o);L(Ho,"RemoteStore shutting down."),s.Ia.add(5),yield cc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var fv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var mr="FirestoreClient",pv=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ze.UNAUTHENTICATED,this.clientId=fd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){L(mr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L(mr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=MD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function $m(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L(mr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(null,null,function*(){r.isEqual(i)||(yield CD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{fr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{fr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function CC(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield kV(n);L(mr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>EC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>EC(e.remoteStore,i)),n._onlineComponents=e})}function kV(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L(mr,"Using user provided OfflineComponentProvider");try{yield $m(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;fr("Error using user provided cache. Falling back to memory cache: "+t),yield $m(n,new VD)}}else L(mr,"Using default OfflineComponentProvider"),yield $m(n,new hv(void 0));return n._offlineComponents})}function xV(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L(mr,"Using user provided OnlineComponentProvider"),yield CC(n,n._uninitializedComponentsProvider._online)):(L(mr,"Using default OnlineComponentProvider"),yield CC(n,new MV))),n._onlineComponents})}function OV(n){return C(this,null,function*(){let e=yield xV(n),t=e.eventManager;return t.onListen=TV.bind(null,e.syncEngine),t.onUnlisten=CV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DV.bind(null,e.syncEngine),t})}function LV(n,e,t={}){let r=new Pn;return n.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return(function(o,s,c,u,l){let f=new fv({next:m=>{f.Ou(),s.enqueueAndForget(()=>IV(o,p)),m.fromCache&&u.source==="server"?l.reject(new V(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new sv(c,f,{includeMetadataChanges:!0,ka:!0});return _V(o,p)})(yield OV(n),n.asyncQueue,e,t,r)})),r.promise}function jD(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var DC=new Map;var UD="firestore.googleapis.com",AC=!0,Od=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UD,this.ssl=AC}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oV)throw new V(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},oc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Od({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Od(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Bm;switch(r.type){case"firstParty":return new Wm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=DC.get(t);r&&(L("ComponentProvider","Removing Datastore"),DC.delete(t),r.terminate())})(this),Promise.resolve()}};function $D(n,e,t,r={}){var i;n=Qm(n,oc);let o=Xr(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Wg(`https://${u}`),Gg("Firestore",!0)),s.host!==UD&&s.host!==u&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!ei(l,c)&&(n._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=ze.MOCK_USER;else{f=Ub(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ze(m)}n._authCredentials=new Hm(new dd(f,p))}}var Ld=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Mn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(sc(t,n._jsonSchema))return new n(e,r||null,new B(De.fromString(t.referencePath)))}};Mn._jsonSchemaVersion="firestore/documentReference/1.0",Mn._jsonSchema={type:Me("string",Mn._jsonSchemaVersion),referencePath:Me("string")};var Co=class n extends Ld{constructor(e,t,r){super(e,t,cD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new B(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function BD(n,e,...t){if(n=cr(n),XL("collection","path",e),n instanceof oc){let r=De.fromString(e,...t);return WS(r),new Co(n,null,r)}{if(!(n instanceof Mn||n instanceof Co))throw new V(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(De.fromString(e,...t));return WS(r),new Co(n.firestore,null,r)}}var RC="AsyncQueue",Fd=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Nd(this,"async_queue_retry"),this.oc=()=>{let r=Um();r&&L(RC,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Um();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Um();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Pn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return C(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Wo(e))throw e;L(RC,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,kn("INTERNAL UNHANDLED ERROR: ",NC(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=nv.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&W(47125,{hc:NC(this.tc)})}verifyOperationInProgress(){}Pc(){return C(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function NC(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Vd=class extends oc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Fd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Fd(e),this._firestoreClient=void 0,yield e}})}};function HD(n,e){let t=typeof n=="object"?n:po(),r=typeof n=="string"?n:e||vd,i=Ul(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Vb("firestore");o&&$D(i,...o)}return i}function FV(n){if(n._terminated)throw new V(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VV(n),n._firestoreClient}function VV(n){var e,t,r;let i=n._freezeSettings(),o=(function(c,u,l,f){return new Zm(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,jD(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new pv(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var Do=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(rt.fromBase64String(e))}catch(t){throw new V(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Do._jsonSchemaVersion="firestore/bytes/1.0",Do._jsonSchema={type:Me("string",Do._jsonSchemaVersion),bytes:Me("string")};var jd=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ao=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(sc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Ao._jsonSchemaVersion="firestore/geoPoint/1.0",Ao._jsonSchema={type:Me("string",Ao._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};var Ro=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new V(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ro._jsonSchemaVersion="firestore/vectorValue/1.0",Ro._jsonSchema={type:Me("string",Ro._jsonSchemaVersion),vectorValues:Me("object")};var jV=new RegExp("[~\\*/\\[\\]]");function UV(n,e,t){if(e.search(jV)>=0)throw PC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jd(...e.split("."))._internalPath}catch{throw PC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function PC(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(k.INVALID_ARGUMENT,c+n+u)}var Ud=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(qD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},gv=class extends Ud{data(){return super.data()}};function qD(n,e){return typeof e=="string"?UV(n,e):e instanceof jd?e._internalPath:e._delegate._internalPath}function $V(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mv=class{convertValue(e,t="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(On(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw W(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ac(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Qa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ee(s.doubleValue));return new Ro(o)}convertGeoPoint(e){return new Ao(Ee(e.latitude),Ee(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Hd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){let t=xn(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=De.fromString(e);we(bD(r),9688,{name:e});let i=new _d(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(t)||kn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var To=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},No=class n extends Ud{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Po(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(qD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:Me("string",No._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};var Po=class extends No{data(e={}){return super.data(e)}},Mo=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new To(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Po(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Po(i._firestore,i._userDataWriter,c.doc.key,c.doc,new To(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Po(i._firestore,i._userDataWriter,c.doc.key,c.doc,new To(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:BV(c.type),doc:u,oldIndex:l,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function BV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:n})}}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:Me("string",Mo._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};var yv=class extends mv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}};function zD(n){n=Qm(n,Ld);let e=Qm(n.firestore,Vd),t=FV(e),r=new yv(e);return $V(n._query),LV(t,n._query).then(i=>new Mo(e,r,n,i))}(function(e,t=!0){(function(i){zo=i})(fo),Ht(new ut("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Vd(new qm(r.getProvider("auth-internal")),new Gm(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(l.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ce(BS,HS,e),Ce(BS,HS,"esm2017")})();var pi=class{constructor(e){return e}},WD="firestore",Mv=class{constructor(){return mo(WD)}};var kv=new U("angularfire2.firestore-instances");function HV(n,e){let t=Hl(WD,n,e);return t&&new pi(t)}function qV(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new pi(r)}}var zV={provide:Mv,deps:[[new En,kv]]},WV={provide:pi,useFactory:HV,deps:[[new En,kv],oi]};function GD(n,...e){return Ce("angularfire",ri.full,"fst"),Ot([WV,zV,{provide:kv,useFactory:qV(n),multi:!0,deps:[_e,tt,ii,ka,[new En,rd],[new En,zl],...e]}])}var KD=lr(BD,!0,2);var QD=lr(zD,!0);var YD=lr(HD,!0);var JD={production:!1,firebaseConfig:{apiKey:"AIzaSyDxfeuR6QJqu3OObOPTWLhhlzOgSSL1O1s",authDomain:"volley-a86b5.firebaseapp.com",projectId:"volley-a86b5",storageBucket:"volley-a86b5.firebasestorage.app",messagingSenderId:"562442165643",appId:"1:562442165643:web:f36ff9d75f3a886114e38e"},debugAppCheck:!0};var ZD=[];var XD={providers:[$f(),eg({eventCoalescing:!0}),dS(()=>hS(JD.firebaseConfig)),GD(()=>YD()),Ug(ZD)]};var KV=()=>({title:"Explore the Docs 4",link:"https://angular.dev"}),QV=()=>({title:"Learn with Tutorials",link:"https://angular.dev/tutorials"}),YV=()=>({title:"Prompt and best practices for AI",link:"https://angular.dev/ai/develop-with-ai"}),JV=()=>({title:"CLI Docs",link:"https://angular.dev/tools/cli"}),ZV=()=>({title:"Angular Language Service",link:"https://angular.dev/tools/language-service"}),XV=()=>({title:"Angular DevTools",link:"https://angular.dev/tools/devtools"}),ej=(n,e,t,r,i,o)=>[n,e,t,r,i,o],tj=(n,e)=>e.title;function nj(n,e){if(n&1&&(Tt(0,"a",5)(1,"span"),el(2),Ut(),jr(),Tt(3,"svg",16),en(4,"path",17),Ut()()),n&2){let t=e.$implicit;Zu("href",t.link,Dp),Hu(2),tl(t.title)}}var Gd=class n{constructor(e){this.firestore=e}title=tr("volley");testFirestore(){return C(this,null,function*(){console.log("Test de connexion \xE0 Firestore...");try{let e=KD(this.firestore,"Equipes"),r=(yield QD(e)).docs.map(i=>O({id:i.id},i.data()));console.log("\u{1F4C4} Documents lus :",r),alert("Connexion \xE0 Firestore r\xE9ussie !")}catch(e){console.error("Erreur Firestore :",e),alert("Erreur de connexion \xE0 Firestore. Voir la console.")}})}static \u0275fac=function(t){return new(t||n)(Ku(pi))};static \u0275cmp=Zs({type:n,selectors:[["app-root"]],decls:19,vars:13,consts:[[1,"main"],[1,"content"],[1,"right-side"],[1,"pill-group"],[3,"click"],["target","_blank","rel","noopener",1,"pill",3,"href"],[1,"social-links"],["href","https://github.com/angular/angular","aria-label","Github","target","_blank","rel","noopener"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Github"],["d","M12.3047 0C5.50634 0 0 5.50942 0 12.3047C0 17.7423 3.52529 22.3535 8.41332 23.9787C9.02856 24.0946 9.25414 23.7142 9.25414 23.3871C9.25414 23.0949 9.24389 22.3207 9.23876 21.2953C5.81601 22.0377 5.09414 19.6444 5.09414 19.6444C4.53427 18.2243 3.72524 17.8449 3.72524 17.8449C2.61064 17.082 3.81137 17.0973 3.81137 17.0973C5.04697 17.1835 5.69604 18.3647 5.69604 18.3647C6.79321 20.2463 8.57636 19.7029 9.27978 19.3881C9.39052 18.5924 9.70736 18.0499 10.0591 17.7423C7.32641 17.4347 4.45429 16.3765 4.45429 11.6618C4.45429 10.3185 4.9311 9.22133 5.72065 8.36C5.58222 8.04931 5.16694 6.79833 5.82831 5.10337C5.82831 5.10337 6.85883 4.77319 9.2121 6.36459C10.1965 6.09082 11.2424 5.95546 12.2883 5.94931C13.3342 5.95546 14.3801 6.09082 15.3644 6.36459C17.7023 4.77319 18.7328 5.10337 18.7328 5.10337C19.3942 6.79833 18.9789 8.04931 18.8559 8.36C19.6403 9.22133 20.1171 10.3185 20.1171 11.6618C20.1171 16.3888 17.2409 17.4296 14.5031 17.7321C14.9338 18.1012 15.3337 18.8559 15.3337 20.0084C15.3337 21.6552 15.3183 22.978 15.3183 23.3779C15.3183 23.7009 15.5336 24.0854 16.1642 23.9623C21.0871 22.3484 24.6094 17.7341 24.6094 12.3047C24.6094 5.50942 19.0999 0 12.3047 0Z"],["href","https://twitter.com/angular","aria-label","Twitter","target","_blank","rel","noopener"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Twitter"],["d","M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"],["href","https://www.youtube.com/channel/UCbn1OgGei-DV7aSRo_HaAiw","aria-label","Youtube","target","_blank","rel","noopener"],["width","29","height","20","viewBox","0 0 29 20","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Youtube"],["fill-rule","evenodd","clip-rule","evenodd","d","M27.4896 1.52422C27.9301 1.96749 28.2463 2.51866 28.4068 3.12258C29.0004 5.35161 29.0004 10 29.0004 10C29.0004 10 29.0004 14.6484 28.4068 16.8774C28.2463 17.4813 27.9301 18.0325 27.4896 18.4758C27.0492 18.9191 26.5 19.2389 25.8972 19.4032C23.6778 20 14.8068 20 14.8068 20C14.8068 20 5.93586 20 3.71651 19.4032C3.11363 19.2389 2.56449 18.9191 2.12405 18.4758C1.68361 18.0325 1.36732 17.4813 1.20683 16.8774C0.613281 14.6484 0.613281 10 0.613281 10C0.613281 10 0.613281 5.35161 1.20683 3.12258C1.36732 2.51866 1.68361 1.96749 2.12405 1.52422C2.56449 1.08095 3.11363 0.76113 3.71651 0.596774C5.93586 0 14.8068 0 14.8068 0C14.8068 0 23.6778 0 25.8972 0.596774C26.5 0.76113 27.0492 1.08095 27.4896 1.52422ZM19.3229 10L11.9036 5.77905V14.221L19.3229 10Z"],["xmlns","http://www.w3.org/2000/svg","height","14","viewBox","0 -960 960 960","width","14","fill","currentColor"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"]],template:function(t,r){t&1&&(Tt(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),Xu("click",function(){return r.testFirestore()}),el(5,"Se connecter"),Ut(),Kp(6,nj,5,2,"a",5,tj),Ut(),Tt(8,"div",6)(9,"a",7),jr(),Tt(10,"svg",8),en(11,"path",9),Ut()(),zi(),Tt(12,"a",10),jr(),Tt(13,"svg",11),en(14,"path",12),Ut()(),zi(),Tt(15,"a",13),jr(),Tt(16,"svg",14),en(17,"path",15),Ut()()()()()(),zi(),en(18,"router-outlet")),t&2&&(Hu(6),Qp(Jp(6,ej,rr(0,KV),rr(1,QV),rr(2,YV),rr(3,JV),rr(4,ZV),rr(5,XV))))},dependencies:[ba],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--gray-900);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;padding:1rem;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none;white-space:nowrap}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--electric-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+6){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}}']})};mg(Gd,XD).catch(n=>console.error(n));
