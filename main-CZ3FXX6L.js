var u0=Object.defineProperty,l0=Object.defineProperties;var d0=Object.getOwnPropertyDescriptors;var MI=Object.getOwnPropertySymbols;var h0=Object.prototype.hasOwnProperty,f0=Object.prototype.propertyIsEnumerable;var kI=(t,e,n)=>e in t?u0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})h0.call(e,n)&&kI(t,n,e[n]);if(MI)for(var n of MI(e))f0.call(e,n)&&kI(t,n,e[n]);return t},fe=(t,e)=>l0(t,d0(e));var b=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});var Wh;function qc(){return Wh}function Yt(t){let e=Wh;return Wh=t,e}var xI=Symbol("NotFound");function Ni(t){return t===xI||t?.name==="\u0275NotFound"}var nt=null,Wc=!1,Gh=1,p0=null,ft=Symbol("SIGNAL");function Y(t){let e=nt;return nt=t,e}function Kc(){return nt}var As={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ds(t){if(Wc)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(t);let e=nt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=nt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:nt.producers,n!==void 0&&n.producer===t)){nt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===nt&&(!r||m0(i,nt)))return;let o=Pi(nt),s={producer:t,consumer:nt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};nt.producersTail=s,e!==void 0?e.nextProducer=s:nt.producers=s,o&&VI(t,s)}function OI(){Gh++}function Kh(t){if(!(Pi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Gh)){if(!t.producerMustRecompute(t)&&!Ns(t)){Gc(t);return}t.producerRecomputeValue(t),Gc(t)}}function Qh(t){if(t.consumers===void 0)return;let e=Wc;Wc=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||g0(r)}}finally{Wc=e}}function Yh(){return nt?.consumerAllowSignalWrites!==!1}function g0(t){t.dirty=!0,Qh(t),t.consumerMarkedDirty?.(t)}function Gc(t){t.dirty=!1,t.lastCleanEpoch=Gh}function Rs(t){return t&&LI(t),Y(t)}function LI(t){t.producersTail=void 0,t.recomputing=!0}function Qc(t,e){Y(e),t&&FI(t)}function FI(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Pi(t))do n=Jh(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Ns(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Kh(n),r!==n.version))return!0}return!1}function Ps(t){if(Pi(t)){let e=t.producers;for(;e!==void 0;)e=Jh(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function VI(t,e){let n=t.consumersTail,r=Pi(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)VI(i.producer,i)}function Jh(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Pi(e)){let o=e.producers;for(;o!==void 0;)o=Jh(o)}return n}function Pi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Zh(t){p0?.(t)}function m0(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Xh(t,e){return Object.is(t,e)}function y0(){throw new Error}var jI=y0;function UI(t){jI(t)}function ef(t){jI=t}var v0=null;function tf(t,e){let n=Object.create(Yc);n.value=t,e!==void 0&&(n.equal=e);let r=()=>BI(n);return r[ft]=n,Zh(n),[r,s=>Mi(n,s),s=>nf(n,s)]}function BI(t){return Ds(t),t.value}function Mi(t,e){Yh()||UI(t),t.equal(t.value,e)||(t.value=e,_0(t))}function nf(t,e){Yh()||UI(t),Mi(t,e(t.value))}var Yc=fe(O({},As),{equal:Xh,value:void 0,kind:"signal"});function _0(t){t.version++,OI(),Qh(t),v0?.(t)}function G(t){return typeof t=="function"}function ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Jc=ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Rr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){e=o instanceof Jc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$I(o)}catch(s){e=e??[],s instanceof Jc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Jc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$I(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Rr(n,e)}remove(e){let{_finalizers:n}=this;n&&Rr(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var rf=Se.EMPTY;function Zc(t){return t instanceof Se||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function $I(t){G(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xi={setTimeout(t,e,...n){let{delegate:r}=xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xc(t){xi.setTimeout(()=>{let{onUnhandledError:e}=Ft;if(e)e(t);else throw t})}function Ms(){}var HI=of("C",void 0,void 0);function zI(t){return of("E",void 0,t)}function qI(t){return of("N",t,void 0)}function of(t,e,n){return{kind:t,value:e,error:n}}var Nr=null;function Oi(t){if(Ft.useDeprecatedSynchronousErrorHandling){let e=!Nr;if(e&&(Nr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Nr;if(Nr=null,n)throw r}}else t()}function WI(t){Ft.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=t)}var Pr=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zc(e)&&e.add(this)):this.destination=w0}static create(e,n,r){return new Li(e,n,r)}next(e){this.isStopped?af(qI(e),this):this._next(e)}error(e){this.isStopped?af(zI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?af(HI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},I0=Function.prototype.bind;function sf(t,e){return I0.call(t,e)}var cf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){eu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){eu(r)}else eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){eu(n)}}},Li=class extends Pr{constructor(e,n,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ft.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sf(e.next,o),error:e.error&&sf(e.error,o),complete:e.complete&&sf(e.complete,o)}):i=e}this.destination=new cf(i)}};function eu(t){Ft.useDeprecatedSynchronousErrorHandling?WI(t):Xc(t)}function E0(t){throw t}function af(t,e){let{onStoppedNotification:n}=Ft;n&&xi.setTimeout(()=>n(t,e))}var w0={closed:!0,next:Ms,error:E0,complete:Ms};var Fi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function uf(...t){return lf(t)}function lf(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=b0(n)?n:new Li(n,r,i);return Oi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=GI(r),new r((i,o)=>{let s=new Li({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fi](){return this}pipe(...n){return lf(n)(this)}toPromise(n){return n=GI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function GI(t){var e;return(e=t??Ft.Promise)!==null&&e!==void 0?e:Promise}function T0(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function b0(t){return t&&t instanceof Pr||T0(t)&&Zc(t)}function df(t){return G(t?.lift)}function re(t){return e=>{if(df(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new hf(t,e,n,r,i)}var hf=class extends Pr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vi(){return re((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ji=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,df(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return Vi()(this)}};var KI=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new tu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new KI}next(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?rf:(this.currentObservers=null,o.push(n),new Se(()=>{this.currentObservers=null,Rr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new tu(e,n),t})(),tu=class extends Ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:rf}};var Je=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ff={now(){return(ff.delegate||Date).now()},delegate:void 0};var nu=class extends Se{constructor(e,n){super()}schedule(e,n=0){return this}};var ks={setInterval(t,e,...n){let{delegate:r}=ks;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ks;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ui=class extends nu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ks.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ks.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Bi.now=ff.now;var $i=class extends Bi{constructor(e,n=Bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var pf=new $i(Ui);var ru=class extends Ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var iu=class extends $i{};var gf=new iu(ru);var pt=new ee(t=>t.complete());function QI(t){return t&&G(t.schedule)}function YI(t){return t[t.length-1]}function JI(t){return G(YI(t))?t.pop():void 0}function Gn(t){return QI(YI(t))?t.pop():void 0}function mf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function XI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function ZI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mr(t){return this instanceof Mr?(this.v=t,this):new Mr(t)}function eE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(D){return Promise.resolve(D).then(y,p)}}function c(y,D){r[y]&&(i[y]=function(N){return new Promise(function(R,F){o.push([y,N,R,F])>1||u(y,N)})},D&&(i[y]=D(i[y])))}function u(y,D){try{l(r[y](D))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof Mr?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,D){y(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function tE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ZI=="function"?ZI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var ou=t=>t&&typeof t.length=="number"&&typeof t!="function";function su(t){return G(t?.then)}function au(t){return G(t[Fi])}function cu(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function uu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function S0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lu=S0();function du(t){return G(t?.[lu])}function hu(t){return eE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Mr(n.read());if(i)return yield Mr(void 0);yield yield Mr(r)}}finally{n.releaseLock()}})}function fu(t){return G(t?.getReader)}function Ue(t){if(t instanceof ee)return t;if(t!=null){if(au(t))return C0(t);if(ou(t))return A0(t);if(su(t))return D0(t);if(cu(t))return nE(t);if(du(t))return R0(t);if(fu(t))return N0(t)}throw uu(t)}function C0(t){return new ee(e=>{let n=t[Fi]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function A0(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function D0(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xc)})}function R0(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function nE(t){return new ee(e=>{P0(t,e).catch(n=>e.error(n))})}function N0(t){return nE(hu(t))}function P0(t,e){var n,r,i,o;return XI(this,void 0,void 0,function*(){try{for(n=tE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function gt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Kn(t,e=0){return re((n,r)=>{n.subscribe(ie(r,i=>gt(r,t,()=>r.next(i),e),()=>gt(r,t,()=>r.complete(),e),i=>gt(r,t,()=>r.error(i),e)))})}function Qn(t,e=0){return re((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function rE(t,e){return Ue(t).pipe(Qn(e),Kn(e))}function iE(t,e){return Ue(t).pipe(Qn(e),Kn(e))}function oE(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function sE(t,e){return new ee(n=>{let r;return gt(n,e,()=>{r=t[lu](),gt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function pu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{gt(n,e,()=>{let r=t[Symbol.asyncIterator]();gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function aE(t,e){return pu(hu(t),e)}function cE(t,e){if(t!=null){if(au(t))return rE(t,e);if(ou(t))return oE(t,e);if(su(t))return iE(t,e);if(cu(t))return pu(t,e);if(du(t))return sE(t,e);if(fu(t))return aE(t,e)}throw uu(t)}function Ne(t,e){return e?cE(t,e):Ue(t)}function z(...t){let e=Gn(t);return Ne(t,e)}function Hi(t,e){let n=G(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function yf(t){return!!t&&(t instanceof ee||G(t.lift)&&G(t.subscribe))}var vn=ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return re((n,r)=>{let i=0;n.subscribe(ie(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:M0}=Array;function k0(t,e){return M0(e)?t(...e):t(e)}function uE(t){return oe(e=>k0(t,e))}var{isArray:x0}=Array,{getPrototypeOf:O0,prototype:L0,keys:F0}=Object;function lE(t){if(t.length===1){let e=t[0];if(x0(e))return{args:e,keys:null};if(V0(e)){let n=F0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function V0(t){return t&&typeof t=="object"&&O0(t)===L0}function dE(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function gu(...t){let e=Gn(t),n=JI(t),{args:r,keys:i}=lE(t);if(r.length===0)return Ne([],e);let o=new ee(j0(r,e,i?s=>dE(i,s):Et));return n?o.pipe(uE(n)):o}function j0(t,e,n=Et){return r=>{hE(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)hE(e,()=>{let l=Ne(t[u],e),f=!1;l.subscribe(ie(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hE(t,e,n){t?gt(n,t,e):e()}function fE(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?D(N):u.push(N),D=N=>{o&&e.next(N),l++;let R=!1;Ue(n(N,f++)).subscribe(ie(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?gt(e,s,()=>D(F)):D(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ie(e,y,()=>{p=!0,m()})),()=>{c?.()}}function xe(t,e,n=1/0){return G(e)?xe((r,i)=>oe((o,s)=>e(r,o,i,s))(Ue(t(r,i))),n):(typeof e=="number"&&(n=e),re((r,i)=>fE(r,i,t,n)))}function pE(t=1/0){return xe(Et,t)}function gE(){return pE(1)}function zi(...t){return gE()(Ne(t,Gn(t)))}function xs(t){return new ee(e=>{Ue(t()).subscribe(e)})}function Nt(t,e){return re((n,r)=>{let i=0;n.subscribe(ie(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Yn(t){return re((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ie(n,void 0,void 0,s=>{o=Ue(t(s,Yn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function mE(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(ie(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function qi(t,e){return G(e)?xe(t,e,1):xe(t,1)}function Jn(t){return re((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _n(t){return t<=0?()=>pt:re((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function mu(t=U0){return re((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function U0(){return new vn}function Os(t){return re((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function In(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Nt((i,o)=>t(i,o,r)):Et,_n(1),n?Jn(e):mu(()=>new vn))}function Wi(t){return t<=0?()=>pt:re((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function vf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Nt((i,o)=>t(i,o,r)):Et,Wi(1),n?Jn(e):mu(()=>new vn))}function _f(t,e){return re(mE(t,e,arguments.length>=2,!0))}function If(...t){let e=Gn(t);return re((n,r)=>{(e?zi(t,n,e):zi(t,n)).subscribe(r)})}function mt(t,e){return re((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,f=o++;Ue(t(u,f)).subscribe(i=ie(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function yu(t){return re((e,n)=>{Ue(t).subscribe(ie(n,()=>n.complete(),Ms)),!n.closed&&e.subscribe(n)})}function Be(t,e,n){let r=G(t)||e||n?{next:t,error:e,complete:n}:t;return r?re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ie(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Et}function yE(t){let e=Y(null);try{return t()}finally{Y(e)}}var Ki=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},kf=new Ki("20.3.9");var wu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super(js(e,n)),this.code=e}};function B0(t){return`NG0${Math.abs(t)}`}function js(t,e){return`${B0(t)}${e?": "+e:""}`}function pe(t){for(let e in t)if(t[e]===pe)return e;throw Error("")}function Zn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Zn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function xf(t,e){return t?e?`${t} ${e}`:t:e||""}var $0=pe({__forward_ref__:pe});function Tu(t){return t.__forward_ref__=Tu,t.toString=function(){return Zn(this())},t}function yt(t){return Of(t)?t():t}function Of(t){return typeof t=="function"&&t.hasOwnProperty($0)&&t.__forward_ref__===Tu}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Us(t){return H0(t,bu)}function Lf(t){return Us(t)!==null}function H0(t,e){return t.hasOwnProperty(e)&&t[e]||null}function z0(t){let e=t?.[bu]??null;return e||null}function wf(t){return t&&t.hasOwnProperty(_u)?t[_u]:null}var bu=pe({\u0275prov:pe}),_u=pe({\u0275inj:pe}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ff(t){return t&&!!t.\u0275providers}var Vf=pe({\u0275cmp:pe}),jf=pe({\u0275dir:pe}),Uf=pe({\u0275pipe:pe}),Bf=pe({\u0275mod:pe}),Fs=pe({\u0275fac:pe}),Vr=pe({__NG_ELEMENT_ID__:pe}),_E=pe({__NG_ENV_ID__:pe});function Su(t){return typeof t=="string"?t:t==null?"":String(t)}function EE(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Su(t)}var wE=pe({ngErrorCode:pe}),q0=pe({ngErrorMessage:pe}),W0=pe({ngTokenPath:pe});function $f(t,e){return TE("",-200,e)}function Cu(t,e){throw new j(-201,!1)}function TE(t,e,n){let r=new j(e,t);return r[wE]=e,r[q0]=t,n&&(r[W0]=n),r}function G0(t){return t[wE]}var Tf;function bE(){return Tf}function wt(t){let e=Tf;return Tf=t,e}function Hf(t,e,n){let r=Us(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Cu(t,"Injector")}var K0={},kr=K0,bf="__NG_DI_FLAG__",Sf=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=xr(n)||0;try{return this.injector.get(e,r&8?null:kr,r)}catch(i){if(Ni(i))return i;throw i}}};function Q0(t,e=0){let n=qc();if(n===void 0)throw new j(-203,!1);if(n===null)return Hf(t,void 0,e);{let r=Y0(e),i=n.retrieve(t,r);if(Ni(i)){if(r.optional)return null;throw i}return i}}function X(t,e=0){return(bE()||Q0)(yt(t),e)}function M(t,e){return X(t,xr(e))}function xr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Y0(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Cf(t){let e=[];for(let n=0;n<t.length;n++){let r=yt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=J0(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(X(i,o))}else e.push(X(r))}return e}function SE(t,e){return t[bf]=e,t.prototype[bf]=e,t}function J0(t){return t[bf]}function Or(t,e){let n=t.hasOwnProperty(Fs);return n?t[Fs]:null}function Au(t,e){t.forEach(n=>Array.isArray(n)?Au(n,e):e(n))}function zf(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var jr={},Lr=[],wn=new U(""),qf=new U("",-1),Wf=new U(""),Vs=class{get(e,n=kr){if(n===kr){let i=TE("",-201);throw i.name="\u0275NotFound",i}return n}};function Gf(t){return t[Bf]||null}function tr(t){return t[Vf]||null}function Kf(t){return t[jf]||null}function CE(t){return t[Uf]||null}function Vt(t){return{\u0275providers:t}}function AE(t){return Vt([{provide:wn,multi:!0,useValue:t}])}function DE(...t){return{\u0275providers:Qf(!0,t),\u0275fromNgModule:!0}}function Qf(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Au(e,s=>{let c=s;Iu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&RE(i,o),n}function RE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Yf(i,o=>{e(o,r)})}}function Iu(t,e,n,r){if(t=yt(t),!t)return!1;let i=null,o=wf(t),s=!o&&tr(t);if(!o&&!s){let u=t.ngModule;if(o=wf(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Iu(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Au(o.imports,f=>{Iu(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&RE(l,e)}if(!c){let l=Or(i)||(()=>new i);e({provide:i,useFactory:l,deps:Lr},i),e({provide:Wf,useValue:i,multi:!0},i),e({provide:wn,useValue:()=>X(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;Yf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Yf(t,e){for(let n of t)Ff(n)&&(n=n.\u0275providers),Array.isArray(n)?Yf(n,e):e(n)}var Z0=pe({provide:String,useValue:pe});function NE(t){return t!==null&&typeof t=="object"&&Z0 in t}function X0(t){return!!(t&&t.useExisting)}function eN(t){return!!(t&&t.useFactory)}function Eu(t){return typeof t=="function"}var $s=new U(""),vu={},IE={},Ef;function Hs(){return Ef===void 0&&(Ef=new Vs),Ef}var Oe=class{},Fr=class extends Oe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Df(e,s=>this.processProvider(s)),this.records.set(qf,Gi(void 0,this)),i.has("environment")&&this.records.set(Oe,Gi(void 0,this));let o=this.records.get($s);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Wf,Lr,{self:!0}))}retrieve(e,n){let r=xr(n)||0;try{return this.get(e,kr,r)}catch(i){if(Ni(i))return i;throw i}}destroy(){Ls(this),this._destroyed=!0;let e=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(e)}}onDestroy(e){return Ls(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ls(this);let n=Yt(this),r=wt(void 0),i;try{return e()}finally{Yt(n),wt(r)}}get(e,n=kr,r){if(Ls(this),e.hasOwnProperty(_E))return e[_E](this);let i=xr(r),o,s=Yt(this),c=wt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=oN(e)&&Us(e);f&&this.injectableDefInScope(f)?l=Gi(Af(e),vu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Hs():this.parent;return n=i&8&&n===kr?null:n,u.get(e,n)}catch(u){let l=G0(u);throw l===-200||l===-201?new j(l,null):u}finally{wt(c),Yt(s)}}resolveInjectorInitializers(){let e=Y(null),n=Yt(this),r=wt(void 0),i;try{let o=this.get(wn,Lr,{self:!0});for(let s of o)s()}finally{Yt(n),wt(r),Y(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Zn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=yt(e);let n=Eu(e)?e:yt(e&&e.provide),r=nN(e);if(!Eu(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Gi(void 0,vu,!0),i.factory=()=>Cf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Y(null);try{if(n.value===IE)throw $f(Zn(e));return n.value===vu&&(n.value=IE,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&iN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Y(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=yt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Af(t){let e=Us(t),n=e!==null?e.factory:Or(t);if(n!==null)return n;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return tN(t);throw new j(204,!1)}function tN(t){if(t.length>0)throw new j(204,!1);let n=z0(t);return n!==null?()=>n.factory(t):()=>new t}function nN(t){if(NE(t))return Gi(void 0,t.useValue);{let e=PE(t);return Gi(e,vu)}}function PE(t,e,n){let r;if(Eu(t)){let i=yt(t);return Or(i)||Af(i)}else if(NE(t))r=()=>yt(t.useValue);else if(eN(t))r=()=>t.useFactory(...Cf(t.deps||[]));else if(X0(t))r=(i,o)=>X(yt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=yt(t&&(t.useClass||t.provide));if(rN(t))r=()=>new i(...Cf(t.deps));else return Or(i)||Af(i)}return r}function Ls(t){if(t.destroyed)throw new j(205,!1)}function Gi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function rN(t){return!!t.deps}function iN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function oN(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Df(t,e){for(let n of t)Array.isArray(n)?Df(n,e):n&&Ff(n)?Df(n.\u0275providers,e):e(n)}function Le(t,e){let n;t instanceof Fr?(Ls(t),n=t):n=new Sf(t);let r,i=Yt(n),o=wt(void 0);try{return e()}finally{Yt(i),wt(o)}}function ME(){return bE()!==void 0||qc()!=null}var jt=0,Q=1,K=2,$e=3,Pt=4,Mt=5,Qi=6,Yi=7,He=8,nr=9,Zt=10,ze=11,Ji=12,Jf=13,Zi=14,Tt=15,Ur=16,Br=17,$r=18,zs=19,Zf=20,En=21,Du=22,qs=23,bt=24,Ru=25,Hr=26,vt=27,kE=1,Xf=6,rr=7,Ws=8,Gs=9,Fe=10;function Tn(t){return Array.isArray(t)&&typeof t[kE]=="object"}function Ut(t){return Array.isArray(t)&&t[kE]===!0}function ep(t){return(t.flags&4)!==0}function ir(t){return t.componentOffset>-1}function Nu(t){return(t.flags&1)===1}function zr(t){return!!t.template}function Xi(t){return(t[K]&512)!==0}function qr(t){return(t[K]&256)===256}var tp="svg",xE="math";function kt(t){for(;Array.isArray(t);)t=t[jt];return t}function OE(t,e){return kt(e[t])}function Xt(t,e){return kt(e[t.index])}function Ks(t,e){return t.data[e]}function Bt(t,e){let n=e[t];return Tn(n)?n:n[jt]}function Pu(t){return(t[K]&128)===128}function LE(t){return Ut(t[$e])}function eo(t,e){return e==null?null:t[e]}function np(t){t[Br]=0}function rp(t){t[K]&1024||(t[K]|=1024,Pu(t)&&Ys(t))}function Qs(t){return!!(t[K]&9216||t[bt]?.dirty)}function Mu(t){t[Zt].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),Qs(t)&&Ys(t)}function Ys(t){t[Zt].changeDetectionScheduler?.notify(0);let e=Xn(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Pu(e)));)e=Xn(e)}function ip(t,e){if(qr(t))throw new j(911,!1);t[En]===null&&(t[En]=[]),t[En].push(e)}function FE(t,e){if(t[En]===null)return;let n=t[En].indexOf(e);n!==-1&&t[En].splice(n,1)}function Xn(t){let e=t[$e];return Ut(e)?e[$e]:e}function VE(t){return t[Yi]??=[]}function jE(t){return t.cleanup??=[]}var ce={lFrame:ew(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Rf=!1;function UE(){return ce.lFrame.elementDepthCount}function BE(){ce.lFrame.elementDepthCount++}function $E(){ce.lFrame.elementDepthCount--}function HE(){return ce.bindingsEnabled}function zE(){return ce.skipHydrationRootTNode!==null}function qE(t){return ce.skipHydrationRootTNode===t}function WE(){ce.skipHydrationRootTNode=null}function Ce(){return ce.lFrame.lView}function Wr(){return ce.lFrame.tView}function en(){let t=op();for(;t!==null&&t.type===64;)t=t.parent;return t}function op(){return ce.lFrame.currentTNode}function GE(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function to(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function sp(){return ce.lFrame.isParent}function KE(){ce.lFrame.isParent=!1}function ap(){return Rf}function cp(t){let e=Rf;return Rf=t,e}function up(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function QE(t){return ce.lFrame.bindingIndex=t}function ku(){return ce.lFrame.bindingIndex++}function YE(){return ce.lFrame.inI18n}function JE(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,xu(e)}function ZE(){return ce.lFrame.currentDirectiveIndex}function xu(t){ce.lFrame.currentDirectiveIndex=t}function lp(t){ce.lFrame.currentQueryIndex=t}function sN(t){let e=t[Q];return e.type===2?e.declTNode:e.type===1?t[Mt]:null}function dp(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=sN(o),i===null||(o=o[Zi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ce.lFrame=XE();return r.currentTNode=e,r.lView=t,!0}function Ou(t){let e=XE(),n=t[Q];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function XE(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?ew(t):e}function ew(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function tw(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hp=tw;function Lu(){let t=tw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Js(){return ce.lFrame.selectedIndex}function or(t){ce.lFrame.selectedIndex=t}function nw(){let t=ce.lFrame;return Ks(t.tView,t.selectedIndex)}function Gr(){ce.lFrame.currentNamespace=tp}function no(){aN()}function aN(){ce.lFrame.currentNamespace=null}function rw(){return ce.lFrame.currentNamespace}var iw=!0;function Fu(){return iw}function Vu(t){iw=t}function Nf(t,e=null,n=null,r){let i=fp(t,e,n,r);return i.resolveInjectorInitializers(),i}function fp(t,e=null,n=null,r,i=new Set){let o=[n||Lr,DE(t)];return r=r||(typeof t=="object"?void 0:Zn(t)),new Fr(o,e||Hs(),r||null,i)}var rt=class t{static THROW_IF_NOT_FOUND=kr;static NULL=new Vs;static create(e,n){if(Array.isArray(e))return Nf({name:""},n,e,"");{let r=e.name??"";return Nf({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>X(qf)});static __NG_ELEMENT_ID__=-1},qe=new U(""),sr=(()=>{class t{static __NG_ELEMENT_ID__=cN;static __NG_ENV_ID__=n=>n}return t})(),Pf=class extends sr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return qr(this._lView)}onDestroy(e){let n=this._lView;return ip(n,e),()=>FE(n,e)}};function cN(){return new Pf(Ce())}var Jt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},St=new U("",{providedIn:"root",factory:()=>{let t=M(Oe),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Jt),e.handleError(n))}}}),ow={provide:wn,useValue:()=>void M(Jt),multi:!0},uN=new U("",{providedIn:"root",factory:()=>{let t=M(qe).defaultView;if(!t)return;let e=M(St),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),M(sr).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function pp(){return Vt([AE(()=>void M(uN))])}function ar(t,e){let[n,r,i]=tf(t,e?.equal),o=n,s=o[ft];return o.set=r,o.update=i,o.asReadonly=sw.bind(o),o}function sw(){let t=this[ft];if(t.readonlyFn===void 0){let e=()=>this();e[ft]=t,t.readonlyFn=e}return t.readonlyFn}var er=class{},Zs=new U("",{providedIn:"root",factory:()=>!1});var gp=new U(""),mp=new U(""),tn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Je(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),ro=(()=>{class t{internalPendingTasks=M(tn);scheduler=M(er);errorHandler=M(St);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xs(...t){}var yp=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new Mf})}return t})(),Mf=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function aa(t){return{toString:t}.toString()}var ju="__parameters__";function IN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function EN(t,e,n){return aa(()=>{let r=IN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(ju)?u[ju]:Object.defineProperty(u,ju,{value:[]})[ju];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Sn=SE(EN("Optional"),8);function wN(t){return typeof t=="function"}var Hu=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Uw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Wp=(()=>{let t=()=>Bw;return t.ngInherit=!0,t})();function Bw(t){return t.type.prototype.ngOnChanges&&(t.setInput=bN),TN}function TN(){let t=Hw(this),e=t?.current;if(e){let n=t.previous;if(n===jr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function bN(t,e,n,r,i){let o=this.declaredInputs[r],s=Hw(t)||SN(t,{previous:jr,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Hu(l&&l.currentValue,n,u===jr),Uw(t,e,i,n)}var $w="__ngSimpleChanges__";function Hw(t){return t[$w]||null}function SN(t,e){return t[$w]=e}var aw=[];var ve=function(t,e=null,n){for(let r=0;r<aw.length;r++){let i=aw[r];i(t,e,n)}};function CN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Bw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function AN(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Uu(t,e,n){zw(t,e,3,n)}function Bu(t,e,n,r){(t[K]&3)===n&&zw(t,e,n,r)}function vp(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function zw(t,e,n,r){let i=r!==void 0?t[Br]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Br]+=65536),(c<o||o==-1)&&(DN(t,n,e,u),t[Br]=(t[Br]&4294901760)+u+2),u++}function cw(t,e){ve(4,t,e);let n=Y(null);try{e.call(t)}finally{Y(n),ve(5,t,e)}}function DN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[K]>>14<t[Br]>>16&&(t[K]&3)===e&&(t[K]+=16384,cw(c,o)):cw(c,o)}var oo=-1,na=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function RN(t){return(t.flags&8)!==0}function NN(t){return(t.flags&16)!==0}function PN(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];kN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function MN(t){return t===3||t===4||t===6}function kN(t){return t.charCodeAt(0)===64}function Gp(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?uw(t,n,i,null,e[++r]):uw(t,n,i,null,null))}}return t}function uw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function qw(t){return t!==oo}function zu(t){return t&32767}function xN(t){return t>>16}function qu(t,e){let n=xN(t),r=e;for(;n>0;)r=r[Zi],n--;return r}var bp=!0;function lw(t){let e=bp;return bp=t,e}var ON=256,Ww=ON-1,Gw=5,LN=0,nn={};function FN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vr)&&(r=n[Vr]),r==null&&(r=n[Vr]=LN++);let i=r&Ww,o=1<<i;e.data[t+(i>>Gw)]|=o}function Kw(t,e){let n=Qw(t,e);if(n!==-1)return n;let r=e[Q];r.firstCreatePass&&(t.injectorIndex=e.length,_p(r.data,t),_p(e,null),_p(r.blueprint,null));let i=Kp(t,e),o=t.injectorIndex;if(qw(i)){let s=zu(i),c=qu(i,e),u=c[Q].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function _p(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Qw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Kp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=eT(i),r===null)return oo;if(n++,i=i[Zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return oo}function VN(t,e,n){FN(t,e,n)}function Yw(t,e,n){if(n&8||t!==void 0)return t;Cu(e,"NodeInjector")}function Jw(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[nr],o=wt(void 0);try{return i?i.get(e,r,n&8):Hf(e,r,n&8)}finally{wt(o)}}return Yw(r,e,n)}function Zw(t,e,n,r=0,i){if(t!==null){if(e[K]&2048&&!(r&2)){let s=HN(t,e,n,r,nn);if(s!==nn)return s}let o=Xw(t,e,n,r,nn);if(o!==nn)return o}return Jw(e,n,r,i)}function Xw(t,e,n,r,i){let o=BN(n);if(typeof o=="function"){if(!dp(e,t,r))return r&1?Yw(i,n,r):Jw(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Cu(n);else return s}finally{hp()}}else if(typeof o=="number"){let s=null,c=Qw(t,e),u=oo,l=r&1?e[Tt][Mt]:null;for((c===-1||r&4)&&(u=c===-1?Kp(t,e):e[c+8],u===oo||!hw(r,!1)?c=-1:(s=e[Q],c=zu(u),e=qu(u,e)));c!==-1;){let f=e[Q];if(dw(o,c,f.data)){let p=jN(c,e,n,s,r,l);if(p!==nn)return p}u=e[c+8],u!==oo&&hw(r,e[Q].data[c+8]===l)&&dw(o,c,e)?(s=f,c=zu(u),e=qu(u,e)):c=-1}}return i}function jN(t,e,n,r,i,o){let s=e[Q],c=s.data[t+8],u=r==null?ir(c)&&bp:r!=s&&(c.type&3)!==0,l=i&1&&o===c,f=UN(c,s,n,u,l);return f!==null?Sp(e,s,f,c,i):nn}function UN(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let y=p;y<m;y++){let D=s[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){let y=s[u];if(y&&zr(y)&&y.type===n)return u}return null}function Sp(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof na){let c=o;if(c.resolving){let y=EE(s[n]);throw $f(y)}let u=lw(c.canSeeViewProviders);c.resolving=!0;let l=s[n].type||s[n],f,p=c.injectImpl?wt(c.injectImpl):null,m=dp(t,r,0);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&CN(n,s[n],e)}finally{p!==null&&wt(p),lw(u),c.resolving=!1,hp()}}return o}function BN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vr)?t[Vr]:void 0;return typeof e=="number"?e>=0?e&Ww:$N:e}function dw(t,e,n){let r=1<<t;return!!(n[e+(t>>Gw)]&r)}function hw(t,e){return!(t&2)&&!(t&1&&e)}var Kr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Zw(this._tNode,this._lView,e,xr(r),n)}};function $N(){return new Kr(en(),Ce())}function rl(t){return aa(()=>{let e=t.prototype.constructor,n=e[Fs]||Cp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Fs]||Cp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cp(t){return Of(t)?()=>{let e=Cp(yt(t));return e&&e()}:Or(t)}function HN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!Xi(s);){let c=Xw(o,s,n,r|2,nn);if(c!==nn)return c;let u=o.parent;if(!u){let l=s[Zf];if(l){let f=l.get(n,nn,r);if(f!==nn)return f}u=eT(s),s=s[Zi]}o=u}return i}function eT(t){let e=t[Q],n=e.type;return n===2?e.declTNode:n===1?t[Mt]:null}function zN(){return Qp(en(),Ce())}function Qp(t,e){return new tT(Xt(t,e))}var tT=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=zN}return t})();function nT(t){return(t.flags&128)===128}var Yp=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Yp||{}),rT=new Map,qN=0;function WN(){return qN++}function GN(t){rT.set(t[zs],t)}function Ap(t){rT.delete(t[zs])}var fw="__ngContext__";function so(t,e){Tn(e)?(t[fw]=e[zs],GN(e)):t[fw]=e}function iT(t){return sT(t[Ji])}function oT(t){return sT(t[Pt])}function sT(t){for(;t!==null&&!Ut(t);)t=t[Pt];return t}var Dp;function Jp(t){Dp=t}function aT(){if(Dp!==void 0)return Dp;if(typeof document<"u")return document;throw new j(210,!1)}var il=new U("",{providedIn:"root",factory:()=>KN}),KN="ng",ol=new U(""),cr=new U("",{providedIn:"platform",factory:()=>"unknown"});var sl=new U("",{providedIn:"root",factory:()=>aT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QN="h",YN="b";var cT="r";var uT="di";var lT=!1,dT=new U("",{providedIn:"root",factory:()=>lT});var JN=(t,e,n,r)=>{};function ZN(t,e,n,r){JN(t,e,n,r)}function Zp(t){return(t.flags&32)===32}var XN=()=>null;function hT(t,e,n=!1){return XN(t,e,n)}function fT(t,e){let n=t.contentQueries;if(n!==null){let r=Y(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];lp(o),c.contentQueries(2,e[s],s)}}}finally{Y(r)}}}function Rp(t,e,n){lp(0);let r=Y(null);try{e(t,n)}finally{Y(r)}}function pT(t,e,n){if(ep(e)){let r=Y(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{Y(r)}}}var bn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(bn||{});var Wu=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wu})`}};function gT(t){return t instanceof Wu?t.changingThisBreaksApplicationSecurity:t}function mT(t,e){let n=yT(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${wu})`)}return n===e}function yT(t){return t instanceof Wu&&t.getTypeName()||null}var eP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vT(t){return t=String(t),t.match(eP)?t:"unsafe:"+t}var Xp=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Xp||{});function eg(t){let e=tP();return e?e.sanitize(Xp.URL,t)||"":mT(t,"URL")?gT(t):vT(Su(t))}function tP(){let t=Ce();return t&&t[Zt].sanitizer}function _T(t){return t instanceof Function?t():t}function nP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var IT="ng-template";function rP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&nP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(tg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function tg(t){return t.type===4&&t.value!==IT}function iP(t,e,n){let r=t.type===4&&!n?IT:t.value;return e===r}function oP(t,e,n){let r=4,i=t.attrs,o=i!==null?cP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!$t(r)&&!$t(u))return!1;if(s&&$t(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!iP(t,u,n)||u===""&&e.length===1){if($t(r))return!1;s=!0}}else if(r&8){if(i===null||!rP(t,i,u,n)){if($t(r))return!1;s=!0}}else{let l=e[++c],f=sP(u,i,tg(t),n);if(f===-1){if($t(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if($t(r))return!1;s=!0}}}}return $t(r)||s}function $t(t){return(t&1)===0}function sP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return uP(e,t)}function aP(t,e,n=!1){for(let r=0;r<e.length;r++)if(oP(t,e[r],n))return!0;return!1}function cP(t){for(let e=0;e<t.length;e++){let n=t[e];if(MN(n))return e}return t.length}function uP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function pw(t,e){return t?":not("+e.trim()+")":e}function lP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$t(s)&&(e+=pw(o,i),i=""),r=s,o=o||!$t(r);n++}return i!==""&&(e+=pw(o,i)),e}function dP(t){return t.map(lP).join(",")}function hP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!$t(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Jr={};function fP(t,e){return t.createText(e)}function pP(t,e,n){t.setValue(e,n)}function ET(t,e,n){return t.createElement(e,n)}function Gu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function wT(t,e,n){t.appendChild(e,n)}function gw(t,e,n,r,i){r!==null?Gu(t,e,n,r,i):wT(t,e,n)}function TT(t,e,n,r){t.removeChild(null,e,n,r)}function gP(t,e,n){t.setAttribute(e,"style",n)}function mP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function bT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&PN(t,e,r),i!==null&&mP(t,e,i),o!==null&&gP(t,e,o)}function ng(t,e,n,r,i,o,s,c,u,l,f){let p=vt+r,m=p+i,y=yP(p,m),D=typeof l=="function"?l():l;return y[Q]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:f}}function yP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Jr);return n}function vP(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ng(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function rg(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[jt]=i,p[K]=r|4|128|8|64|1024,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),np(p),p[$e]=p[Zi]=t,p[He]=n,p[Zt]=s||t&&t[Zt],p[ze]=c||t&&t[ze],p[nr]=u||t&&t[nr]||null,p[Mt]=o,p[zs]=WN(),p[Qi]=f,p[Zf]=l,p[Tt]=e.type==2?t[Tt]:p,p}function _P(t,e,n){let r=Xt(e,t),i=vP(n),o=t[Zt].rendererFactory,s=ig(t,rg(t,i,null,ST(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function ST(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function CT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ig(t,e){return t[Ji]?t[Jf][Pt]=e:t[Ji]=e,t[Jf]=e,e}function al(t=1){AT(Wr(),Ce(),Js()+t,!1)}function AT(t,e,n,r){if(!r)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Uu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Bu(e,o,0,n)}or(n)}var cl=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(cl||{});function Np(t,e,n,r){let i=Y(null);try{let[o,s,c]=t.inputs[n],u=null;(s&cl.SignalBased)!==0&&(u=e[o][ft]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):Uw(e,u,o,r)}finally{Y(i)}}var Zr=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Zr||{}),IP;function og(t,e){return IP(t,e)}var ao=new Set,sg=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(sg||{}),ca=new U(""),mw=new Set;function ua(t){mw.has(t)||(mw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var DT=!1,Pp=class extends Ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ME()&&(this.destroyRef=M(sr,{optional:!0})??void 0,this.pendingTasks=M(tn,{optional:!0})??void 0)}emit(e){let n=Y(null);try{super.next(e)}finally{Y(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ut=Pp;function RT(t){let e,n;function r(){t=Xs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function yw(t){return queueMicrotask(()=>t()),()=>{t=Xs}}var ag="isAngularZone",Ku=ag+"_ID",EP=0,_e=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ut(!1);onMicrotaskEmpty=new ut(!1);onStable=new ut(!1);onError=new ut(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=DT}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,bP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ag)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,wP,Xs,Xs);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},wP={};function cg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function TP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){RT(()=>{t.callbackScheduled=!1,Mp(t),t.isCheckStableRunning=!0,cg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Mp(t)}function bP(t){let e=()=>{TP(t)},n=EP++;t._inner=t._inner.fork({name:"angular",properties:{[ag]:!0,[Ku]:n,[Ku+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(SP(u))return r.invokeTask(o,s,c,u);try{return vw(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),_w(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return vw(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!CP(u)&&e(),_w(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Mp(t),cg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Mp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function vw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _w(t){t._nesting--,cg(t)}var Qu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ut;onMicrotaskEmpty=new ut;onStable=new ut;onError=new ut;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function SP(t){return NT(t,"__ignore_ng_zone__")}function CP(t){return NT(t,"__scheduler_tick__")}function NT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var PT=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();var AP=new U("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function MT(t,e){let n=t.get(AP);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function DP(t,e){for(let[n,r]of e)MT(t,r.animateFns)}function Iw(t,e,n,r){let i=t?.[Hr]?.enter;e!==null&&i&&i.has(n.index)&&DP(r,i)}function io(t,e,n,r,i,o,s,c){if(i!=null){let u,l=!1;Ut(i)?u=i:Tn(i)&&(l=!0,i=i[jt]);let f=kt(i);t===0&&r!==null?(Iw(c,r,o,n),s==null?wT(e,r,f):Gu(e,r,f,s||null,!0)):t===1&&r!==null?(Iw(c,r,o,n),Gu(e,r,f,s||null,!0)):t===2?Ew(c,o,n,p=>{TT(e,f,l,p)}):t===3&&Ew(c,o,n,()=>{e.destroyNode(f)}),u!=null&&BP(e,t,n,u,o,r,s)}}function RP(t,e){kT(t,e),e[jt]=null,e[Mt]=null}function NP(t,e,n,r,i,o){r[jt]=i,r[Mt]=e,ll(t,r,n,1,i,o)}function kT(t,e){e[Zt].changeDetectionScheduler?.notify(9),ll(t,e,e[ze],2,null,null)}function PP(t){let e=t[Ji];if(!e)return Ip(t[Q],t);for(;e;){let n=null;if(Tn(e))n=e[Ji];else{let r=e[Fe];r&&(n=r)}if(!n){for(;e&&!e[Pt]&&e!==t;)Tn(e)&&Ip(e[Q],e),e=e[$e];e===null&&(e=t),Tn(e)&&Ip(e[Q],e),n=e&&e[Pt]}e=n}}function ug(t,e){let n=t[Gs],r=n.indexOf(e);n.splice(r,1)}function ul(t,e){if(qr(e))return;let n=e[ze];n.destroyNode&&ll(t,e,n,3,null,null),PP(e)}function Ip(t,e){if(qr(e))return;let n=Y(null);try{e[K]&=-129,e[K]|=256,e[bt]&&Ps(e[bt]),xP(t,e),kP(t,e),e[Q].type===1&&e[ze].destroy();let r=e[Ur];if(r!==null&&Ut(e[$e])){r!==e[$e]&&ug(r,e);let i=e[$r];i!==null&&i.detachView(t)}Ap(e)}finally{Y(n)}}function Ew(t,e,n,r){let i=t?.[Hr];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);t&&ao.add(t),MT(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s)for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();c.push(f)}i.running=Promise.allSettled(c),MP(t,r)}else t&&ao.delete(t),r(!1)})}function MP(t,e){let n=t[Hr]?.running;if(n){n.then(()=>{t[Hr].running=void 0,ao.delete(t),e(!0)});return}e(!1)}function kP(t,e){let n=t.cleanup,r=e[Yi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Yi]=null);let i=e[En];if(i!==null){e[En]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[qs];if(o!==null){e[qs]=null;for(let s of o)s.destroy()}}function xP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof na)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];ve(4,c,u);try{u.call(c)}finally{ve(5,c,u)}}else{ve(4,i,o);try{o.call(i)}finally{ve(5,i,o)}}}}}function OP(t,e,n){return LP(t,e.parent,n)}function LP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[jt];if(ir(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===bn.None||i===bn.Emulated)return null}return Xt(r,n)}function FP(t,e,n){return jP(t,e,n)}function VP(t,e,n){return t.type&40?Xt(t,n):null}var jP=VP,ww;function lg(t,e,n,r){let i=OP(t,r,e),o=e[ze],s=r.parent||e[Mt],c=FP(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)gw(o,i,n[u],c,!1);else gw(o,i,n,c,!1);ww!==void 0&&ww(o,r,e,n,i)}function ea(t,e){if(e!==null){let n=e.type;if(n&3)return Xt(e,t);if(n&4)return kp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ea(t,r);{let i=t[e.index];return Ut(i)?kp(-1,i):kt(i)}}else{if(n&128)return ea(t,e.next);if(n&32)return og(e,t)()||kt(t[e.index]);{let r=xT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xn(t[Tt]);return ea(i,r)}else return ea(t,e.next)}}}return null}function xT(t,e){if(e!==null){let r=t[Tt][Mt],i=e.projection;return r.projection[i]}return null}function kp(t,e){let n=Fe+t+1;if(n<e.length){let r=e[n],i=r[Q].firstChild;if(i!==null)return ea(r,i)}return e[rr]}function dg(t,e,n,r,i,o,s){for(;n!=null;){let c=r[nr];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&so(kt(u),r),n.flags|=2),!Zp(n))if(l&8)dg(t,e,n.child,r,i,o,!1),io(e,t,c,i,u,n,o,r);else if(l&32){let f=og(n,r),p;for(;p=f();)io(e,t,c,i,p,n,o,r);io(e,t,c,i,u,n,o,r)}else l&16?UP(t,e,r,n,i,o):io(e,t,c,i,u,n,o,r);n=s?n.projectionNext:n.next}}function ll(t,e,n,r,i,o){dg(n,r,t.firstChild,e,i,o,!1)}function UP(t,e,n,r,i,o){let s=n[Tt],u=s[Mt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];io(e,t,n[nr],i,f,r,o,n)}else{let l=u,f=s[$e];nT(r)&&(l.flags|=128),dg(t,e,l,f,i,o,!0)}}function BP(t,e,n,r,i,o,s){let c=r[rr],u=kt(r);c!==u&&io(e,t,n,o,c,i,s);for(let l=Fe;l<r.length;l++){let f=r[l];ll(f[Q],f,t,e,o,c)}}function OT(t,e,n,r,i){let o=Js(),s=r&2;try{or(-1),s&&e.length>vt&&AT(t,e,vt,!1),ve(s?2:0,i,n),n(r,i)}finally{or(o),ve(s?3:1,i,n)}}function LT(t,e,n){QP(t,e,n),(n.flags&64)===64&&YP(t,e,n)}function FT(t,e,n=Xt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function $P(t,e,n,r){let o=r.get(dT,lT)||n===bn.ShadowDom,s=t.selectRootElement(e,o);return HP(s),s}function HP(t){zP(t)}var zP=()=>null;function qP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function WP(t,e,n,r,i,o){let s=e[Q];if(hg(t,s,e,n,r)){ir(t)&&KP(e,t.index);return}t.type&3&&(n=qP(n)),GP(t,e,n,r,i,o)}function GP(t,e,n,r,i,o){if(t.type&3){let s=Xt(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function KP(t,e){let n=Bt(e,t);n[K]&16||(n[K]|=64)}function QP(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ir(n)&&_P(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Kw(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=Sp(e,t,s,n);if(so(u,e),o!==null&&XP(e,s-r,u,c,n,o),zr(c)){let l=Bt(n.index,e);l[He]=Sp(e,t,s,n)}}}function YP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ZE();try{or(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];xu(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&JP(u,l)}}finally{or(-1),xu(s)}}function JP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZP(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];aP(e,o.selectors,!1)&&(r??=[],zr(o)?r.unshift(o):r.push(o))}return r}function XP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Np(r,n,u,l)}}function eM(t,e,n,r,i){let o=vt+n,s=e[Q],c=i(s,e,t,r,n);e[o]=c,to(t,!0);let u=t.type===2;return u?(bT(e[ze],c,t),(UE()===0||Nu(t))&&so(c,e),BE()):so(c,e),Fu()&&(!u||!Zp(t))&&lg(s,e,c,t),t}function tM(t){let e=t;return sp()?KE():(e=e.parent,to(e,!1)),e}function nM(t,e){let n=t[nr];if(!n)return;let r;try{r=n.get(St,null)}catch{r=null}r?.(e)}function hg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Np(p,n[l],f,i),c=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];Np(f,l,r,i),c=!0}return c}function rM(t,e){let n=Bt(e,t),r=n[Q];iM(r,n);let i=n[jt];i!==null&&n[Qi]===null&&(n[Qi]=hT(i,n[nr])),ve(18),fg(r,n,n[He]),ve(19,n[He])}function iM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function fg(t,e,n){Ou(e);try{let r=t.viewQuery;r!==null&&Rp(1,r,n);let i=t.template;i!==null&&OT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[$r]?.finishViewCreation(t),t.staticContentQueries&&fT(t,e),t.staticViewQueries&&Rp(2,t.viewQuery,n);let o=t.components;o!==null&&oM(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,Lu()}}function oM(t,e){for(let n=0;n<e.length;n++)rM(t,e[n])}function VT(t,e,n,r){let i=Y(null);try{let o=e.tView,c=t[K]&4096?4096:16,u=rg(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ur]=l;let f=t[$r];return f!==null&&(u[$r]=f.createEmbeddedView(o)),fg(o,u,n),u}finally{Y(i)}}function Yu(t,e){return!e||e.firstChild===null||nT(t)}function ra(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(kt(o)),Ut(o)&&jT(o,r);let s=n.type;if(s&8)ra(t,e,n.child,r);else if(s&32){let c=og(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=xT(e,n);if(Array.isArray(c))r.push(...c);else{let u=Xn(e[Tt]);ra(u[Q],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function jT(t,e){for(let n=Fe;n<t.length;n++){let r=t[n],i=r[Q].firstChild;i!==null&&ra(r[Q],r,i,e)}t[rr]!==t[jt]&&e.push(t[rr])}function UT(t){if(t[Ru]!==null){for(let e of t[Ru])e.impl.addSequence(e);t[Ru].length=0}}var BT=[];function sM(t){return t[bt]??aM(t)}function aM(t){let e=BT.pop()??Object.create(uM);return e.lView=t,e}function cM(t){t.lView[bt]!==t&&(t.lView=null,BT.push(t))}var uM=fe(O({},As),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ys(t.lView)},consumerOnSignalRead(){this.lView[bt]=this}});function lM(t){let e=t[bt]??Object.create(dM);return e.lView=t,e}var dM=fe(O({},As),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Xn(t.lView);for(;e&&!$T(e[Q]);)e=Xn(e);e&&rp(e)},consumerOnSignalRead(){this.lView[bt]=this}});function $T(t){return t.type!==2}function HT(t){if(t[qs]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[qs])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[K]&8192)}}var hM=100;function zT(t,e=0){let r=t[Zt].rendererFactory,i=!1;i||r.begin?.();try{fM(t,e)}finally{i||r.end?.()}}function fM(t,e){let n=ap();try{cp(!0),xp(t,e);let r=0;for(;Qs(t);){if(r===hM)throw new j(103,!1);r++,xp(t,1)}}finally{cp(n)}}function pM(t,e,n,r){if(qr(e))return;let i=e[K],o=!1,s=!1;Ou(e);let c=!0,u=null,l=null;o||($T(t)?(l=sM(e),u=Rs(l)):Kc()===null?(c=!1,l=lM(e),u=Rs(l)):e[bt]&&(Ps(e[bt]),e[bt]=null));try{np(e),QE(t.bindingStartIndex),n!==null&&OT(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&Uu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Bu(e,y,0,null),vp(e,0)}if(s||gM(e),HT(e),qT(e,0),t.contentQueries!==null&&fT(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&Uu(e,y)}else{let y=t.contentHooks;y!==null&&Bu(e,y,1),vp(e,1)}yM(t,e);let p=t.components;p!==null&&GT(e,p,0);let m=t.viewQuery;if(m!==null&&Rp(2,m,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&Uu(e,y)}else{let y=t.viewHooks;y!==null&&Bu(e,y,2),vp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Du]){for(let y of e[Du])y();e[Du]=null}o||(UT(e),e[K]&=-73)}catch(f){throw o||Ys(e),f}finally{l!==null&&(Qc(l,u),c&&cM(l)),Lu()}}function qT(t,e){for(let n=iT(t);n!==null;n=oT(n))for(let r=Fe;r<n.length;r++){let i=n[r];WT(i,e)}}function gM(t){for(let e=iT(t);e!==null;e=oT(e)){if(!(e[K]&2))continue;let n=e[Gs];for(let r=0;r<n.length;r++){let i=n[r];rp(i)}}}function mM(t,e,n){ve(18);let r=Bt(e,t);WT(r,n),ve(19,r[He])}function WT(t,e){Pu(t)&&xp(t,e)}function xp(t,e){let r=t[Q],i=t[K],o=t[bt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ns(o)),s||=!1,o&&(o.dirty=!1),t[K]&=-9217,s)pM(r,t,r.template,t[He]);else if(i&8192){let c=Y(null);try{HT(t),qT(t,1);let u=r.components;u!==null&&GT(t,u,1),UT(t)}finally{Y(c)}}}function GT(t,e,n){for(let r=0;r<e.length;r++)mM(t,e[r],n)}function yM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)or(~i);else{let o=i,s=n[++r],c=n[++r];JE(s,o);let u=e[o];ve(24,u),c(2,u),ve(25,u)}}}finally{or(-1)}}function pg(t,e){let n=ap()?64:1088;for(t[Zt].changeDetectionScheduler?.notify(e);t;){t[K]|=n;let r=Xn(t);if(Xi(t)&&!r)return t;t=r}return null}function KT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function vM(t,e){let n=Fe+e;if(n<t.length)return t[n]}function gg(t,e,n,r=!0){let i=e[Q];if(IM(i,e,t,n),r){let s=kp(n,t),c=e[ze],u=c.parentNode(t[rr]);u!==null&&NP(i,t[Mt],c,e,u,s)}let o=e[Qi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function _M(t,e){let n=ia(t,e);return n!==void 0&&ul(n[Q],n),n}function ia(t,e){if(t.length<=Fe)return;let n=Fe+e,r=t[n];if(r){let i=r[Ur];i!==null&&i!==t&&ug(i,r),e>0&&(t[n-1][Pt]=r[Pt]);let o=Bs(t,Fe+e);RP(r[Q],r);let s=o[$r];s!==null&&s.detachView(o[Q]),r[$e]=null,r[Pt]=null,r[K]&=-129}return r}function IM(t,e,n,r){let i=Fe+r,o=n.length;r>0&&(n[i-1][Pt]=e),r<o-Fe?(e[Pt]=n[i],zf(n,Fe+r,e)):(n.push(e),e[Pt]=null),e[$e]=n;let s=e[Ur];s!==null&&n!==s&&QT(s,e);let c=e[$r];c!==null&&c.insertView(t),Mu(e),e[K]|=128}function QT(t,e){let n=t[Gs],r=e[$e];if(Tn(r))t[K]|=2;else{let i=r[$e][Tt];e[Tt]!==i&&(t[K]|=2)}n===null?t[Gs]=[e]:n.push(e)}var Qr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[Q];return ra(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[He]}set context(e){this._lView[He]=e}get destroyed(){return qr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[$e];if(Ut(e)){let n=e[Ws],r=n?n.indexOf(this):-1;r>-1&&(ia(e,r),Bs(n,r))}this._attachedToViewContainer=!1}ul(this._lView[Q],this._lView)}onDestroy(e){ip(this._lView,e)}markForCheck(){pg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){Mu(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,zT(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Xi(this._lView),n=this._lView[Ur];n!==null&&!e&&ug(n,this._lView),kT(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=Xi(this._lView),r=this._lView[Ur];r!==null&&!n&&QT(r,this._lView),Mu(this._lView)}};function mg(t,e,n,r,i){let o=t.data[e];if(o===null)o=EM(t,e,n,r,i),YE()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=GE();o.injectorIndex=s===null?-1:s.injectorIndex}return to(o,!0),o}function EM(t,e,n,r,i){let o=op(),s=sp(),c=s?o:o&&o.parent,u=t.data[e]=TM(t,c,n,e,r,i);return wM(t,u,o,s),u}function wM(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function TM(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return zE()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var I5=new RegExp(`^(\\d+)*(${YN}|${QN})*(.*)`);function bM(t){let e=t[Xf]??[],r=t[$e][ze],i=[];for(let o of e)o.data[uT]!==void 0?i.push(o):SM(o,r);t[Xf]=i}function SM(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[cT];for(;n<i;){let o=r.nextSibling;TT(e,r,!1),r=o,n++}}}var CM=()=>null,AM=()=>null;function Op(t,e){return CM(t,e)}function DM(t,e,n){return AM(t,e,n)}var YT=class{},dl=class{},Lp=class{resolveComponentFactory(e){throw new j(917,!1)}},la=class{static NULL=new Lp},Yr=class{};var JT=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var $u={},Fp=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,$u,r);return i!==$u||n===$u?i:this.parentInjector.get(e,n,r)}};function Tw(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=xf(i,c);else if(o==2){let u=c,l=e[++s];r=xf(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function hl(t,e=0){let n=Ce();if(n===null)return X(t,e);let r=en();return Zw(r,n,yt(t),e)}function RM(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,l]=f.resolveHostDirectives(s);break}MM(t,e,n,c,o,u,l)}o!==null&&r!==null&&NM(n,r,o)}function NM(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function PM(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function MM(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&zr(y)&&(u=!0,PM(t,n,m)),VN(Kw(n,e),t,y.type)}VM(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=CT(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=Gp(n.mergedAttrs,y.hostAttrs),xM(t,n,e,p,y),FM(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let D=y.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}kM(t,n,o)}function kM(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))bw(0,e,i,r),bw(1,e,i,r),Cw(e,r,!1);else{let o=n.get(i);Sw(0,e,o,r),Sw(1,e,o,r),Cw(e,r,!0)}}}function bw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),ZT(e,o)}}function Sw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),ZT(e,s)}}function ZT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Cw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||tg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function xM(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Or(i.type,!0)),s=new na(o,zr(i),hl,null);t.blueprint[r]=s,n[r]=s,OM(t,e,r,CT(t,n,i.hostVars,Jr),i)}function OM(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;LM(s)!=c&&s.push(c),s.push(n,r,o)}}function LM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function FM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zr(e)&&(n[""]=t)}}function VM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function XT(t,e,n,r,i,o,s,c){let u=e[Q],l=u.consts,f=eo(l,s),p=mg(u,t,n,r,f);return o&&RM(u,e,p,eo(l,c),i),p.mergedAttrs=Gp(p.mergedAttrs,p.attrs),p.attrs!==null&&Tw(p,p.attrs,!1),p.mergedAttrs!==null&&Tw(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function eb(t,e){AN(t,e),ep(e)&&t.queries.elementEnd(e)}function tb(t,e,n){return t[e]=n}function nb(t,e){return t[e]}function oa(t,e,n){if(n===Jr)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Vp(t,e,n,r){let i=oa(t,e,n);return oa(t,e+1,r)||i}function jM(t,e,n,r,i,o){let s=Vp(t,e,n,r);return Vp(t,e+2,i,o)||s}function Ep(t,e,n){return function r(i){let o=ir(t)?Bt(t.index,e):e;pg(o,5);let s=e[He],c=Aw(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=Aw(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function Aw(t,e,n,r){let i=Y(null);try{return ve(6,e,n),n(r)!==!1}catch(o){return nM(t,o),!1}finally{ve(7,e,n),Y(i)}}function UM(t,e,n,r,i,o,s,c){let u=Nu(t),l=!1,f=null;if(!r&&u&&(f=$M(e,n,o,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=Xt(t,n),m=r?r(p):p;ZN(n,m,o,c);let y=i.listen(m,o,c);if(!BM(o)){let D=r?N=>r(kt(N[t.index])):t.index;rb(D,e,n,o,c,y,!1)}}return l}function BM(t){return t.startsWith("animation")||t.startsWith("transition")}function $M(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Yi],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function rb(t,e,n,r,i,o,s){let c=e.firstCreatePass?jE(e):null,u=VE(n),l=u.length;u.push(i,o),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function Dw(t,e,n,r,i,o){let s=e[n],c=e[Q],l=c.data[n].outputs[r],p=s[l].subscribe(o);rb(t.index,c,e,i,o,p,!0)}var jp=Symbol("BINDING");var Ju=class extends la{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=tr(e);return new co(n,this.ngModule)}};function HM(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&cl.SignalBased)!==0};return i&&(o.transform=i),o})}function zM(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function qM(t,e,n){let r=e instanceof Oe?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Fp(n,r):n}function WM(t){let e=t.get(Yr,null);if(e===null)throw new j(407,!1);let n=t.get(JT,null),r=t.get(er,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function GM(t,e){let n=ib(t);return ET(e,n,n==="svg"?tp:n==="math"?xE:null)}function ib(t){return(t.selectors[0][0]||"div").toLowerCase()}var co=class extends dl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=HM(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=zM(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=dP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){ve(22);let c=Y(null);try{let u=this.componentDef,l=KM(r,u,s,o),f=qM(u,i||this.ngModule,e),p=WM(f),m=p.rendererFactory.createRenderer(null,u),y=r?$P(m,r,u.encapsulation,f):GM(u,m),D=s?.some(Rw)||o?.some(F=>typeof F!="function"&&F.bindings.some(Rw)),N=rg(null,l,null,512|ST(u),null,null,p,m,f,null,hT(y,f,!0));N[vt]=y,Ou(N);let R=null;try{let F=XT(vt,N,2,"#host",()=>l.directiveRegistry,!0,0);bT(m,y,F),so(y,N),LT(l,N,F),pT(l,F,N),eb(l,F),n!==void 0&&YM(F,this.ngContentSelectors,n),R=Bt(F.index,N),N[He]=R[He],fg(l,N,null)}catch(F){throw R!==null&&Ap(R),Ap(N),F}finally{ve(23),Lu()}return new Zu(this.componentType,N,!!D)}finally{Y(c)}}};function KM(t,e,n,r){let i=t?["ng-version","20.3.9"]:hP(e.selectors[0]),o=null,s=null,c=0;if(n)for(let f of n)c+=f[jp].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[jp].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=Kf(p);u.push(m)}return ng(0,null,QM(o,s),1,c,u,null,null,null,[i],null)}function QM(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Rw(t){let e=t[jp].kind;return e==="input"||e==="twoWay"}var Zu=class extends YT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ks(n[Q],vt),this.location=Qp(this._tNode,n),this.instance=Bt(this._tNode.index,n)[He],this.hostView=this.changeDetectorRef=new Qr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=hg(r,i[Q],i,e,n);this.previousInputValues.set(e,n);let s=Bt(r.index,i);pg(s,1)}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function YM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var fl=(()=>{class t{static __NG_ELEMENT_ID__=JM}return t})();function JM(){let t=en();return XM(t,Ce())}var ZM=fl,ob=class extends ZM{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qp(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Kp(this._hostTNode,this._hostLView);if(qw(e)){let n=qu(e,this._hostLView),r=zu(e),i=n[Q].data[r+8];return new Kr(i,n)}else return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Nw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Fe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Op(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Yu(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!wN(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let f=u?e:new co(tr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let F=(u?p:this.parentInjector).get(Oe,null);F&&(o=F)}let m=tr(f.componentType??{}),y=Op(this._lContainer,m?.id??null),D=y?.firstChild??null,N=f.create(p,i,D,o,s,c);return this.insertImpl(N.hostView,l,Yu(this._hostTNode,y)),N}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(LE(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[$e],l=new ob(u,u[Mt],u[$e]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return gg(s,i,o,r),e.attachToViewContainerRef(),zf(wp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Nw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ia(this._lContainer,n);r&&(Bs(wp(this._lContainer),n),ul(r[Q],r))}detach(e){let n=this._adjustIndex(e,-1),r=ia(this._lContainer,n);return r&&Bs(wp(this._lContainer),n)!=null?new Qr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Nw(t){return t[Ws]}function wp(t){return t[Ws]||(t[Ws]=[])}function XM(t,e){let n,r=e[t.index];return Ut(r)?n=r:(n=KT(r,e,null,t),e[t.index]=n,ig(e,n)),tk(n,e,t,r),new ob(n,t,e)}function ek(t,e){let n=t[ze],r=n.createComment(""),i=Xt(e,t),o=n.parentNode(i);return Gu(n,o,r,n.nextSibling(i),!1),r}var tk=ik,nk=()=>!1;function rk(t,e,n){return nk(t,e,n)}function ik(t,e,n,r){if(t[rr])return;let i;n.type&8?i=kt(r):i=ek(e,n),t[rr]=i}var uo=class{},pl=class{};var Xu=class extends uo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ju(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Gf(e);this._bootstrapComponents=_T(o.bootstrap),this._r3Injector=fp(e,n,[{provide:uo,useValue:this},{provide:la,useValue:this.componentFactoryResolver},...r],Zn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},el=class extends pl{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Xu(this.moduleType,e,[])}};var sa=class extends uo{injector;componentFactoryResolver=new Ju(this);instance=null;constructor(e){super();let n=new Fr([...e.providers,{provide:uo,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],e.parent||Hs(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function da(t,e,n=null){return new sa({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ok=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Qf(!1,n.type),i=r.length>0?da([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(X(Oe))})}return t})();function ha(t){return aa(()=>{let e=sb(t),n=fe(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Yp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(ok).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bn.Emulated,styles:t.styles||Lr,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ua("NgStandalone"),ab(n);let r=t.dependencies;return n.directiveDefs=Pw(r,sk),n.pipeDefs=Pw(r,CE),n.id=uk(n),n})}function sk(t){return tr(t)||Kf(t)}function ak(t,e){if(t==null)return jr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=cl.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function ck(t){if(t==null)return jr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function yg(t){return aa(()=>{let e=sb(t);return ab(e),e})}function sb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||jr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Lr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ak(t.inputs,e),outputs:ck(t.outputs),debugInfo:null}}function ab(t){t.features?.forEach(e=>e(t))}function Pw(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function uk(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function lk(t,e,n,r,i,o,s,c){if(n.firstCreatePass){t.mergedAttrs=Gp(t.mergedAttrs,t.attrs);let f=t.tView=ng(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),to(t,!1);let u=dk(n,e,t,r);Fu()&&lg(n,e,u,t),so(u,e);let l=KT(u,e,u,t);e[r+vt]=l,ig(e,l),rk(l,t,e)}function Mw(t,e,n,r,i,o,s,c,u,l,f){let p=n+vt,m;if(e.firstCreatePass){if(m=mg(e,p,4,s||null,c||null),l!=null){let y=eo(e.consts,l);m.localNames=[];for(let D=0;D<y.length;D+=2)m.localNames.push(y[D],-1)}}else m=e.data[p];return lk(m,t,e,n,r,i,o,u),l!=null&&FT(t,m,f),m}var dk=hk;function hk(t,e,n,r){return Vu(!0),e[ze].createComment("")}var vg=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var _g=new U("");function fa(t){return!!t&&typeof t.then=="function"}function cb(t){return!!t&&typeof t.subscribe=="function"}var ub=new U("");var Ig=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=M(ub,{optional:!0})??[];injector=M(rt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Le(this.injector,i);if(fa(o))n.push(o);else if(cb(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gl=new U("");function lb(){ef(()=>{let t="";throw new j(600,t)})}function db(t){return t.isBoundToModule}var fk=10;var Xr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(St);afterRenderManager=M(PT);zonelessEnabled=M(Zs);rootEffectScheduler=M(yp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(tn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(n=>!n))}constructor(){M(ca,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=M(Oe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=rt.NULL){return this._injector.get(_e).run(()=>{ve(10);let s=n instanceof dl;if(!this._injector.get(Ig).done){let D="";throw new j(405,D)}let u;s?u=n:u=this._injector.get(la).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=db(u)?void 0:this._injector.get(uo),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(_g,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),ta(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ve(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(sg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let n=Y(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(n),this.afterTick.next(),ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Yr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<fk;)ve(14),this.synchronizeOnce(),ve(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Qs(i))continue;let o=r&&!this.zonelessEnabled?0:1;zT(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Qs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ta(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(gl,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ta(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ta(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var A5=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Up=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e,!0))}};function Tp(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function pk(t,e,n){let r,i,o=0,s=t.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),f=e[o],p=Tp(o,l,o,f,n);if(p!==0){p<0&&t.updateValue(o,f),o++;continue}let m=t.at(s),y=e[u],D=Tp(s,m,u,y,n);if(D!==0){D<0&&t.updateValue(s,y),s--,u--;continue}let N=n(o,l),R=n(s,m),F=n(o,f);if(Object.is(F,R)){let H=n(u,y);Object.is(H,N)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,f),o++;continue}if(r??=new tl,i??=xw(t,o,s,n),Bp(t,r,o,F))t.updateValue(o,f),o++,s++;else if(i.has(F))r.set(N,t.detach(o)),s--;else{let H=t.create(o,e[o]);t.attach(o,H),o++,s++}}for(;o<=u;)kw(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let f=t.at(o),p=l.value,m=Tp(o,f,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new tl,i??=xw(t,o,s,n);let y=n(o,p);if(Bp(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let D=n(o,f);r.set(D,t.detach(o)),s--}}}for(;!l.done;)kw(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function Bp(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function kw(t,e,n,r,i){if(Bp(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function xw(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var tl=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};var $p=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Fe}};var Hp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Eg(t,e,n,r,i,o,s,c,u,l,f,p,m){ua("NgControlFlow");let y=Ce(),D=Wr(),N=u!==void 0,R=Ce(),F=c?s.bind(R[Tt][He]):s,H=new Hp(N,F);R[vt+t]=H,Mw(y,D,t+1,e,n,r,i,eo(D.consts,o),256),N&&Mw(y,D,t+2,u,l,f,p,eo(D.consts,m),512)}var zp=class extends Up{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Fe}at(e){return this.getLView(e)[He].$implicit}attach(e,n){let r=n[Qi];this.needsIndexUpdate||=e!==this.length,gg(this.lContainer,n,e,Yu(this.templateTNode,r))}detach(e,n){return this.needsIndexUpdate||=e!==this.length-1,n&&gk(this.lContainer,e),mk(this.lContainer,e)}create(e,n){let r=Op(this.lContainer,this.templateTNode.tView.ssrId),i=VT(this.hostLView,this.templateTNode,new $p(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ul(e[Q],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[He].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[He].$index=e}getLView(e){return yk(this.lContainer,e)}};function wg(t){let e=Y(null),n=Js();try{let r=Ce(),i=r[Q],o=r[n],s=n+1,c=Ow(r,s);if(o.liveCollection===void 0){let l=Lw(i,s);o.liveCollection=new zp(c,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(pk(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=ku(),f=u.length===0;if(oa(r,l,f)){let p=n+2,m=Ow(r,p);if(f){let y=Lw(i,p),D=DM(m,y,r),N=VT(r,y,void 0,{dehydratedView:D});gg(m,N,0,Yu(y,D))}else i.firstUpdatePass&&bM(m),_M(m,0)}}}finally{Y(e)}}function Ow(t,e){return t[e]}function gk(t,e){if(t.length<=Fe)return;let n=Fe+e,r=t[n];r&&r[Hr]&&(r[Hr].skipLeaveAnimations=!0)}function mk(t,e){return ia(t,e)}function yk(t,e){return vM(t,e)}function Lw(t,e){return Ks(t,e)}function ml(t,e,n){let r=Ce(),i=ku();if(oa(r,i,e)){let o=Wr(),s=nw();WP(s,r,t,e,r[ze],n)}return ml}function Fw(t,e,n,r,i){hg(e,t,n,i?"class":"style",r)}function Ct(t,e,n,r){let i=Ce(),o=i[Q],s=t+vt,c=o.firstCreatePass?XT(s,i,2,e,ZP,HE(),n,r):o.data[s];if(eM(c,i,t,e,vk),Nu(c)){let u=i[Q];LT(u,i,c),pT(u,c,i)}return r!=null&&FT(i,c),Ct}function Ht(){let t=Wr(),e=en(),n=tM(e);return t.firstCreatePass&&eb(t,n),qE(n)&&WE(),$E(),n.classesWithoutHost!=null&&RN(n)&&Fw(t,n,Ce(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&NN(n)&&Fw(t,n,Ce(),n.stylesWithoutHost,!1),Ht}function rn(t,e,n,r){return Ct(t,e,n,r),Ht(),rn}var vk=(t,e,n,r,i)=>(Vu(!0),ET(e[ze],r,rw()));var pa="en-US";var _k=pa;function hb(t){typeof t=="string"&&(_k=t.toLowerCase().replace(/_/g,"-"))}function yl(t,e,n){let r=Ce(),i=Wr(),o=en();return Ik(i,r,r[ze],o,t,e,n),yl}function Ik(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=Ep(r,e,o),UM(r,t,e,s,n,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=Ep(r,e,o),Dw(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Ep(r,e,o),Dw(r,e,p,i,i,u)}}function vl(t,e=""){let n=Ce(),r=Wr(),i=t+vt,o=r.firstCreatePass?mg(r,i,1,e,null):r.data[i],s=Ek(r,n,o,e,t);n[i]=s,Fu()&&lg(r,n,s,o),to(o,!1)}var Ek=(t,e,n,r,i)=>(Vu(!0),fP(e[ze],r));function wk(t,e,n,r=""){return oa(t,ku(),n)?e+Su(n)+r:Jr}function _l(t){return Tg("",t),_l}function Tg(t,e,n){let r=Ce(),i=wk(r,t,e,n);return i!==Jr&&Tk(r,Js(),i),Tg}function Tk(t,e,n){let r=OE(e,t);pP(t[ze],r,n)}function ur(t,e,n){let r=up()+t,i=Ce();return i[r]===Jr?tb(i,r,n?e.call(n):e()):nb(i,r)}function bg(t,e,n,r,i,o,s,c,u){let l=up()+t,f=Ce(),p=jM(f,l,n,r,i,o);return Vp(f,l+4,s,c)||p?tb(f,l+6,u?e.call(u,n,r,i,o,s,c):e(n,r,i,o,s,c)):nb(f,l+6)}var nl=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Sg=(()=>{class t{compileModuleSync(n){return new el(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Gf(n),o=_T(i.declarations).reduce((s,c)=>{let u=tr(c);return u&&s.push(new co(u)),s},[]);return new nl(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bk=(()=>{class t{zone=M(_e);changeDetectionScheduler=M(er);applicationRef=M(Xr);applicationErrorHandler=M(St);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fb=new U("",{factory:()=>!1});function Cg({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(fe(O({},Dg()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:wn,multi:!0,useFactory:()=>{let r=M(bk,{optional:!0});return()=>r.initialize()}},{provide:wn,multi:!0,useFactory:()=>{let r=M(Sk);return()=>{r.initialize()}}},e===!0?{provide:gp,useValue:!0}:[],{provide:mp,useValue:n??DT},{provide:St,useFactory:()=>{let r=M(_e),i=M(Oe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Jt),o.handleError(s))})}}}]}function Ag(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Cg({ngZoneFactory:()=>{let i=Dg(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ua("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Vt([{provide:fb,useValue:!0},{provide:Zs,useValue:!1},r])}function Dg(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Sk=(()=>{class t{subscription=new Se;initialized=!1;zone=M(_e);pendingTasks=M(tn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pb=(()=>{class t{applicationErrorHandler=M(St);appRef=M(Xr);taskService=M(tn);ngZone=M(_e);zonelessEnabled=M(Zs);tracing=M(ca,{optional:!0});disableScheduling=M(gp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Se;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ku):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(mp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Qu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?yw:RT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ku+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,yw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ck(){return typeof $localize<"u"&&$localize.locale||pa}var Rg=new U("",{providedIn:"root",factory:()=>M(Rg,{optional:!0,skipSelf:!0})||Ck()});function lr(t){return yE(t)}var gb=class{[ft];constructor(e){this[ft]=e}destroy(){this[ft].destroy()}};var vb=Symbol("InputSignalNode#UNSET"),Fk=fe(O({},Yc),{transformFn:void 0,applyValueToInputSignal(t,e){Mi(t,e)}});function _b(t,e){let n=Object.create(Fk);n.value=t,n.transformFn=e?.transform;function r(){if(Ds(n),n.value===vb){let i=null;throw new j(-950,i)}return n.value}return r[ft]=n,r}var Vk=new U("");Vk.__NG_ELEMENT_ID__=t=>{let e=en();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new j(204,!1)};function mb(t,e){return _b(t,e)}function jk(t){return _b(vb,t)}var Ib=(mb.required=jk,mb);var Ng=new U(""),Uk=new U("");function ga(t){return!t.moduleRef}function Bk(t){let e=ga(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{ga(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(St),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ga(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Ng);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ng);s.add(o),t.moduleRef.onDestroy(()=>{ta(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Hk(r,n,()=>{let o=e.get(tn),s=o.add(),c=e.get(Ig);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Rg,pa);if(hb(u||pa),!e.get(Uk,!0))return ga(t)?e.get(Xr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ga(t)){let f=e.get(Xr);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return $k?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var $k;function Hk(t,e,n){try{let r=n();return fa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Il=null;function zk(t=[],e){return rt.create({name:e,providers:[{provide:$s,useValue:"platform"},{provide:Ng,useValue:new Set([()=>Il=null])},...t]})}function qk(t=[]){if(Il)return Il;let e=zk(t);return Il=e,lb(),Wk(e),e}function Wk(t){let e=t.get(ol,null);Le(t,()=>{e?.forEach(n=>n())})}function Pg(){return!1}var Eb=(()=>{class t{static __NG_ELEMENT_ID__=Gk}return t})();function Gk(t){return Kk(en(),Ce(),(t&16)===16)}function Kk(t,e,n){if(ir(t)&&!n){let r=Bt(t.index,e);return new Qr(r,r)}else if(t.type&175){let r=e[Tt];return new Qr(r,e)}return null}function wb(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ve(8);try{let o=i?.injector??qk(r),s=[Cg({}),{provide:er,useExisting:pb},ow,...n||[]],c=new sa({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Bk({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ve(9)}}var Sb=null;function Cn(){return Sb}function Mg(t){Sb??=t}var ma=class{},kg=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(Cb),providedIn:"platform"})}return t})();var Cb=(()=>{class t extends kg{_location;_history;_doc=M(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cn().getBaseHref(this._doc)}onPopState(n){let r=Cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Ab(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Tb(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function dr(t){return t&&t[0]!=="?"?`?${t}`:t}var El=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(Rb),providedIn:"root"})}return t})(),Db=new U(""),Rb=(()=>{class t extends El{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ab(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+dr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+dr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+dr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(X(kg),X(Db,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lo=(()=>{class t{_subject=new Ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Jk(Tb(bb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+dr(r))}normalize(n){return t.stripTrailingSlash(Yk(this._basePath,bb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+dr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+dr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=dr;static joinWithSlash=Ab;static stripTrailingSlash=Tb;static \u0275fac=function(r){return new(r||t)(X(El))};static \u0275prov=B({token:t,factory:()=>Qk(),providedIn:"root"})}return t})();function Qk(){return new lo(X(El))}function Yk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function bb(t){return t.replace(/\/index.html$/,"")}function Jk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function xg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ya=class{};var Nb="browser";var va=class{_doc;constructor(e){this._doc=e}manager},wl=(()=>{class t extends va{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(X(qe))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),bl=new U(""),jg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof wl));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof wl);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(X(bl),X(_e))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Og="ng-app-id";function Pb(t){for(let e of t)e.remove()}function Mb(t,e){let n=e.createElement("style");return n.textContent=t,n}function Zk(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Og}="${e}"],link[${Og}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Og),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Fg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Ug=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,Zk(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Mb);r?.forEach(i=>this.addUsage(i,this.external,Fg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Pb(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Pb(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Mb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Fg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(X(qe),X(il),X(sl,8),X(cr))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Lg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Bg=/%COMP%/g;var xb="%COMP%",Xk=`_nghost-${xb}`,ex=`_ngcontent-${xb}`,tx=!0,nx=new U("",{providedIn:"root",factory:()=>tx});function rx(t){return ex.replace(Bg,t)}function ix(t){return Xk.replace(Bg,t)}function Ob(t,e){return e.map(n=>n.replace(Bg,t))}var $g=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u,l=null,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new _a(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Tl?i.applyToHost(n):i instanceof Ia&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case bn.Emulated:o=new Tl(u,l,r,this.appId,f,s,c,p,m);break;case bn.ShadowDom:return new Vg(u,l,n,r,s,c,this.nonce,p,m);default:o=new Ia(u,l,r,f,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(X(jg),X(Ug),X(il),X(nx),X(qe),X(cr),X(_e),X(sl),X(ca,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),_a=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Lg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(kb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(kb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Lg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Lg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Zr.DashCase|Zr.Important)?e.style.setProperty(n,r,i&Zr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Zr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Cn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function kb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Vg=class extends _a{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=Ob(i.id,f);for(let m of f){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Fg(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ia=class extends _a{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?Ob(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ao.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Tl=class extends Ia{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,n,r,o,s,c,u,l,f),this.contentAttr=rx(f),this.hostAttr=ix(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Sl=class t extends ma{supportsDOMEvents=!0;static makeCurrent(){Mg(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ox();return n==null?null:sx(n)}resetBaseElement(){Ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xg(document.cookie,e)}},Ea=null;function ox(){return Ea=Ea||document.head.querySelector("base"),Ea?Ea.getAttribute("href"):null}function sx(t){return new URL(t,document.baseURI).pathname}var ax=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Lb=["alt","control","meta","shift"],cx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ux={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Fb=(()=>{class t extends va{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cn().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),Lb.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=cx[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Lb.forEach(s=>{if(s!==i){let c=ux[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(X(qe))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function Hg(t,e,n){let r=O({rootComponent:t,platformRef:n?.platformRef},lx(e));return wb(r)}function lx(t){return{appProviders:[...gx,...t?.providers??[]],platformProviders:px}}function dx(){Sl.makeCurrent()}function hx(){return new Jt}function fx(){return Jp(document),document}var px=[{provide:cr,useValue:Nb},{provide:ol,useValue:dx,multi:!0},{provide:qe,useFactory:fx}];var gx=[{provide:$s,useValue:"root"},{provide:Jt,useFactory:hx},{provide:bl,useClass:wl,multi:!0,deps:[qe]},{provide:bl,useClass:Fb,multi:!0,deps:[qe]},$g,Ug,jg,{provide:Yr,useExisting:$g},{provide:ya,useClass:ax},[]];var Vb=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(X(qe))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var q="primary",La=Symbol("RouteTitle"),Kg=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ri(t){return new Kg(t)}function Wb(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}function on(t,e){let n=t?Qg(t):void 0,r=e?Qg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Gb(t[i],e[i]))return!1;return!0}function Qg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Gb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Kb(t){return t.length>0?t[t.length-1]:null}function Rn(t){return yf(t)?t:fa(t)?Ne(Promise.resolve(t)):z(t)}var vx={exact:Yb,subset:Jb},Qb={exact:_x,subset:Ix,ignored:()=>!0};function jb(t,e,n){return vx[n.paths](t.root,e.root,n.matrixParams)&&Qb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function _x(t,e){return on(t,e)}function Yb(t,e,n){if(!ti(t.segments,e.segments)||!Dl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Yb(t.children[r],e.children[r],n))return!1;return!0}function Ix(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Gb(t[n],e[n]))}function Jb(t,e,n){return Zb(t,e,e.segments,n)}function Zb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ti(i,n)||e.hasChildren()||!Dl(i,n,r))}else if(t.segments.length===n.length){if(!ti(t.segments,n)||!Dl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Jb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ti(t.segments,i)||!Dl(t.segments,i,r)||!t.children[q]?!1:Zb(t.children[q],e,o,r)}}function Dl(t,e,n){return e.every((r,i)=>Qb[n](t[i].parameters,r.parameters))}var an=class{root;queryParams;fragment;_queryParamMap;constructor(e=new de([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ri(this.queryParams),this._queryParamMap}toString(){return Tx.serialize(this)}},de=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rl(this)}},hr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ri(this.parameters),this._parameterMap}toString(){return eS(this)}};function Ex(t,e){return ti(t,e)&&t.every((n,r)=>on(n.parameters,e[r].parameters))}function ti(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function wx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===q&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==q&&(n=n.concat(e(i,r)))}),n}var Fa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new ii,providedIn:"root"})}return t})(),ii=class{parse(e){let n=new Jg(e);return new an(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${wa(e.root,!0)}`,r=Cx(e.queryParams),i=typeof e.fragment=="string"?`#${bx(e.fragment)}`:"";return`${n}${r}${i}`}},Tx=new ii;function Rl(t){return t.segments.map(e=>eS(e)).join("/")}function wa(t,e){if(!t.hasChildren())return Rl(t);if(e){let n=t.children[q]?wa(t.children[q],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==q&&r.push(`${i}:${wa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=wx(t,(r,i)=>i===q?[wa(t.children[q],!1)]:[`${i}:${wa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[q]!=null?`${Rl(t)}/${n[0]}`:`${Rl(t)}/(${n.join("//")})`}}function Xb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cl(t){return Xb(t).replace(/%3B/gi,";")}function bx(t){return encodeURI(t)}function Yg(t){return Xb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nl(t){return decodeURIComponent(t)}function Ub(t){return Nl(t.replace(/\+/g,"%20"))}function eS(t){return`${Yg(t.path)}${Sx(t.parameters)}`}function Sx(t){return Object.entries(t).map(([e,n])=>`;${Yg(e)}=${Yg(n)}`).join("")}function Cx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Cl(n)}=${Cl(i)}`).join("&"):`${Cl(n)}=${Cl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Ax=/^[^\/()?;#]+/;function zg(t){let e=t.match(Ax);return e?e[0]:""}var Dx=/^[^\/()?;=#]+/;function Rx(t){let e=t.match(Dx);return e?e[0]:""}var Nx=/^[^=?&#]+/;function Px(t){let e=t.match(Nx);return e?e[0]:""}var Mx=/^[^&#]+/;function kx(t){let e=t.match(Mx);return e?e[0]:""}var Jg=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[q]=new de(e,n)),r}parseSegment(){let e=zg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new hr(Nl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Rx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=zg(this.remaining);i&&(r=i,this.capture(r))}e[Nl(n)]=Nl(r)}parseQueryParam(e){let n=Px(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=kx(this.remaining);s&&(r=s,this.capture(r))}let i=Ub(n),o=Ub(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=q);let s=this.parseChildren();n[o??q]=Object.keys(s).length===1&&s[q]?s[q]:new de([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function tS(t){return t.segments.length>0?new de([],{[q]:t}):t}function nS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=nS(i);if(r===q&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new de(t.segments,e);return xx(n)}function xx(t){if(t.numberOfChildren===1&&t.children[q]){let e=t.children[q];return new de(t.segments.concat(e.segments),e.children)}return t}function mo(t){return t instanceof an}function rS(t,e,n=null,r=null){let i=iS(t);return oS(i,e,n,r)}function iS(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new de(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=tS(r);return e??i}function oS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return qg(i,i,i,n,r);let o=Ox(e);if(o.toRoot())return qg(i,i,new de([],{}),n,r);let s=Lx(o,i,t),c=s.processChildren?ba(s.segmentGroup,s.index,o.commands):aS(s.segmentGroup,s.index,o.commands);return qg(i,s.segmentGroup,c,n,r)}function Pl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Aa(t){return typeof t=="object"&&t!=null&&t.outlets}function qg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=sS(t,e,n);let c=tS(nS(s));return new an(c,o,i)}function sS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=sS(o,e,n)}),new de(t.segments,r)}var Ml=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pl(r[0]))throw new j(4003,!1);let i=r.find(Aa);if(i&&i!==Kb(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ox(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ml(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Ml(n,e,r)}var po=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Lx(t,e,n){if(t.isAbsolute)return new po(e,!0,0);if(!n)return new po(e,!1,NaN);if(n.parent===null)return new po(n,!0,0);let r=Pl(t.commands[0])?0:1,i=n.segments.length-1+r;return Fx(n,i,t.numberOfDoubleDots)}function Fx(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new po(r,!1,i-o)}function Vx(t){return Aa(t[0])?t[0].outlets:{[q]:t}}function aS(t,e,n){if(t??=new de([],{}),t.segments.length===0&&t.hasChildren())return ba(t,e,n);let r=jx(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new de(t.segments.slice(0,r.pathIndex),{});return o.children[q]=new de(t.segments.slice(r.pathIndex),t.children),ba(o,0,i)}else return r.match&&i.length===0?new de(t.segments,{}):r.match&&!t.hasChildren()?Zg(t,e,n):r.match?ba(t,0,i):Zg(t,e,n)}function ba(t,e,n){if(n.length===0)return new de(t.segments,{});{let r=Vx(n),i={};if(Object.keys(r).some(o=>o!==q)&&t.children[q]&&t.numberOfChildren===1&&t.children[q].segments.length===0){let o=ba(t.children[q],e,n);return new de(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=aS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new de(t.segments,i)}}function jx(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(Aa(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!$b(u,l,s))return o;r+=2}else{if(!$b(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Aa(o)){let u=Ux(o.outlets);return new de(r,u)}if(i===0&&Pl(n[0])){let u=t.segments[e];r.push(new hr(u.path,Bb(n[0]))),i++;continue}let s=Aa(o)?o.outlets[q]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Pl(c)?(r.push(new hr(s,Bb(c))),i+=2):(r.push(new hr(s,{})),i++)}return new de(r,{})}function Ux(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Zg(new de([],{}),0,r))}),e}function Bb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function $b(t,e,n){return t==n.path&&on(e,n.parameters)}var Sa="imperative",We=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(We||{}),Dt=class{id;url;constructor(e,n){this.id=e,this.url=n}},oi=class extends Dt{type=We.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},An=class extends Dt{urlAfterRedirects;type=We.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},lt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(lt||{}),Da=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Da||{}),sn=class extends Dt{reason;code;type=We.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dn=class extends Dt{reason;code;type=We.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},yo=class extends Dt{error;target;type=We.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ra=class extends Dt{urlAfterRedirects;state;type=We.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kl=class extends Dt{urlAfterRedirects;state;type=We.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xl=class extends Dt{urlAfterRedirects;state;shouldActivate;type=We.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ol=class extends Dt{urlAfterRedirects;state;type=We.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ll=class extends Dt{urlAfterRedirects;state;type=We.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fl=class{route;type=We.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vl=class{route;type=We.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jl=class{snapshot;type=We.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ul=class{snapshot;type=We.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bl=class{snapshot;type=We.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$l=class{snapshot;type=We.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Na=class{},vo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Bx(t){return!(t instanceof Na)&&!(t instanceof vo)}function $x(t,e){return t.providers&&!t._injector&&(t._injector=da(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zt(t){return t.outlet||q}function Hx(t,e){let n=t.filter(r=>zt(r)===e);return n.push(...t.filter(r=>zt(r)!==e)),n}function Eo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Hl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Eo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new wo(this.rootInjector)}},wo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Hl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(X(Oe))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Xg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Xg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=em(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return em(e,this._root).map(n=>n.value)}};function Xg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Xg(t,n);if(r)return r}return null}function em(t,e){if(t===e.value)return[e];for(let n of e.children){let r=em(t,n);if(r.length)return r.unshift(e),r}return[]}var At=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function fo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Pa=class extends zl{snapshot;constructor(e,n){super(e),this.snapshot=n,cm(this,e)}toString(){return this.snapshot.toString()}};function cS(t){let e=zx(t),n=new Je([new hr("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),c=new fr(n,r,o,s,i,q,t,e.root);return c.snapshot=e.root,new Pa(new At(c,[]),e)}function zx(t){let e={},n={},r={},o=new ni([],e,r,"",n,q,t,null,{});return new Ma("",new At(o,[]))}var fr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[La]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>ri(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>ri(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ql(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&lS(i)&&(r.resolve[La]=i.title),r}var ni=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[La]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ri(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ri(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ma=class extends zl{url;constructor(e,n){super(n),this.url=e,cm(this,n)}toString(){return uS(this._root)}};function cm(t,e){e.value._routerState=t,e.children.forEach(n=>cm(t,n))}function uS(t){let e=t.children.length>0?` { ${t.children.map(uS).join(", ")} } `:"";return`${t.value}${e}`}function Wg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),on(e.params,n.params)||t.paramsSubject.next(n.params),yx(e.url,n.url)||t.urlSubject.next(n.url),on(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function tm(t,e){let n=on(t.params,e.params)&&Ex(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||tm(t.parent,e.parent))}function lS(t){return typeof t.title=="string"||t.title===null}var dS=new U(""),Va=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=q;activateEvents=new ut;deactivateEvents=new ut;attachEvents=new ut;detachEvents=new ut;routerOutletData=Ib();parentContexts=M(wo);location=M(fl);changeDetector=M(Eb);inputBinder=M(Ql,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new nm(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=yg({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Wp]})}return t})(),nm=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===fr?this.route:e===wo?this.childContexts:e===dS?this.outletData:this.parent.get(e,n)}},Ql=new U("");var um=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ha({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&rn(0,"router-outlet")},dependencies:[Va],encapsulation:2})}return t})();function lm(t){let e=t.children&&t.children.map(lm),n=e?fe(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==q&&(n.component=um),n}function qx(t,e,n){let r=ka(t,e._root,n?n._root:void 0);return new Pa(r,e)}function ka(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Wx(t,e,n);return new At(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>ka(t,c)),s}}let r=Gx(e.value),i=e.children.map(o=>ka(t,o));return new At(r,i)}}function Wx(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ka(t,r,i);return ka(t,r)})}function Gx(t){return new fr(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var _o=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},hS="ngNavigationCancelingError";function Wl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=mo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fS(!1,lt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function fS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[hS]=!0,n.cancellationCode=e,n}function Kx(t){return pS(t)&&mo(t.url)}function pS(t){return!!t&&t[hS]}var Qx=(t,e,n,r)=>oe(i=>(new rm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),rm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Wg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=fo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=fo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $l(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ul(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Wg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Wg(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Gl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},go=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Yx(t,e,n){let r=t._root,i=e?e._root:null;return Ta(r,i,n,[r.value])}function Jx(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function To(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Lf(t)?t:e.get(t):r}function Ta(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=fo(e);return t.children.forEach(s=>{Zx(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Ca(c,n.getContext(s),i)),i}function Zx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Xx(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Gl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ta(t,e,c?c.children:null,r,i):Ta(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new go(c.outlet.component,s))}else s&&Ca(e,c,i),i.canActivateChecks.push(new Gl(r)),o.component?Ta(t,null,c?c.children:null,r,i):Ta(t,null,n,r,i);return i}function Xx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ti(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ti(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tm(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!tm(t,e)}}function Ca(t,e,n){let r=fo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ca(s,e.children.getContext(o),n):Ca(s,null,n):Ca(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new go(e.outlet.component,i)):n.canDeactivateChecks.push(new go(null,i)):n.canDeactivateChecks.push(new go(null,i))}function ja(t){return typeof t=="function"}function eO(t){return typeof t=="boolean"}function tO(t){return t&&ja(t.canLoad)}function nO(t){return t&&ja(t.canActivate)}function rO(t){return t&&ja(t.canActivateChild)}function iO(t){return t&&ja(t.canDeactivate)}function oO(t){return t&&ja(t.canMatch)}function gS(t){return t instanceof vn||t?.name==="EmptyError"}var Al=Symbol("INITIAL_VALUE");function Io(){return mt(t=>gu(t.map(e=>e.pipe(_n(1),If(Al)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===Al)return Al;if(n===!1||sO(n))return n}return!0}),Nt(e=>e!==Al),_n(1)))}function sO(t){return mo(t)||t instanceof _o}function aO(t,e){return xe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?z(fe(O({},n),{guardsResult:!0})):cO(s,r,i,t).pipe(xe(c=>c&&eO(c)?uO(r,o,t,e):z(c)),oe(c=>fe(O({},n),{guardsResult:c})))})}function cO(t,e,n,r){return Ne(t).pipe(xe(i=>pO(i.component,i.route,n,e,r)),In(i=>i!==!0,!0))}function uO(t,e,n,r){return Ne(e).pipe(qi(i=>zi(dO(i.route.parent,r),lO(i.route,r),fO(t,i.path,n),hO(t,i.route,n))),In(i=>i!==!0,!0))}function lO(t,e){return t!==null&&e&&e(new Bl(t)),z(!0)}function dO(t,e){return t!==null&&e&&e(new jl(t)),z(!0)}function hO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>xs(()=>{let s=Eo(e)??n,c=To(o,s),u=nO(c)?c.canActivate(e,t):Le(s,()=>c(e,t));return Rn(u).pipe(In())}));return z(i).pipe(Io())}function fO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Jx(s)).filter(s=>s!==null).map(s=>xs(()=>{let c=s.guards.map(u=>{let l=Eo(s.node)??n,f=To(u,l),p=rO(f)?f.canActivateChild(r,t):Le(l,()=>f(r,t));return Rn(p).pipe(In())});return z(c).pipe(Io())}));return z(o).pipe(Io())}function pO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(c=>{let u=Eo(e)??i,l=To(c,u),f=iO(l)?l.canDeactivate(t,e,n,r):Le(u,()=>l(t,e,n,r));return Rn(f).pipe(In())});return z(s).pipe(Io())}function gO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let c=To(s,t),u=tO(c)?c.canLoad(e,n):Le(t,()=>c(e,n));return Rn(u)});return z(o).pipe(Io(),mS(r))}function mS(t){return uf(Be(e=>{if(typeof e!="boolean")throw Wl(t,e)}),oe(e=>e===!0))}function mO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let c=To(s,t),u=oO(c)?c.canMatch(e,n):Le(t,()=>c(e,n));return Rn(u)});return z(o).pipe(Io(),mS(r))}var xa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Oa=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ho(t){return Hi(new xa(t))}function yO(t){return Hi(new j(4e3,!1))}function vO(t){return Hi(fS(!1,lt.GuardRejected))}var im=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[q])return yO(`${e.redirectTo}`);i=i.children[q]}}applyRedirectCommands(e,n,r,i,o){return _O(n,i,o).pipe(oe(s=>{if(s instanceof an)throw new Oa(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Oa(c);return c}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new an(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new de(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function _O(t,e,n){if(typeof t=="string")return z(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:f,title:p}=e;return Rn(Le(n,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var om={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IO(t,e,n,r,i){let o=yS(t,e,n);return o.matched?(r=$x(e,r),mO(r,e,n,i).pipe(oe(s=>s===!0?o:O({},om)))):z(o)}function yS(t,e,n){if(e.path==="**")return EO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},om):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Wb)(n,t,e);if(!i)return O({},om);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function EO(t){return{matched:!0,parameters:t.length>0?Kb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Hb(t,e,n,r){return n.length>0&&bO(t,n,r)?{segmentGroup:new de(e,TO(r,new de(n,t.children))),slicedSegments:[]}:n.length===0&&SO(t,n,r)?{segmentGroup:new de(t.segments,wO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new de(t.segments,t.children),slicedSegments:n}}function wO(t,e,n,r){let i={};for(let o of n)if(Yl(t,e,o)&&!r[zt(o)]){let s=new de([],{});i[zt(o)]=s}return O(O({},r),i)}function TO(t,e){let n={};n[q]=e;for(let r of t)if(r.path===""&&zt(r)!==q){let i=new de([],{});n[zt(r)]=i}return n}function bO(t,e,n){return n.some(r=>Yl(t,e,r)&&zt(r)!==q)}function SO(t,e,n){return n.some(r=>Yl(t,e,r))}function Yl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function CO(t,e,n){return e.length===0&&!t.children[n]}var sm=class{};function AO(t,e,n,r,i,o,s="emptyOnly"){return new am(t,e,n,r,i,s,o).recognize()}var DO=31,am=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new im(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=Hb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:n,rootSnapshot:r})=>{let i=new At(r,n),o=new Ma("",i),s=rS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ni([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,q,n).pipe(oe(r=>({children:r,rootSnapshot:n})),Yn(r=>{if(r instanceof Oa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof At?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe(qi(s=>{let c=r.children[s],u=Hx(n,s);return this.processSegmentGroup(e,u,c,s,i)}),_f((s,c)=>(s.push(...c),s)),Jn(null),vf(),xe(s=>{if(s===null)return ho(r);let c=vS(s);return RO(c),z(c)}))}processSegment(e,n,r,i,o,s,c){return Ne(n).pipe(qi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(Yn(l=>{if(l instanceof xa)return z(null);throw l}))),In(u=>!!u),Yn(u=>{if(gS(u))return CO(r,i,o)?z(new sm):ho(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return zt(r)!==s&&(s===q||!Yl(i,o,r))?ho(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):ho(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=yS(n,i,o);if(!u)return ho(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>DO&&(this.allowRedirects=!1));let y=new ni(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,zb(i),zt(i),i.component??i._loadedComponent??null,i,qb(i)),D=ql(y,c,this.paramsInheritanceStrategy);return y.params=Object.freeze(D.params),y.data=Object.freeze(D.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e).pipe(mt(R=>this.applyRedirects.lineralizeSegments(i,R)),xe(R=>this.processSegment(e,r,n,R.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=IO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(mt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(mt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,D=new ni(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,zb(r),zt(r),r.component??r._loadedComponent??null,r,qb(r)),N=ql(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(N.params),D.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=Hb(n,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(f,l,R,D).pipe(oe(Z=>new At(D,Z)));if(l.length===0&&F.length===0)return z(new At(D,[]));let H=zt(r)===o;return this.processSegment(f,l,R,F,H?q:o,!0,D).pipe(oe(Z=>new At(D,Z instanceof At?[Z]:[])))}))):ho(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):gO(e,n,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,n).pipe(Be(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):vO(n))):z({routes:[],injector:e})}};function RO(t){t.sort((e,n)=>e.value.outlet===q?-1:n.value.outlet===q?1:e.value.outlet.localeCompare(n.value.outlet))}function NO(t){let e=t.value.routeConfig;return e&&e.path===""}function vS(t){let e=[],n=new Set;for(let r of t){if(!NO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=vS(r.children);e.push(new At(r.value,i))}return e.filter(r=>!n.has(r))}function zb(t){return t.data||{}}function qb(t){return t.resolve||{}}function PO(t,e,n,r,i,o){return xe(s=>AO(t,e,n,r,s.extractedUrl,i,o).pipe(oe(({state:c,tree:u})=>fe(O({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function MO(t,e){return xe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of _S(u))s.add(l);let c=0;return Ne(s).pipe(qi(u=>o.has(u)?kO(u,r,t,e):(u.data=ql(u,u.parent,t).resolve,z(void 0))),Be(()=>c++),Wi(1),xe(u=>c===s.size?z(n):pt))})}function _S(t){let e=t.children.map(n=>_S(n)).flat();return[t,...e]}function kO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!lS(i)&&(o[La]=i.title),xs(()=>(t.data=ql(t,t.parent,n).resolve,xO(o,t,e,r).pipe(oe(s=>(t._resolvedData=s,t.data=O(O({},t.data),s),null)))))}function xO(t,e,n,r){let i=Qg(t);if(i.length===0)return z({});let o={};return Ne(i).pipe(xe(s=>OO(t[s],e,n,r).pipe(In(),Be(c=>{if(c instanceof _o)throw Wl(new ii,c);o[s]=c}))),Wi(1),oe(()=>o),Yn(s=>gS(s)?pt:Hi(s)))}function OO(t,e,n,r){let i=Eo(e)??r,o=To(t,i),s=o.resolve?o.resolve(e,n):Le(i,()=>o(e,n));return Rn(s)}function Gg(t){return mt(e=>{let n=t(e);return n?Ne(n).pipe(oe(()=>e)):z(e)})}var dm=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===q);return r}getResolvedTitleForRoute(n){return n.data[La]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(IS),providedIn:"root"})}return t})(),IS=(()=>{class t extends dm{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(X(Vb))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ua=new U("",{providedIn:"root",factory:()=>({})}),Ba=new U(""),ES=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Sg);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Rn(Le(n,()=>r.loadComponent())).pipe(oe(TS),mt(bS),Be(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Os(()=>{this.componentLoaders.delete(r)})),o=new ji(i,()=>new Ye).pipe(Vi());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=wS(r,this.compiler,n,this.onLoadEndListener).pipe(Os(()=>{this.childrenLoaders.delete(r)})),s=new ji(o,()=>new Ye).pipe(Vi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wS(t,e,n,r){return Rn(Le(n,()=>t.loadChildren())).pipe(oe(TS),mt(bS),xe(i=>i instanceof pl||Array.isArray(i)?z(i):Ne(e.compileModuleAsync(i))),oe(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Ba,[],{optional:!0,self:!0}).flat()),{routes:s.map(lm),injector:o}}))}function LO(t){return t&&typeof t=="object"&&"default"in t}function TS(t){return LO(t)?t.default:t}function bS(t){return z(t)}var Jl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(FO),providedIn:"root"})}return t})(),FO=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SS=new U("");var CS=new U(""),AS=(()=>{class t{currentNavigation=ar(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ye;transitionAbortWithErrorSubject=new Ye;configLoader=M(ES);environmentInjector=M(Oe);destroyRef=M(sr);urlSerializer=M(Fa);rootContexts=M(wo);location=M(lo);inputBindingEnabled=M(Ql,{optional:!0})!==null;titleStrategy=M(dm);options=M(Ua,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Jl);createViewTransition=M(SS,{optional:!0});navigationErrorHandler=M(CS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Fl(i)),r=i=>this.events.next(new Vl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;lr(()=>{this.transitions?.next(fe(O({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new Je(null),this.transitions.pipe(Nt(r=>r!==null),mt(r=>{let i=!1;return z(r).pipe(mt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",lt.SupersededByNewNavigation),pt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?fe(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.rawUrl),"",Da.IgnoredSameUrlNavigation)),o.resolve(!1),pt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return z(o).pipe(mt(u=>(this.events.next(new oi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?pt:Promise.resolve(u))),PO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let l=new Ra(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:f,restoredState:p,extras:m}=o,y=new oi(u,this.urlSerializer.serialize(l),f,p);this.events.next(y);let D=cS(this.rootComponentType).snapshot;return this.currentTransition=r=fe(O({},o),{targetSnapshot:D,urlAfterRedirects:l,extras:fe(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(N=>(N.finalUrl=l,N)),z(r)}else return this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Da.IgnoredByUrlHandlingStrategy)),o.resolve(!1),pt}),Be(o=>{let s=new kl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),oe(o=>(this.currentTransition=r=fe(O({},o),{guards:Yx(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),aO(this.environmentInjector,o=>this.events.next(o)),Be(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Wl(this.urlSerializer,o.guardsResult);let s=new xl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Nt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",lt.GuardRejected),!1)),Gg(o=>{if(o.guards.canActivateChecks.length!==0)return z(o).pipe(Be(s=>{let c=new Ol(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),mt(s=>{let c=!1;return z(s).pipe(MO(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",lt.NoDataFromResolver)}}))}),Be(s=>{let c=new Ll(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),Gg(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let l=Eo(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,c.routeConfig).pipe(Be(f=>{c.component=f}),oe(()=>{})))}for(let l of c.children)u.push(...s(l));return u};return gu(s(o.targetSnapshot.root)).pipe(Jn(null),_n(1))}),Gg(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Ne(c).pipe(oe(()=>r)):z(r)}),oe(o=>{let s=qx(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=fe(O({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),Be(()=>{this.events.next(new Na)}),Qx(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),_n(1),yu(new ee(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(Nt(()=>!i&&!r.targetRouterState),Be(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",lt.Aborted)}))),Be({next:o=>{i=!0,this.lastSuccessfulNavigation=lr(this.currentNavigation),this.events.next(new An(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),yu(this.transitionAbortWithErrorSubject.pipe(Be(o=>{throw o}))),Os(()=>{i||this.cancelNavigationTransition(r,"",lt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Yn(o=>{if(this.destroyed)return r.resolve(!1),pt;if(i=!0,pS(o))this.events.next(new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Kx(o)?this.events.next(new vo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new yo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Le(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof _o){let{message:u,cancellationCode:l}=Wl(this.urlSerializer,c);this.events.next(new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new vo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return pt}))}))}cancelNavigationTransition(n,r,i){let o=new sn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=lr(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VO(t){return t!==Sa}var DS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(jO),providedIn:"root"})}return t})(),Kl=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},jO=(()=>{class t extends Kl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=rl(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RS=(()=>{class t{urlSerializer=M(Fa);options=M(Ua,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(lo);urlHandlingStrategy=M(Jl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new an;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof an?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=cS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>M(UO),providedIn:"root"})}return t})(),UO=(()=>{class t extends RS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof oi?this.updateStateMemento():n instanceof Dn?this.commitTransition(r):n instanceof Ra?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Na?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof sn&&n.code!==lt.SupersededByNewNavigation&&n.code!==lt.Redirect?this.restoreHistory(r):n instanceof yo?this.restoreHistory(r,!0):n instanceof An&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,c));this.location.replaceState(n,"",u)}else{let c=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=rl(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hm(t,e){t.events.pipe(Nt(n=>n instanceof An||n instanceof sn||n instanceof yo||n instanceof Dn),oe(n=>n instanceof An||n instanceof Dn?0:(n instanceof sn?n.code===lt.Redirect||n.code===lt.SupersededByNewNavigation:!1)?2:1),Nt(n=>n!==2),_n(1)).subscribe(()=>{e()})}var BO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$O={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Zl=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(vg);stateManager=M(RS);options=M(Ua,{optional:!0})||{};pendingTasks=M(tn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(AS);urlSerializer=M(Fa);location=M(lo);urlHandlingStrategy=M(Jl);injector=M(Oe);_events=new Ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(DS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Ba,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(Ql,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Se;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=lr(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof sn&&r.code!==lt.Redirect&&r.code!==lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof An)this.navigated=!0;else if(r instanceof vo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||VO(i.source)},s);this.scheduleNavigation(c,Sa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Bx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(St)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return lr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(lm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=iS(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return oS(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=mo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Sa,null,r)}navigate(n,r={skipLocationChange:!1}){return HO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(js(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},BO):r===!1?i=O({},$O):i=r,mo(n))return jb(this.currentUrlTree,n,i);let o=this.parseUrl(n);return jb(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return hm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}var qO=new U("");function fm(t,...e){return Vt([{provide:Ba,multi:!0,useValue:t},[],{provide:fr,useFactory:WO,deps:[Zl]},{provide:gl,multi:!0,useFactory:GO},e.map(n=>n.\u0275providers)])}function WO(t){return t.routerState.root}function GO(){let t=M(rt);return e=>{let n=t.get(Xr);if(e!==n.components[0])return;let r=t.get(Zl),i=t.get(KO);t.get(QO)===1&&r.initialNavigation(),t.get(YO,null,{optional:!0})?.setUpPreloading(),t.get(qO,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var KO=new U("",{factory:()=>new Ye}),QO=new U("",{providedIn:"root",factory:()=>1});var YO=new U("");var NS=()=>{};var kS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Xl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new gm;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},gm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},XO=function(t){let e=kS(t);return Xl.encodeByteArray(e,!0)},Ha=function(t){return XO(t).replace(/\./g,"")},ed=function(t){try{return Xl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ym(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var e1=()=>ym().__FIREBASE_DEFAULTS__,t1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ed(t[1]);return e&&JSON.parse(e)},td=()=>{try{return NS()||e1()||t1()||n1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xS=t=>{var e,n;return(n=(e=td())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OS=t=>{let e=xS(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vm=()=>{var t;return(t=td())===null||t===void 0?void 0:t.config},LS=t=>{var e;return(e=td())===null||e===void 0?void 0:e[`_${t}`]};var si=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ai(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function _m(t){return b(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function FS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ha(JSON.stringify(n)),Ha(JSON.stringify(s)),""].join(".")}var $a={};function r1(){let t={prod:[],emulator:[]};for(let e of Object.keys($a))$a[e]?t.emulator.push(e):t.prod.push(e);return t}function i1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var PS=!1;function Im(t,e){if(typeof window>"u"||typeof document>"u"||!ai(window.location.host)||$a[t]===e||$a[t]||PS)return;$a[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=r1().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{PS=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=i1(r),y=n("text"),D=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),F=n("preprendIcon"),H=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Z=m.element;c(Z),f(R,N);let me=l();u(H,F),Z.append(H,D,R,me),document.body.appendChild(Z)}o?(D.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function o1(){var t;let e=(t=td())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function US(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $S(){return!o1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function za(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var s1="FirebaseError",xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}},qt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?a1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new xt(i,c,r)}};function a1(t,e){return t.replace(c1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var c1=/\{\$([^}]+)}/g;function ci(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(MS(o)&&MS(s)){if(!ci(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function MS(t){return t!==null&&typeof t=="object"}function Em(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zS(t,e){let n=new mm(t,e);return n.subscribe.bind(n)}var mm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");u1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pm),i.error===void 0&&(i.error=pm),i.complete===void 0&&(i.complete=pm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function u1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pm(){}var AJ=14400*1e3;function pr(t){return t&&t._delegate?t._delegate:t}var dt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ui="[DEFAULT]";var wm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new si;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d1(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function l1(t){return t===ui?void 0:t}function d1(t){return t.instantiationMode==="EAGER"}var nd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var h1=[],ne=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ne||{}),f1={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},p1=ne.INFO,g1={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},m1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=g1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},cn=class{constructor(e){this.name=e,this._logLevel=p1,this._logHandler=m1,this._userLogHandler=null,h1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var y1=(t,e)=>e.some(n=>t instanceof n),qS,WS;function v1(){return qS||(qS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return WS||(WS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var GS=new WeakMap,bm=new WeakMap,KS=new WeakMap,Tm=new WeakMap,Cm=new WeakMap;function I1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(un(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&GS.set(n,t)}).catch(()=>{}),Cm.set(e,t),e}function E1(t){if(bm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});bm.set(t,e)}var Sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QS(t){Sm=t(Sm)}function w1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(rd(this),e,...n);return KS.set(r,e.sort?e.sort():[e]),un(r)}:_1().includes(t)?function(...e){return t.apply(rd(this),e),un(GS.get(this))}:function(...e){return un(t.apply(rd(this),e))}}function T1(t){return typeof t=="function"?w1(t):(t instanceof IDBTransaction&&E1(t),y1(t,v1())?new Proxy(t,Sm):t)}function un(t){if(t instanceof IDBRequest)return I1(t);if(Tm.has(t))return Tm.get(t);let e=T1(t);return e!==t&&(Tm.set(t,e),Cm.set(e,t)),e}var rd=t=>Cm.get(t);function id(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=un(s);return r&&s.addEventListener("upgradeneeded",u=>{r(un(s.result),u.oldVersion,u.newVersion,un(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var b1=["get","getKey","getAll","getAllKeys","count"],S1=["put","add","delete","clear"],Am=new Map;function YS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=S1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b1.includes(n)))return;let o=function(s,...c){return b(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Am.set(e,o),o}QS(t=>fe(O({},t),{get:(e,n,r)=>YS(e,n)||t.get(e,n,r),has:(e,n)=>!!YS(e,n)||t.has(e,n)}));var Rm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function C1(t){let e=t.getComponent();return e?.type==="VERSION"}var Nm="@firebase/app",JS="0.13.2";var Nn=new cn("@firebase/app"),A1="@firebase/app-compat",D1="@firebase/analytics-compat",R1="@firebase/analytics",N1="@firebase/app-check-compat",P1="@firebase/app-check",M1="@firebase/auth",k1="@firebase/auth-compat",x1="@firebase/database",O1="@firebase/data-connect",L1="@firebase/database-compat",F1="@firebase/functions",V1="@firebase/functions-compat",j1="@firebase/installations",U1="@firebase/installations-compat",B1="@firebase/messaging",$1="@firebase/messaging-compat",H1="@firebase/performance",z1="@firebase/performance-compat",q1="@firebase/remote-config",W1="@firebase/remote-config-compat",G1="@firebase/storage",K1="@firebase/storage-compat",Q1="@firebase/firestore",Y1="@firebase/ai",J1="@firebase/firestore-compat",Z1="firebase",X1="11.10.0";var Pm="[DEFAULT]",eL={[Nm]:"fire-core",[A1]:"fire-core-compat",[R1]:"fire-analytics",[D1]:"fire-analytics-compat",[P1]:"fire-app-check",[N1]:"fire-app-check-compat",[M1]:"fire-auth",[k1]:"fire-auth-compat",[x1]:"fire-rtdb",[O1]:"fire-data-connect",[L1]:"fire-rtdb-compat",[F1]:"fire-fn",[V1]:"fire-fn-compat",[j1]:"fire-iid",[U1]:"fire-iid-compat",[B1]:"fire-fcm",[$1]:"fire-fcm-compat",[H1]:"fire-perf",[z1]:"fire-perf-compat",[q1]:"fire-rc",[W1]:"fire-rc-compat",[G1]:"fire-gcs",[K1]:"fire-gcs-compat",[Q1]:"fire-fst",[J1]:"fire-fst-compat",[Y1]:"fire-vertex","fire-js":"fire-js",[Z1]:"fire-js-all"};var qa=new Map,tL=new Map,Mm=new Map;function ZS(t,e){try{t.container.addComponent(e)}catch(n){Nn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wt(t){let e=t.name;if(Mm.has(e))return Nn.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,t);for(let n of qa.values())ZS(n,t);for(let n of tL.values())ZS(n,t);return!0}function od(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}var nL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new qt("app","Firebase",nL);var km=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}};var bo=X1;function Lm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=vm()),!n)throw gr.create("no-options");let o=qa.get(i);if(o){if(ci(n,o.options)&&ci(r,o.config))return o;throw gr.create("duplicate-app",{appName:i})}let s=new nd(i);for(let u of Mm.values())s.addComponent(u);let c=new km(n,r,s);return qa.set(i,c),c}function So(t=Pm){let e=qa.get(t);if(!e&&t===Pm&&vm())return Lm();if(!e)throw gr.create("no-app",{appName:t});return e}function sd(){return Array.from(qa.values())}function Ae(t,e,n){var r;let i=(r=eL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nn.warn(c.join(" "));return}Wt(new dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var rL="firebase-heartbeat-database",iL=1,Wa="firebase-heartbeat-store",Dm=null;function nC(){return Dm||(Dm=id(rL,iL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),Dm}function oL(t){return b(this,null,function*(){try{let n=(yield nC()).transaction(Wa),r=yield n.objectStore(Wa).get(rC(t));return yield n.done,r}catch(e){if(e instanceof xt)Nn.warn(e.message);else{let n=gr.create("idb-get",{originalErrorMessage:e?.message});Nn.warn(n.message)}}})}function XS(t,e){return b(this,null,function*(){try{let r=(yield nC()).transaction(Wa,"readwrite");yield r.objectStore(Wa).put(e,rC(t)),yield r.done}catch(n){if(n instanceof xt)Nn.warn(n.message);else{let r=gr.create("idb-set",{originalErrorMessage:n?.message});Nn.warn(r.message)}}})}function rC(t){return`${t.name}!${t.options.appId}`}var sL=1024,aL=30,xm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Om(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>aL){let s=uL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Nn.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=eC(),{heartbeatsToSend:r,unsentEntries:i}=cL(this._heartbeatsCache.heartbeats),o=Ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Nn.warn(n),""}})}};function eC(){return new Date().toISOString().substring(0,10)}function cL(t,e=sL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Om=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return za()?HS().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield oL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return XS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return XS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tC(t){return Ha(JSON.stringify({version:2,heartbeats:t})).length}function uL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function lL(t){Wt(new dt("platform-logger",e=>new Rm(e),"PRIVATE")),Wt(new dt("heartbeat",e=>new xm(e),"PRIVATE")),Ae(Nm,JS,t),Ae(Nm,JS,"esm2017"),Ae("fire-js","")}lL("");var dL="firebase",hL="11.10.0";Ae(dL,hL,"app");function iC(t){t===void 0&&(t=M(rt));let e=t.get(ro);return n=>new ee(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var di=new Ki("ANGULARFIRE2_VERSION");function cd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ao=(t,e)=>{let n=e?[e]:sd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Co=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Co||{}),oC=Pg()&&typeof Zone<"u"?Co.WARN:Co.SILENT;var ad=class{zone;delegate;constructor(e,n=gf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},hi=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=M(_e);this.outsideAngular=n.runOutsideAngular(()=>new ad(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new ad(typeof Zone>"u"?void 0:Zone.current,pf))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sC=!1;function fL(t,e){!sC&&(oC>Co.SILENT||Pg())&&(sC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),oC>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function pL(t){let e=M(_e,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function li(t){let e=M(_e,{optional:!0});return e?e.run(()=>t()):t()}var gL=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Le(n,()=>li(()=>t.apply(void 0,r)))),mr=(t,e,n)=>(n||=e?Co.WARN:Co.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=M(hi),s=M(ro),c=M(Oe)}catch{return fL(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=li(()=>s.add())),i[l]=gL(i[l],r,c));let u=pL(()=>t.apply(this,i));return e?u instanceof ee?u.pipe(Qn(o.outsideAngular),Kn(o.insideAngular),iC(c)):u instanceof Promise?li(()=>{let l=s.add();return new Promise((f,p)=>{u.then(m=>Le(c,()=>li(()=>f(m))),m=>Le(c,()=>li(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:li(()=>u):u instanceof ee?u.pipe(Qn(o.outsideAngular),Kn(o.insideAngular)):li(()=>u)});var fi=class{constructor(e){return e}},Ga=class{constructor(){return sd()}};function mL(t){return t&&t.length===1?t[0]:new fi(So())}var Fm=new U("angularfire2._apps"),yL={provide:fi,useFactory:mL,deps:[[new Sn,Fm]]},vL={provide:Ga,deps:[[new Sn,Fm]]};function _L(t){return(e,n)=>{let r=n.get(cr);Ae("angularfire",di.full,"core"),Ae("angularfire",di.full,"app"),Ae("angular",kf.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new fi(i)}}function aC(t,...e){return Vt([yL,vL,{provide:Fm,useFactory:_L(t),multi:!0,deps:[_e,rt,hi,...e]}])}var cC=mr(Lm,!0);var IL=new Map,EL={activated:!1,tokenObservers:[]},wL={initialized:!1,enabled:!1};function Gt(t){return IL.get(t)||Object.assign({},EL)}function hC(){return wL}var TL="https://content-firebaseappcheck.googleapis.com/v1";var bL="exchangeDebugToken",uC={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},NZ=1440*60*1e3;var Um=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new si,this.pending.promise.catch(n=>{}),yield SL(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new si,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function SL(t){return new Promise(e=>{setTimeout(e,t)})}var CL={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},yr=new qt("appCheck","AppCheck",CL);function fC(t){if(!Gt(t).activated)throw yr.create("use-before-activation",{appName:t.name})}function pC(r,i){return b(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(y){throw yr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw yr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw yr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw yr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function gC(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${TL}/projects/${n}/apps/${r}:${bL}?key=${i}`,body:{debug_token:e}}}var AL="firebase-app-check-database",DL=1,Bm="firebase-app-check-store";var ud=null;function RL(){return ud||(ud=new Promise((t,e)=>{try{let n=indexedDB.open(AL,DL);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(yr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Bm,{keyPath:"compositeKey"})}}}catch(n){e(yr.create("storage-open",{originalErrorMessage:n?.message}))}}),ud)}function NL(t,e){return PL(ML(t),e)}function PL(t,e){return b(this,null,function*(){let r=(yield RL()).transaction(Bm,"readwrite"),o=r.objectStore(Bm).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(yr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function ML(t){return`${t.options.appId}-${t.name}`}var Ka=new cn("@firebase/app-check");function Vm(t,e){return za()?NL(t,e).catch(n=>{Ka.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function mC(){return hC().enabled}function yC(){return b(this,null,function*(){let t=hC();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var kL={error:"UNKNOWN_ERROR"};function xL(t){return Xl.encodeString(JSON.stringify(t),!1)}function $m(t,e=!1,n=!1){return b(this,null,function*(){let r=t.app;fC(r);let i=Gt(r),o=i.token,s;if(o&&!Qa(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Qa(l)?o=l:yield Vm(r,void 0))}if(!e&&o&&Qa(o))return{token:o.token};let c=!1;if(mC())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=pC(gC(r,yield yC()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield Vm(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ka.warn(l.message):n&&Ka.error(l),jm(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield Gt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ka.warn(l.message):n&&Ka.error(l),s=l}let u;return o?s?Qa(o)?u={token:o.token,internalError:s}:u=jm(s):(u={token:o.token},i.token=o,yield Vm(r,o)):u=jm(s),c&&VL(r,u),u})}function OL(t){return b(this,null,function*(){let e=t.app;fC(e);let{provider:n}=Gt(e);if(mC()){let r=yield yC(),{token:i}=yield pC(gC(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function LL(t,e,n,r){let{app:i}=t,o=Gt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Qa(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),lC(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>lC(t))}function vC(t,e){let n=Gt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function lC(t){let{app:e}=t,n=Gt(e),r=n.tokenRefresher;r||(r=FL(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function FL(t){let{app:e}=t;return new Um(()=>b(null,null,function*(){let n=Gt(e),r;if(n.token?r=yield $m(t,!0):r=yield $m(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Gt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},uC.RETRIAL_MIN_WAIT,uC.RETRIAL_MAX_WAIT)}function VL(t,e){let n=Gt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Qa(t){return t.expireTimeMillis-Date.now()>0}function jm(t){return{token:xL(kL),error:t}}var Hm=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Gt(this.app);for(let n of e)vC(this.app,n.next);return Promise.resolve()}};function jL(t,e){return new Hm(t,e)}function UL(t){return{getToken:e=>$m(t,e),getLimitedUseToken:()=>OL(t),addTokenListener:e=>LL(t,"INTERNAL",e),removeTokenListener:e=>vC(t.app,e)}}var BL="@firebase/app-check",$L="0.10.1";var HL="app-check",dC="app-check-internal";function zL(){Wt(new dt(HL,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return jL(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(dC).initialize()})),Wt(new dt(dC,t=>{let e=t.getProvider("app-check").getImmediate();return UL(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ae(BL,$L)}zL();var qL="app-check";var ld=class{constructor(){return Ao(qL)}};var WL=["localhost","0.0.0.0","127.0.0.1"],HZ=typeof window<"u"&&WL.includes(window.location.hostname);var _C=()=>{};var EC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new zm;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},KL=function(t){let e=EC(t);return dd.encodeByteArray(e,!0)},qm=function(t){return KL(t).replace(/\./g,"")},wC=function(t){try{return dd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var QL=()=>Wm().__FIREBASE_DEFAULTS__,YL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wC(t[1]);return e&&JSON.parse(e)},ZL=()=>{try{return _C()||QL()||YL()||JL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var Gm=()=>ZL()?.config;var Mn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ya(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var XL="FirebaseError",pi=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gi.prototype.create)}},gi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?eF(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new pi(i,c,r)}};function eF(t,e){return t.replace(tF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var tF=/\{\$([^}]+)}/g;function hd(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(IC(o)&&IC(s)){if(!hd(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function IC(t){return t!==null&&typeof t=="object"}var nF=1e3,rF=2,iF=14400*1e3,oF=.5;function bC(t,e=nF,n=rF){let r=e*Math.pow(n,t),i=Math.round(oF*r*(Math.random()-.5)*2);return Math.min(iF,r+i)}function SC(t){return t&&t._delegate?t._delegate:t}var ln=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var mi="[DEFAULT]";var Km=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Mn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aF(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sF(t){return t===mi?void 0:t}function aF(t){return t.instantiationMode==="EAGER"}var fd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Km(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var cF=[],Ee=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(Ee||{}),uF={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},lF=Ee.INFO,dF={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},hF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=dF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Do=class{constructor(e){this.name=e,this._logLevel=lF,this._logHandler=hF,this._userLogHandler=null,cF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}};var Ym=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function fF(t){return t.getComponent()?.type==="VERSION"}var Jm="@firebase/app",CC="0.14.5";var kn=new Do("@firebase/app"),pF="@firebase/app-compat",gF="@firebase/analytics-compat",mF="@firebase/analytics",yF="@firebase/app-check-compat",vF="@firebase/app-check",_F="@firebase/auth",IF="@firebase/auth-compat",EF="@firebase/database",wF="@firebase/data-connect",TF="@firebase/database-compat",bF="@firebase/functions",SF="@firebase/functions-compat",CF="@firebase/installations",AF="@firebase/installations-compat",DF="@firebase/messaging",RF="@firebase/messaging-compat",NF="@firebase/performance",PF="@firebase/performance-compat",MF="@firebase/remote-config",kF="@firebase/remote-config-compat",xF="@firebase/storage",OF="@firebase/storage-compat",LF="@firebase/firestore",FF="@firebase/ai",VF="@firebase/firestore-compat",jF="firebase";var Zm="[DEFAULT]",UF={[Jm]:"fire-core",[pF]:"fire-core-compat",[mF]:"fire-analytics",[gF]:"fire-analytics-compat",[vF]:"fire-app-check",[yF]:"fire-app-check-compat",[_F]:"fire-auth",[IF]:"fire-auth-compat",[EF]:"fire-rtdb",[wF]:"fire-data-connect",[TF]:"fire-rtdb-compat",[bF]:"fire-fn",[SF]:"fire-fn-compat",[CF]:"fire-iid",[AF]:"fire-iid-compat",[DF]:"fire-fcm",[RF]:"fire-fcm-compat",[NF]:"fire-perf",[PF]:"fire-perf-compat",[MF]:"fire-rc",[kF]:"fire-rc-compat",[xF]:"fire-gcs",[OF]:"fire-gcs-compat",[LF]:"fire-fst",[VF]:"fire-fst-compat",[FF]:"fire-vertex","fire-js":"fire-js",[jF]:"fire-js-all"};var pd=new Map,BF=new Map,Xm=new Map;function AC(t,e){try{t.container.addComponent(e)}catch(n){kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ro(t){let e=t.name;if(Xm.has(e))return kn.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,t);for(let n of pd.values())AC(n,t);for(let n of BF.values())AC(n,t);return!0}function ry(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var $F={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new gi("app","Firebase",$F);var ey=class{constructor(e,n,r){this._isDeleted=!1,this._options=O({},e),this._config=O({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}};function HF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=O({name:Zm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw vr.create("bad-app-name",{appName:String(i)});if(n||(n=Gm()),!n)throw vr.create("no-options");let o=pd.get(i);if(o){if(hd(n,o.options)&&hd(r,o.config))return o;throw vr.create("duplicate-app",{appName:i})}let s=new fd(i);for(let u of Xm.values())s.addComponent(u);let c=new ey(n,r,s);return pd.set(i,c),c}function PC(t=Zm){let e=pd.get(t);if(!e&&t===Zm&&Gm())return HF();if(!e)throw vr.create("no-app",{appName:t});return e}function Ja(t,e,n){let r=UF[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kn.warn(s.join(" "));return}Ro(new ln(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var zF="firebase-heartbeat-database",qF=1,Za="firebase-heartbeat-store",Qm=null;function MC(){return Qm||(Qm=id(zF,qF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Za)}catch(n){console.warn(n)}}}}).catch(t=>{throw vr.create("idb-open",{originalErrorMessage:t.message})})),Qm}function WF(t){return b(this,null,function*(){try{let n=(yield MC()).transaction(Za),r=yield n.objectStore(Za).get(kC(t));return yield n.done,r}catch(e){if(e instanceof pi)kn.warn(e.message);else{let n=vr.create("idb-get",{originalErrorMessage:e?.message});kn.warn(n.message)}}})}function DC(t,e){return b(this,null,function*(){try{let r=(yield MC()).transaction(Za,"readwrite");yield r.objectStore(Za).put(e,kC(t)),yield r.done}catch(n){if(n instanceof pi)kn.warn(n.message);else{let r=vr.create("idb-set",{originalErrorMessage:n?.message});kn.warn(r.message)}}})}function kC(t){return`${t.name}!${t.options.appId}`}var GF=1024,KF=30,ty=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ny(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=RC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>KF){let i=YF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){kn.warn(e)}})}getHeartbeatsHeader(){return b(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=RC(),{heartbeatsToSend:n,unsentEntries:r}=QF(this._heartbeatsCache.heartbeats),i=qm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return kn.warn(e),""}})}};function RC(){return new Date().toISOString().substring(0,10)}function QF(t,e=GF){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),NC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ny=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Ya()?TC().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield WF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return DC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return DC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function NC(t){return qm(JSON.stringify({version:2,heartbeats:t})).length}function YF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function JF(t){Ro(new ln("platform-logger",e=>new Ym(e),"PRIVATE")),Ro(new ln("heartbeat",e=>new ty(e),"PRIVATE")),Ja(Jm,CC,t),Ja(Jm,CC,"esm2020"),Ja("fire-js","")}JF("");function BC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $C=BC,HC=new qt("auth","Firebase",BC());var vd=new cn("@firebase/auth");function XF(t,...e){vd.logLevel<=ne.WARN&&vd.warn(`Auth (${bo}): ${t}`,...e)}function md(t,...e){vd.logLevel<=ne.ERROR&&vd.error(`Auth (${bo}): ${t}`,...e)}function xC(t,...e){throw gy(t,...e)}function py(t,...e){return gy(t,...e)}function zC(t,e,n){let r=Object.assign(Object.assign({},$C()),{[e]:n});return new qt("auth","Firebase",r).create(e,{appName:t.name})}function yd(t){return zC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HC.create(t,...e)}function he(t,e,...n){if(!t)throw gy(e,...n)}function Xa(t){let e="INTERNAL ASSERTION FAILED: "+t;throw md(e),new Error(e)}function _d(t,e){t||Xa(e)}function eV(){return OC()==="http:"||OC()==="https:"}function OC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function tV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eV()||US()||"connection"in navigator)?navigator.onLine:!0}function nV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var _i=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,_d(n>e,"Short delay should be less than long delay!"),this.isMobile=VS()||BS()}get(){return tV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function rV(t,e){_d(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Id=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var iV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var oV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sV=new _i(3e4,6e4);function qC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Sd(o,s,c,u){return b(this,arguments,function*(t,e,n,r,i={}){return WC(t,i,()=>b(null,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Em(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return jS()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&ai(t.emulatorConfig.host)&&(y.credentials="include"),Id.fetch()(yield GC(t,t.config.apiHost,n,p),y)}))})}function WC(t,e,n){return b(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},iV),e);try{let i=new sy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw gd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw gd(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw zC(t,f,l);xC(t,f)}}catch(i){if(i instanceof xt)throw i;xC(t,"network-request-failed",{message:String(i)})}})}function GC(t,e,n,r){return b(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?rV(t.config,i):`${t.config.apiScheme}://${i}`;return oV.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var sy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(py(this.auth,"network-request-failed")),sV.get())})}};function gd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=py(t,e,r);return i.customData._tokenResponse=n,i}function aV(t,e){return b(this,null,function*(){return Sd(t,"POST","/v1/accounts:delete",e)})}function Ed(t,e){return b(this,null,function*(){return Sd(t,"POST","/v1/accounts:lookup",e)})}function ec(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function my(t,e=!1){return b(this,null,function*(){let n=pr(t),r=yield n.getIdToken(e),i=KC(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ec(iy(i.auth_time)),issuedAtTime:ec(iy(i.iat)),expirationTime:ec(iy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function iy(t){return Number(t)*1e3}function KC(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{let i=ed(n);return i?JSON.parse(i):(md("Failed to decode base64 JWT payload"),null)}catch(i){return md("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LC(t){let e=KC(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ay(t,e,n=!1){return b(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof xt&&cV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function cV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var cy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),n)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var nc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wd(t){return b(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ay(t,Ed(n,{idToken:r}));he(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?QC(o.providerUserInfo):[],c=uV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new nc(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function yy(t){return b(this,null,function*(){let e=pr(t);yield wd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function uV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QC(t){return t.map(e=>{var{providerId:n}=e,r=mf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function lV(t,e){return b(this,null,function*(){let n=yield WC(t,{},()=>b(null,null,function*(){let r=Em({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield GC(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&ai(t.emulatorConfig.host)&&(u.credentials="include"),Id.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function dV(t,e){return b(this,null,function*(){return Sd(t,"POST","/v2/accounts:revokeToken",qC(t,e))})}var tc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");let n=LC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return b(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield lV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Xa("not implemented")}};function _r(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var yi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=mf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let n=yield ay(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return my(this,e)}reload(){return yy(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield wd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(Pn(this.auth.app))return Promise.reject(yd(this.auth));let e=yield this.getIdToken();return yield ay(this,aV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:me,isAnonymous:st,providerData:ge,stsTokenManager:w}=n;he(Z&&w,e,"internal-error");let v=tc.fromJSON(this.name,w);he(typeof Z=="string",e,"internal-error"),_r(p,e.name),_r(m,e.name),he(typeof me=="boolean",e,"internal-error"),he(typeof st=="boolean",e,"internal-error"),_r(y,e.name),_r(D,e.name),_r(N,e.name),_r(R,e.name),_r(F,e.name),_r(H,e.name);let I=new t({uid:Z,auth:e,email:m,emailVerified:me,displayName:p,isAnonymous:st,photoURL:D,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:F,lastLoginAt:H});return ge&&Array.isArray(ge)&&(I.providerData=ge.map(E=>Object.assign({},E))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,n,r=!1){return b(this,null,function*(){let i=new tc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return b(this,null,function*(){let i=n.users[0];he(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?QC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new tc;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var FC=new Map;function vi(t){_d(t instanceof Function,"Expected a class definition");let e=FC.get(t);return e?(_d(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FC.set(t,e),e)}var hV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(n,r){return b(this,null,function*(){this.storage[n]=r})}_get(n){return b(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return b(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),uy=hV;function oy(t,e,n){return`firebase:${t}:${e}:${n}`}var Td=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=oy(this.userKey,i.apiKey,o),this.fullPersistenceKey=oy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Ed(this.auth,{idToken:e}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,e):null}return yi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return b(this,null,function*(){if(!n.length)return new t(vi(uy),e,r);let i=(yield Promise.all(n.map(l=>b(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||vi(uy),s=oy(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p;if(typeof f=="string"){let m=yield Ed(e,{idToken:f}).catch(()=>{});if(!m)break;p=yield yi._fromGetAccountInfoResponse(e,m,f)}else p=yi._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>b(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function VC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vV(e))return"Blackberry";if(_V(e))return"Webos";if(pV(e))return"Safari";if((e.includes("chrome/")||gV(e))&&!e.includes("edge/"))return"Chrome";if(yV(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fV(t=Rt()){return/firefox\//i.test(t)}function pV(t=Rt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gV(t=Rt()){return/crios\//i.test(t)}function mV(t=Rt()){return/iemobile/i.test(t)}function yV(t=Rt()){return/android/i.test(t)}function vV(t=Rt()){return/blackberry/i.test(t)}function _V(t=Rt()){return/webos/i.test(t)}function YC(t,e=[]){let n;switch(t){case"Browser":n=VC(Rt());break;case"Worker":n=`${VC(Rt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}var ly=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function IV(n){return b(this,arguments,function*(t,e={}){return Sd(t,"GET","/v2/passwordPolicy",qC(t,e))})}var EV=6,dy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:EV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var hy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bd(this),this.idTokenSubscription=new bd(this),this.beforeStateQueue=new ly(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Td.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let n=yield Ed(this,{idToken:e}),r=yield yi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var n;if(Pn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield wd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=nV()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(Pn(this.app))return Promise.reject(yd(this));let n=e?pr(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return b(this,null,function*(){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return Pn(this.app)?Promise.reject(yd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Pn(this.app)?Promise.reject(yd(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(vi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield IV(this),n=new dy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield dV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&vi(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=yield Td.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return b(this,null,function*(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&XF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function wV(t){return pr(t)}var bd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=zS(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var TV={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bV(t){TV=t}function SV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function CV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var IX=SV("rcb"),EX=new _i(3e4,6e4);var wX=new _i(2e3,1e4);var TX=600*1e3;var bX=new _i(3e4,6e4);var SX=new _i(5e3,15e3);var CX=encodeURIComponent("fac");var jC="@firebase/auth",UC="1.10.8";var fy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function AV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DV(t){Wt(new dt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YC(t)},l=new hy(r,i,o,u);return CV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wt(new dt("auth-internal",e=>{let n=wV(e.getProvider("auth").getImmediate());return(r=>new fy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae(jC,UC,AV(t)),Ae(jC,UC,"esm2017")}var RV=300,AX=LS("authIdTokenMaxAge")||RV;function NV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=py("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",NV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DV("Browser");var D2="auth";var Cd=class{constructor(){return Ao(D2)}};var JC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ZC={};var xn,vy;(function(){var t;function e(w,v){function I(){}I.prototype=v.prototype,w.D=v.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(E,T,C){for(var _=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)_[gn-2]=arguments[gn];return v.prototype[T].apply(E,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,I){I||(I=0);var E=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)E[T]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(T=0;16>T;++T)E[T]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=w.g[0],I=w.g[1],T=w.g[2];var C=w.g[3],_=v+(C^I&(T^C))+E[0]+3614090360&4294967295;v=I+(_<<7&4294967295|_>>>25),_=C+(T^v&(I^T))+E[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(I^C&(v^I))+E[2]+606105819&4294967295,T=C+(_<<17&4294967295|_>>>15),_=I+(v^T&(C^v))+E[3]+3250441966&4294967295,I=T+(_<<22&4294967295|_>>>10),_=v+(C^I&(T^C))+E[4]+4118548399&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(T^v&(I^T))+E[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(I^C&(v^I))+E[6]+2821735955&4294967295,T=C+(_<<17&4294967295|_>>>15),_=I+(v^T&(C^v))+E[7]+4249261313&4294967295,I=T+(_<<22&4294967295|_>>>10),_=v+(C^I&(T^C))+E[8]+1770035416&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(T^v&(I^T))+E[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(I^C&(v^I))+E[10]+4294925233&4294967295,T=C+(_<<17&4294967295|_>>>15),_=I+(v^T&(C^v))+E[11]+2304563134&4294967295,I=T+(_<<22&4294967295|_>>>10),_=v+(C^I&(T^C))+E[12]+1804603682&4294967295,v=I+(_<<7&4294967295|_>>>25),_=C+(T^v&(I^T))+E[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(I^C&(v^I))+E[14]+2792965006&4294967295,T=C+(_<<17&4294967295|_>>>15),_=I+(v^T&(C^v))+E[15]+1236535329&4294967295,I=T+(_<<22&4294967295|_>>>10),_=v+(T^C&(I^T))+E[1]+4129170786&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^T&(v^I))+E[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^I&(C^v))+E[11]+643717713&4294967295,T=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(T^C))+E[0]+3921069994&4294967295,I=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(I^T))+E[5]+3593408605&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^T&(v^I))+E[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^I&(C^v))+E[15]+3634488961&4294967295,T=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(T^C))+E[4]+3889429448&4294967295,I=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(I^T))+E[9]+568446438&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^T&(v^I))+E[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^I&(C^v))+E[3]+4107603335&4294967295,T=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(T^C))+E[8]+1163531501&4294967295,I=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(I^T))+E[13]+2850285829&4294967295,v=I+(_<<5&4294967295|_>>>27),_=C+(I^T&(v^I))+E[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^I&(C^v))+E[7]+1735328473&4294967295,T=C+(_<<14&4294967295|_>>>18),_=I+(C^v&(T^C))+E[12]+2368359562&4294967295,I=T+(_<<20&4294967295|_>>>12),_=v+(I^T^C)+E[5]+4294588738&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^T)+E[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^I)+E[11]+1839030562&4294967295,T=C+(_<<16&4294967295|_>>>16),_=I+(T^C^v)+E[14]+4259657740&4294967295,I=T+(_<<23&4294967295|_>>>9),_=v+(I^T^C)+E[1]+2763975236&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^T)+E[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^I)+E[7]+4139469664&4294967295,T=C+(_<<16&4294967295|_>>>16),_=I+(T^C^v)+E[10]+3200236656&4294967295,I=T+(_<<23&4294967295|_>>>9),_=v+(I^T^C)+E[13]+681279174&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^T)+E[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^I)+E[3]+3572445317&4294967295,T=C+(_<<16&4294967295|_>>>16),_=I+(T^C^v)+E[6]+76029189&4294967295,I=T+(_<<23&4294967295|_>>>9),_=v+(I^T^C)+E[9]+3654602809&4294967295,v=I+(_<<4&4294967295|_>>>28),_=C+(v^I^T)+E[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^I)+E[15]+530742520&4294967295,T=C+(_<<16&4294967295|_>>>16),_=I+(T^C^v)+E[2]+3299628645&4294967295,I=T+(_<<23&4294967295|_>>>9),_=v+(T^(I|~C))+E[0]+4096336452&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~T))+E[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~I))+E[14]+2878612391&4294967295,T=C+(_<<15&4294967295|_>>>17),_=I+(C^(T|~v))+E[5]+4237533241&4294967295,I=T+(_<<21&4294967295|_>>>11),_=v+(T^(I|~C))+E[12]+1700485571&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~T))+E[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~I))+E[10]+4293915773&4294967295,T=C+(_<<15&4294967295|_>>>17),_=I+(C^(T|~v))+E[1]+2240044497&4294967295,I=T+(_<<21&4294967295|_>>>11),_=v+(T^(I|~C))+E[8]+1873313359&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~T))+E[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~I))+E[6]+2734768916&4294967295,T=C+(_<<15&4294967295|_>>>17),_=I+(C^(T|~v))+E[13]+1309151649&4294967295,I=T+(_<<21&4294967295|_>>>11),_=v+(T^(I|~C))+E[4]+4149444226&4294967295,v=I+(_<<6&4294967295|_>>>26),_=C+(I^(v|~T))+E[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~I))+E[2]+718787259&4294967295,T=C+(_<<15&4294967295|_>>>17),_=I+(C^(T|~v))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var I=v-this.blockSize,E=this.B,T=this.h,C=0;C<v;){if(T==0)for(;C<=I;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(E[T++]=w.charCodeAt(C++),T==this.blockSize){i(this,E),T=0;break}}else for(;C<v;)if(E[T++]=w[C++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var I=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=I&255,I/=256;for(this.u(w),w=Array(16),v=I=0;4>v;++v)for(var E=0;32>E;E+=8)w[I++]=this.g[v]>>>E&255;return w};function o(w,v){var I=c;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=v(w)}function s(w,v){this.h=v;for(var I=[],E=!0,T=w.length-1;0<=T;T--){var C=w[T]|0;E&&C==v||(I[T]=C,E=!1)}this.g=I}var c={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],I=1,E=0;w>=I;E++)v[E]=w/I|0,I*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(f(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),E=p,T=0;T<w.length;T+=8){var C=Math.min(8,w.length-T),_=parseInt(w.substring(T,T+C),v);8>C?(C=l(Math.pow(v,C)),E=E.j(C).add(l(_))):(E=E.j(I),E=E.add(l(_)))}return E}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var w=0,v=1,I=0;I<this.g.length;I++){var E=this.i(I);w+=(0<=E?E:4294967296+E)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D(this))return"0";if(N(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),I=this,E="";;){var T=me(I,v).g;I=F(I,T.j(v));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=T,D(I))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function D(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function N(w){return w.h==-1}t.l=function(w){return w=F(this,w),N(w)?-1:D(w)?0:1};function R(w){for(var v=w.g.length,I=[],E=0;E<v;E++)I[E]=~w.g[E];return new s(I,~w.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0,T=0;T<=v;T++){var C=E+(this.i(T)&65535)+(w.i(T)&65535),_=(C>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);E=_>>>16,C&=65535,_&=65535,I[T]=_<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(R(v))}t.j=function(w){if(D(this)||D(w))return p;if(N(this))return N(w)?R(this).j(R(w)):R(R(this).j(w));if(N(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,I=[],E=0;E<2*v;E++)I[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<w.g.length;T++){var C=this.i(E)>>>16,_=this.i(E)&65535,gn=w.i(T)>>>16,cs=w.i(T)&65535;I[2*E+2*T]+=_*cs,H(I,2*E+2*T),I[2*E+2*T+1]+=C*cs,H(I,2*E+2*T+1),I[2*E+2*T+1]+=_*gn,H(I,2*E+2*T+1),I[2*E+2*T+2]+=C*gn,H(I,2*E+2*T+2)}for(E=0;E<v;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=v;E<2*v;E++)I[E]=0;return new s(I,0)};function H(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Z(w,v){this.g=w,this.h=v}function me(w,v){if(D(v))throw Error("division by zero");if(D(w))return new Z(p,p);if(N(w))return v=me(R(w),v),new Z(R(v.g),R(v.h));if(N(v))return v=me(w,R(v)),new Z(R(v.g),v.h);if(30<w.g.length){if(N(w)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,E=v;0>=E.l(w);)I=st(I),E=st(E);var T=ge(I,1),C=ge(E,1);for(E=ge(E,2),I=ge(I,2);!D(E);){var _=C.add(E);0>=_.l(w)&&(T=T.add(I),C=_),E=ge(E,1),I=ge(I,1)}return v=F(w,T.j(v)),new Z(T,v)}for(T=p;0<=w.l(v);){for(I=Math.max(1,Math.floor(w.m()/v.m())),E=Math.ceil(Math.log(I)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(I),_=C.j(v);N(_)||0<_.l(w);)I-=E,C=l(I),_=C.j(v);D(C)&&(C=m),T=T.add(C),w=F(w,_)}return new Z(T,w)}t.A=function(w){return me(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)&w.i(E);return new s(I,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)|w.i(E);return new s(I,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),I=[],E=0;E<v;E++)I[E]=this.i(E)^w.i(E);return new s(I,this.h^w.h)};function st(w){for(var v=w.g.length+1,I=[],E=0;E<v;E++)I[E]=w.i(E)<<1|w.i(E-1)>>>31;return new s(I,w.h)}function ge(w,v){var I=v>>5;v%=32;for(var E=w.g.length-I,T=[],C=0;C<E;C++)T[C]=0<v?w.i(C+I)>>>v|w.i(C+I+1)<<32-v:w.i(C+I);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vy=ZC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,xn=ZC.Integer=s}).apply(typeof JC<"u"?JC:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},On={};var _y,R2,No,Iy,rc,Dd,Ey,wy,Ty;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var S=a[g];if(!(S in h))break e;h=h[S]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,S={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),a.apply(d,S)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function D(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,S,A){for(var x=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)x[ye-2]=arguments[ye];return d.prototype[S].apply(g,x)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let S=a.length||0,A=g.length||0;a.length=S+A;for(let x=0;x<A;x++)a[S+x]=g[x]}else a.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function me(a){return me[" "](a),a}me[" "]=function(){};var st=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ge(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function w(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function v(a){let d={};for(let h in a)d[h]=a[h];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(h in g)a[h]=g[h];for(let A=0;A<I.length;A++)h=I[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Eh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class gn{constructor(){this.h=this.g=null}add(d,h){let g=cs.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var cs=new F(()=>new RR,a=>a.reset());class RR{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let us,ls=!1,Eh=new gn,P_=()=>{let a=c.Promise.resolve(void 0);us=()=>{a.then(NR)}};var NR=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){C(h)}var d=cs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ls=!1};function Hn(){this.s=this.s,this.C=this.C}Hn.prototype.s=!1,Hn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Hn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var PR=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a})();function ds(a,d){if(Ze.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(st){e:{try{me(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:MR[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ds.aa.h.call(this)}}D(ds,Ze);var MR={2:"touch",3:"pen",4:"mouse"};ds.prototype.h=function(){ds.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var hs="closure_listenable_"+(1e6*Math.random()|0),kR=0;function xR(a,d,h,g,S){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=S,this.key=++kR,this.da=this.fa=!1}function Dc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Rc(a){this.src=a,this.g={},this.h=0}Rc.prototype.add=function(a,d,h,g,S){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var x=Th(a,d,g,S);return-1<x?(d=a[x],h||(d.fa=!1)):(d=new xR(d,this.src,A,!!g,S),d.fa=h,a.push(d)),d};function wh(a,d){var h=d.type;if(h in a.g){var g=a.g[h],S=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=S)&&Array.prototype.splice.call(g,S,1),A&&(Dc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Th(a,d,h,g){for(var S=0;S<a.length;++S){var A=a[S];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return S}return-1}var bh="closure_lm_"+(1e6*Math.random()|0),Sh={};function M_(a,d,h,g,S){if(g&&g.once)return x_(a,d,h,g,S);if(Array.isArray(d)){for(var A=0;A<d.length;A++)M_(a,d[A],h,g,S);return null}return h=Rh(h),a&&a[hs]?a.K(d,h,l(g)?!!g.capture:!!g,S):k_(a,d,h,!1,g,S)}function k_(a,d,h,g,S,A){if(!d)throw Error("Invalid event type");var x=l(S)?!!S.capture:!!S,ye=Ah(a);if(ye||(a[bh]=ye=new Rc(a)),h=ye.add(d,h,g,x,A),h.proxy)return h;if(g=OR(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)PR||(S=x),S===void 0&&(S=!1),a.addEventListener(d.toString(),g,S);else if(a.attachEvent)a.attachEvent(L_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function OR(){function a(h){return d.call(a.src,a.listener,h)}let d=LR;return a}function x_(a,d,h,g,S){if(Array.isArray(d)){for(var A=0;A<d.length;A++)x_(a,d[A],h,g,S);return null}return h=Rh(h),a&&a[hs]?a.L(d,h,l(g)?!!g.capture:!!g,S):k_(a,d,h,!0,g,S)}function O_(a,d,h,g,S){if(Array.isArray(d))for(var A=0;A<d.length;A++)O_(a,d[A],h,g,S);else g=l(g)?!!g.capture:!!g,h=Rh(h),a&&a[hs]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=Th(A,h,g,S),-1<h&&(Dc(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ah(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Th(d,h,g,S)),(h=-1<a?d[a]:null)&&Ch(h))}function Ch(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[hs])wh(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(L_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Ah(d))?(wh(h,a),h.h==0&&(h.src=null,d[bh]=null)):Dc(a)}}}function L_(a){return a in Sh?Sh[a]:Sh[a]="on"+a}function LR(a,d){if(a.da)a=!0;else{d=new ds(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Ch(a),a=h.call(g,d)}return a}function Ah(a){return a=a[bh],a instanceof Rc?a:null}var Dh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rh(a){return typeof a=="function"?a:(a[Dh]||(a[Dh]=function(d){return a.handleEvent(d)}),a[Dh])}function Xe(){Hn.call(this),this.i=new Rc(this),this.M=this,this.F=null}D(Xe,Hn),Xe.prototype[hs]=!0,Xe.prototype.removeEventListener=function(a,d,h,g){O_(this,a,d,h,g)};function at(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ze(d,a);else if(d instanceof Ze)d.target=d.target||a;else{var S=d;d=new Ze(g,a),E(d,S)}if(S=!0,h)for(var A=h.length-1;0<=A;A--){var x=d.g=h[A];S=Nc(x,g,!0,d)&&S}if(x=d.g=a,S=Nc(x,g,!0,d)&&S,S=Nc(x,g,!1,d)&&S,h)for(A=0;A<h.length;A++)x=d.g=h[A],S=Nc(x,g,!1,d)&&S}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Dc(h[g]);delete a.g[d],a.h--}}this.F=null},Xe.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Xe.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Nc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,A=0;A<d.length;++A){var x=d[A];if(x&&!x.da&&x.capture==h){var ye=x.listener,Qe=x.ha||x.src;x.fa&&wh(a.i,x),S=ye.call(Qe,g)!==!1&&S}}return S&&!g.defaultPrevented}function F_(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function V_(a){a.g=F_(()=>{a.g=null,a.i&&(a.i=!1,V_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class FR extends Hn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:V_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(a){Hn.call(this),this.h=a,this.g={}}D(fs,Hn);var j_=[];function U_(a){ge(a.g,function(d,h){this.g.hasOwnProperty(h)&&Ch(d)},a),a.g={}}fs.prototype.N=function(){fs.aa.N.call(this),U_(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nh=c.JSON.stringify,VR=c.JSON.parse,jR=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Ph(){}Ph.prototype.h=null;function B_(a){return a.h||(a.h=a.i())}function $_(){}var ps={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mh(){Ze.call(this,"d")}D(Mh,Ze);function kh(){Ze.call(this,"c")}D(kh,Ze);var Sr={},H_=null;function Pc(){return H_=H_||new Xe}Sr.La="serverreachability";function z_(a){Ze.call(this,Sr.La,a)}D(z_,Ze);function gs(a){let d=Pc();at(d,new z_(d))}Sr.STAT_EVENT="statevent";function q_(a,d){Ze.call(this,Sr.STAT_EVENT,a),this.stat=d}D(q_,Ze);function ct(a){let d=Pc();at(d,new q_(d,a))}Sr.Ma="timingevent";function W_(a,d){Ze.call(this,Sr.Ma,a),this.size=d}D(W_,Ze);function ms(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function UR(a,d,h,g,S,A){a.info(function(){if(a.g)if(A)for(var x="",ye=A.split("&"),Qe=0;Qe<ye.length;Qe++){var le=ye[Qe].split("=");if(1<le.length){var et=le[0];le=le[1];var tt=et.split("_");x=2<=tt.length&&tt[1]=="type"?x+(et+"="+le+"&"):x+(et+"=redacted&")}}else x=null;else x=A;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+d+`
`+h+`
`+x})}function BR(a,d,h,g,S,A,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+d+`
`+h+`
`+A+" "+x})}function Ci(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+HR(a,h)+(g?" "+g:"")})}function $R(a,d){a.info(function(){return"TIMEOUT: "+d})}ys.prototype.info=function(){};function HR(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var A=S[0];if(A!="noop"&&A!="stop"&&A!="close")for(var x=1;x<S.length;x++)S[x]=""}}}}return Nh(h)}catch{return d}}var Mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},G_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xh;function kc(){}D(kc,Ph),kc.prototype.g=function(){return new XMLHttpRequest},kc.prototype.i=function(){return{}},xh=new kc;function zn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new K_}function K_(){this.i=null,this.g="",this.h=!1}var Q_={},Oh={};function Lh(a,d,h){a.L=1,a.v=Fc(mn(d)),a.m=h,a.P=!0,Y_(a,null)}function Y_(a,d){a.F=Date.now(),xc(a),a.A=mn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),lI(h.i,"t",g),a.C=0,h=a.j.J,a.h=new K_,a.g=DI(a.j,h?d:null,!a.m),0<a.O&&(a.M=new FR(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var S="readystatechange";Array.isArray(S)||(S&&(j_[0]=S.toString()),S=j_);for(var A=0;A<S.length;A++){var x=M_(h,S[A],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),gs(),UR(a.i,a.u,a.A,a.l,a.R,a.m)}zn.prototype.ca=function(a){a=a.target;let d=this.M;d&&yn(a)==3?d.j():this.Y(a)},zn.prototype.Y=function(a){try{if(a==this.g)e:{let tt=yn(this.g);var d=this.g.Ba();let Ri=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||yI(this.g)))){this.J||tt!=4||d==7||(d==8||0>=Ri?gs(3):gs(2)),Fh(this);var h=this.g.Z();this.X=h;t:if(J_(this)){var g=yI(this.g);a="";var S=g.length,A=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),vs(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==S-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=h==200,BR(this.i,this.u,this.A,this.l,this.R,tt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,Qe=this.g;if((ye=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ye)){var le=ye;break t}}le=null}if(h=le)Ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vh(this,h);else{this.o=!1,this.s=3,ct(12),Cr(this),vs(this);break e}}if(this.P){h=!0;let Lt;for(;!this.J&&this.C<x.length;)if(Lt=zR(this,x),Lt==Oh){tt==4&&(this.s=4,ct(14),h=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Q_){this.s=4,ct(15),Ci(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Ci(this.i,this.l,Lt,null),Vh(this,Lt);if(J_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||x.length!=0||this.h.h||(this.s=1,ct(16),h=!1),this.o=this.o&&h,!h)Ci(this.i,this.l,x,"[Invalid Chunked Response]"),Cr(this),vs(this);else if(0<x.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),zh(et),et.M=!0,ct(11))}}else Ci(this.i,this.l,x,null),Vh(this,x);tt==4&&Cr(this),this.o&&!this.J&&(tt==4?bI(this.j,this):(this.o=!1,xc(this)))}else a0(this.g),h==400&&0<x.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Cr(this),vs(this)}}}catch{}finally{}};function J_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function zR(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Oh:(h=Number(d.substring(h,g)),isNaN(h)?Q_:(g+=1,g+h>d.length?Oh:(d=d.slice(g,g+h),a.C=g+h,d)))}zn.prototype.cancel=function(){this.J=!0,Cr(this)};function xc(a){a.S=Date.now()+a.I,Z_(a,a.I)}function Z_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ms(m(a.ba,a),d)}function Fh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}zn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?($R(this.i,this.A),this.L!=2&&(gs(),ct(17)),Cr(this),this.s=2,vs(this)):Z_(this,this.S-a)};function vs(a){a.j.G==0||a.J||bI(a.j,a)}function Cr(a){Fh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,U_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Vh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||jh(h.h,a))){if(!a.K&&jh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)$c(h),Uc(h);else break e;Hh(h),ct(18)}}else h.za=S[1],0<h.za-h.T&&37500>S[2]&&h.F&&h.v==0&&!h.C&&(h.C=ms(m(h.Za,h),6e3));if(1>=tI(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Dr(h,11)}else if((a.K||h.g==a)&&$c(h),!H(d))for(S=h.Da.g.parse(d),d=0;d<S.length;d++){let le=S[d];if(h.T=le[0],le=le[1],h.G==2)if(le[0]=="c"){h.K=le[1],h.ia=le[2];let et=le[3];et!=null&&(h.la=et,h.j.info("VER="+h.la));let tt=le[4];tt!=null&&(h.Aa=tt,h.j.info("SVER="+h.Aa));let Ri=le[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(g=1.5*Ri,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Lt=a.g;if(Lt){let zc=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zc){var A=g.h;A.g||zc.indexOf("spdy")==-1&&zc.indexOf("quic")==-1&&zc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Uh(A,A.h),A.h=null))}if(g.D){let qh=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;qh&&(g.ya=qh,Ie(g.I,g.D,qh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var x=a;if(g.qa=AI(g,g.J?g.ia:null,g.W),x.K){nI(g.h,x);var ye=x,Qe=g.L;Qe&&(ye.I=Qe),ye.B&&(Fh(ye),xc(ye)),g.g=x}else wI(g);0<h.i.length&&Bc(h)}else le[0]!="stop"&&le[0]!="close"||Dr(h,7);else h.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Dr(h,7):$h(h):le[0]!="noop"&&h.l&&h.l.ta(le),h.v=0)}}gs(4)}catch{}}var qR=class{constructor(a,d){this.g=a,this.map=d}};function X_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function tI(a){return a.h?1:a.g?a.g.size:0}function jh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Uh(a,d){a.g?a.g.add(d):a.h=d}function nI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}X_.prototype.cancel=function(){if(this.i=rI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function rI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function WR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function GR(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function iI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=GR(a),g=WR(a),S=g.length,A=0;A<S;A++)d.call(void 0,g[A],h&&h[A],a)}var oI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KR(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),S=null;if(0<=g){var A=a[h].substring(0,g);S=a[h].substring(g+1)}else A=a[h];d(A,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Ar(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ar){this.h=a.h,Oc(this,a.j),this.o=a.o,this.g=a.g,Lc(this,a.s),this.l=a.l;var d=a.i,h=new Es;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),sI(this,h),this.m=a.m}else a&&(d=String(a).match(oI))?(this.h=!1,Oc(this,d[1]||"",!0),this.o=_s(d[2]||""),this.g=_s(d[3]||"",!0),Lc(this,d[4]),this.l=_s(d[5]||"",!0),sI(this,d[6]||"",!0),this.m=_s(d[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}Ar.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Is(d,aI,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Is(d,aI,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Is(h,h.charAt(0)=="/"?JR:YR,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Is(h,XR)),a.join("")};function mn(a){return new Ar(a)}function Oc(a,d,h){a.j=h?_s(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Lc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function sI(a,d,h){d instanceof Es?(a.i=d,e0(a.i,a.h)):(h||(d=Is(d,ZR)),a.i=new Es(d,a.h))}function Ie(a,d,h){a.i.set(d,h)}function Fc(a){return Ie(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function _s(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Is(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,QR),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function QR(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var aI=/[#\/\?@]/g,YR=/[#\?:]/g,JR=/[#\?]/g,ZR=/[#\?@]/g,XR=/#/g;function Es(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function qn(a){a.g||(a.g=new Map,a.h=0,a.i&&KR(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Es.prototype,t.add=function(a,d){qn(this),this.i=null,a=Ai(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function cI(a,d){qn(a),d=Ai(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function uI(a,d){return qn(a),d=Ai(a,d),a.g.has(d)}t.forEach=function(a,d){qn(this),this.g.forEach(function(h,g){h.forEach(function(S){a.call(d,S,g,this)},this)},this)},t.na=function(){qn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let S=a[g];for(let A=0;A<S.length;A++)h.push(d[g])}return h},t.V=function(a){qn(this);let d=[];if(typeof a=="string")uI(this,a)&&(d=d.concat(this.g.get(Ai(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return qn(this),this.i=null,a=Ai(this,a),uI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function lI(a,d,h){cI(a,d),0<h.length&&(a.i=null,a.g.set(Ai(a,d),N(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var S=A;x[g]!==""&&(S+="="+encodeURIComponent(String(x[g]))),a.push(S)}}return this.i=a.join("&")};function Ai(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function e0(a,d){d&&!a.j&&(qn(a),a.i=null,a.g.forEach(function(h,g){var S=g.toLowerCase();g!=S&&(cI(this,g),lI(this,S,h))},a)),a.j=d}function t0(a,d){let h=new ys;if(c.Image){let g=new Image;g.onload=y(Wn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Wn,h,"TestLoadImage: error",!1,d,g),g.onabort=y(Wn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Wn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function n0(a,d){let h=new ys,g=new AbortController,S=setTimeout(()=>{g.abort(),Wn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(S),A.ok?Wn(h,"TestPingServer: ok",!0,d):Wn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),Wn(h,"TestPingServer: error",!1,d)})}function Wn(a,d,h,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(h)}catch{}}function r0(){this.g=new jR}function i0(a,d,h){let g=h||"";try{iI(a,function(S,A){let x=S;l(S)&&(x=Nh(S)),d.push(g+A+"="+encodeURIComponent(x))})}catch(S){throw d.push(g+"type="+encodeURIComponent("_badmap")),S}}function ws(a){this.l=a.Ub||null,this.j=a.eb||!1}D(ws,Ph),ws.prototype.g=function(){return new Vc(this.l,this.j)},ws.prototype.i=(function(a){return function(){return a}})({});function Vc(a,d){Xe.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Vc,Xe),t=Vc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,bs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function dI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Ts(this):bs(this),this.readyState==3&&dI(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ts(this))},t.Qa=function(a){this.g&&(this.response=a,Ts(this))},t.ga=function(){this.g&&Ts(this)};function Ts(a){a.readyState=4,a.l=null,a.j=null,a.v=null,bs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function bs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function hI(a){let d="";return ge(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Bh(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=hI(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ie(a,d,h))}function be(a){Xe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(be,Xe);var o0=/^https?$/i,s0=["POST","PUT"];t=be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xh.g(),this.v=this.o?B_(this.o):B_(xh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){fI(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)h.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),S=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(s0,d,void 0))||g||S||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,x]of h)this.g.setRequestHeader(A,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mI(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){fI(this,A)}};function fI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,pI(a),jc(a)}function pI(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),jc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jc(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gI(this):this.bb())},t.bb=function(){gI(this)};function gI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||yn(a)!=4||a.Z()!=2)){if(a.u&&yn(a)==4)F_(a.Ea,0,a);else if(at(a,"readystatechange"),yn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=x===0){var S=String(a.D).match(oI)[1]||null;!S&&c.self&&c.self.location&&(S=c.self.location.protocol.slice(0,-1)),g=!o0.test(S?S.toLowerCase():"")}h=g}if(h)at(a,"complete"),at(a,"success");else{a.m=6;try{var A=2<yn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",pI(a)}}finally{jc(a)}}}}function jc(a,d){if(a.g){mI(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||at(a,"ready");try{h.onreadystatechange=g}catch{}}}function mI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function yn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),VR(d)}};function yI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function a0(a){let d={};a=(a.g&&2<=yn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(H(a[g]))continue;var h=T(a[g]);let S=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[S]||[];d[S]=A,A.push(h)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function vI(a){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,a),this.cb=Ss("retryDelaySeedMs",1e4,a),this.Wa=Ss("forwardChannelMaxRetries",2,a),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new X_(a&&a.concurrentRequestLimit),this.Da=new r0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vI.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){ct(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=AI(this,null,this.W),Bc(this)};function $h(a){if(_I(a),a.G==3){var d=a.U++,h=mn(a.I);if(Ie(h,"SID",a.K),Ie(h,"RID",d),Ie(h,"TYPE","terminate"),Cs(a,h),d=new zn(a,a.j,d),d.L=2,d.v=Fc(mn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=DI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),xc(d)}CI(a)}function Uc(a){a.g&&(zh(a),a.g.cancel(),a.g=null)}function _I(a){Uc(a),a.u&&(c.clearTimeout(a.u),a.u=null),$c(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Bc(a){if(!eI(a.h)&&!a.s){a.s=!0;var d=a.Ga;us||P_(),ls||(us(),ls=!0),Eh.add(d,a),a.B=0}}function c0(a,d){return tI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ms(m(a.Ga,a,d),SI(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let S=new zn(this,this.j,a),A=this.o;if(this.S&&(A?(A=v(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(S.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=EI(this,S,d),h=mn(this.I),Ie(h,"RID",a),Ie(h,"CVER",22),this.D&&Ie(h,"X-HTTP-Session-Id",this.D),Cs(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(hI(A)))+"&"+d:this.m&&Bh(h,this.m,A)),Uh(this.h,S),this.Ua&&Ie(h,"TYPE","init"),this.P?(Ie(h,"$req",d),Ie(h,"SID","null"),S.T=!0,Lh(S,h,null)):Lh(S,h,d),this.G=2}}else this.G==3&&(a?II(this,a):this.i.length==0||eI(this.h)||II(this))};function II(a,d){var h;d?h=d.l:h=a.U++;let g=mn(a.I);Ie(g,"SID",a.K),Ie(g,"RID",h),Ie(g,"AID",a.T),Cs(a,g),a.m&&a.o&&Bh(g,a.m,a.o),h=new zn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=EI(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Uh(a.h,h),Lh(h,g,d)}function Cs(a,d){a.H&&ge(a.H,function(h,g){Ie(d,g,h)}),a.l&&iI({},function(h,g){Ie(d,g,h)})}function EI(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var S=a.i;let A=-1;for(;;){let x=["count="+h];A==-1?0<h?(A=S[0].g,x.push("ofs="+A)):A=0:x.push("ofs="+A);let ye=!0;for(let Qe=0;Qe<h;Qe++){let le=S[Qe].g,et=S[Qe].map;if(le-=A,0>le)A=Math.max(0,S[Qe].g-100),ye=!1;else try{i0(et,x,"req"+le+"_")}catch{g&&g(et)}}if(ye){g=x.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function wI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;us||P_(),ls||(us(),ls=!0),Eh.add(d,a),a.v=0}}function Hh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ms(m(a.Fa,a),SI(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,TI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ms(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Uc(this),TI(this))};function zh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function TI(a){a.g=new zn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=mn(a.qa);Ie(d,"RID","rpc"),Ie(d,"SID",a.K),Ie(d,"AID",a.T),Ie(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ie(d,"TO",a.ja),Ie(d,"TYPE","xmlhttp"),Cs(a,d),a.m&&a.o&&Bh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Fc(mn(d)),h.m=null,h.P=!0,Y_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Uc(this),Hh(this),ct(19))};function $c(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function bI(a,d){var h=null;if(a.g==d){$c(a),zh(a),a.g=null;var g=2}else if(jh(a.h,d))h=d.D,nI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var S=a.B;g=Pc(),at(g,new W_(g,h)),Bc(a)}else wI(a);else if(S=d.s,S==3||S==0&&0<d.X||!(g==1&&c0(a,d)||g==2&&Hh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),S){case 1:Dr(a,5);break;case 4:Dr(a,10);break;case 3:Dr(a,6);break;default:Dr(a,2)}}}function SI(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Dr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let S=!g;g=new Ar(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Oc(g,"https"),Fc(g),S?t0(g.toString(),h):n0(g.toString(),h)}else ct(2);a.G=0,a.l&&a.l.sa(d),CI(a),_I(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function CI(a){if(a.G=0,a.ka=[],a.l){let d=rI(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function AI(a,d,h){var g=h instanceof Ar?mn(h):new Ar(h);if(g.g!="")d&&(g.g=d+"."+g.g),Lc(g,g.s);else{var S=c.location;g=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var A=new Ar(null);g&&Oc(A,g),d&&(A.g=d),S&&Lc(A,S),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&Ie(g,h,d),Ie(g,"VER",a.la),Cs(a,g),g}function DI(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new be(new ws({eb:h})):new be(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function RI(){}t=RI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hc(){}Hc.prototype.g=function(a,d){return new It(a,d)};function It(a,d){Xe.call(this),this.g=new vI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!H(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Di(this)}D(It,Xe),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){$h(this.g)},It.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Nh(a),a=h);d.i.push(new qR(d.Ya++,a)),d.G==3&&Bc(d)},It.prototype.N=function(){this.g.l=null,delete this.j,$h(this.g),delete this.g,It.aa.N.call(this)};function NI(a){Mh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}D(NI,Mh);function PI(){kh.call(this),this.status=1}D(PI,kh);function Di(a){this.g=a}D(Di,RI),Di.prototype.ua=function(){at(this.g,"a")},Di.prototype.ta=function(a){at(this.g,new NI(a))},Di.prototype.sa=function(a){at(this.g,new PI)},Di.prototype.ra=function(){at(this.g,"b")},Hc.prototype.createWebChannel=Hc.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,Ty=On.createWebChannelTransport=function(){return new Hc},wy=On.getStatEventTarget=function(){return Pc()},Ey=On.Event=Sr,Dd=On.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,rc=On.ErrorCode=Mc,G_.COMPLETE="complete",Iy=On.EventType=G_,$_.EventType=ps,ps.OPEN="a",ps.CLOSE="b",ps.ERROR="c",ps.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,No=On.WebChannel=$_,R2=On.FetchXmlHttpFactory=ws,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,_y=On.XhrIo=be}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});var XC="@firebase/firestore",eA="4.8.0";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var is="11.10.0";var Ti=new cn("@firebase/firestore");function Po(){return Ti.logLevel}function L(t,...e){if(Ti.logLevel<=ne.DEBUG){let n=e.map(o_);Ti.debug(`Firestore (${is}): ${t}`,...n)}}function jn(t,...e){if(Ti.logLevel<=ne.ERROR){let n=e.map(o_);Ti.error(`Firestore (${is}): ${t}`,...n)}}function Ir(t,...e){if(Ti.logLevel<=ne.WARN){let n=e.map(o_);Ti.warn(`Firestore (${is}): ${t}`,...n)}}function o_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function W(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,HA(t,r,n)}function HA(t,e,n){let r=`FIRESTORE (${is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw jn(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||HA(e,i,r)}function ae(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Fn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var xd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ry=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}},Ny=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Py=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Fn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>b(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new xd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}},My=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},ky=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new My(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Od=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},xy=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Od(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Od(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function N2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function zA(){return new TextEncoder}var Ld=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=N2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function te(t,e){return t<e?-1:t>e?1:0}function Oy(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return te(r,i);{let o=zA(),s=P2(o.encode(tA(t,n)),o.encode(tA(e,n)));return s!==0?s:te(r,i)}}n+=r>65535?2:1}return te(t.length,e.length)}function tA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function P2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return te(t[n],e[n]);return te(t.length,e.length)}function Wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var nA="__name__",Fd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&W(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return te(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xn.fromString(e.substring(4,e.length-2))}},De=class t extends Fd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},M2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class t extends Fd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return M2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nA}static keyField(){return new t([nA])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new V(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var $=class t{constructor(e){this.path=e}static fromPath(e){return new t(De.fromString(e))}static fromName(e){return new t(De.fromString(e).popFirst(5))}static empty(){return new t(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new De(e.slice()))}};function k2(t,e,n){if(!n)throw new V(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x2(t,e,n,r){if(e===!0&&r===!0)throw new V(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rA(t){if($.isDocumentKey(t))throw new V(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function O2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function L2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W(12329,{type:typeof t})}function Ly(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=L2(t);throw new V(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ke(t,e){let n={typeString:t};return e&&(n.value=e),n}function Tc(t,e){if(!O2(t))throw new V(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new V(k.INVALID_ARGUMENT,n);return!0}var iA=-62135596800,oA=1e6,ht=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*oA);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iA)throw new V(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oA}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-iA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:ke("string",ht._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};var J=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new ht(0,0))}static max(){return new t(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lc=-1,Fy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Fy.UNKNOWN_ID=-1;function F2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new bi(i,$.empty(),e)}function V2(t){return new bi(t.readTime,t.key,lc)}var bi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),$.empty(),lc)}static max(){return new t(J.max(),$.empty(),lc)}};function j2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}var U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function lh(t){return b(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==U2)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function B2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function os(t){return t.name==="IndexedDbTransactionError"}var s_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),$2=-1;function dh(t){return t==null}function Vd(t){return t===0&&1/t==-1/0}var qA="";function H2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sA(e)),e=z2(t.get(n),e);return sA(e)}function z2(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case qA:n+="";break;default:n+=o}}return n}function sA(t){return t+qA+""}var q2="remoteDocuments",WA="owner";var GA="mutationQueues";var KA="mutations";var QA="documentMutations",W2="remoteDocumentsV14";var YA="remoteDocumentGlobal";var JA="targets";var ZA="targetDocuments";var XA="targetGlobal",eD="collectionParents";var tD="clientMetadata";var nD="bundles";var rD="namedQueries";var G2="indexConfiguration";var K2="indexState";var Q2="indexEntries";var iD="documentOverlays";var Y2="globals";var J2=[GA,KA,QA,q2,JA,WA,XA,ZA,tD,YA,eD,nD,rD],Pee=[...J2,iD],Z2=[GA,KA,QA,W2,JA,WA,XA,ZA,tD,YA,eD,nD,rD,iD],X2=Z2,ej=[...X2,G2,K2,Q2];var Mee=[...ej,Y2];function aA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tj(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Re=class t{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oo(this.root,e,this.comparator,!0)}},Oo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw W(27949);return e+(this.isRed()?0:1)}};dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ke=class t{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jd(this.data.getIterator())}getIteratorFrom(e){return new jd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},jd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ii=class t{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ke(Kt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ud=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ot=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ud("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ot.EMPTY_BYTE_STRING=new ot("");var nj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Un(t){if(Te(!!t,39018),typeof t=="string"){let e=0,n=nj.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:we(t.seconds),nanos:we(t.nanos)}}function we(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bn(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}var oD="server_timestamp",sD="__type__",aD="__previous_value__",cD="__local_write_time__";function a_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sD])===null||n===void 0?void 0:n.stringValue)===oD}function hh(t){let e=t.mapValue.fields[aD];return a_(e)?hh(e):e}function dc(t){let e=Un(t.mapValue.fields[cD].timestampValue);return new ht(e.seconds,e.nanos)}var jy=class{constructor(e,n,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},Bd="(default)",$d=class t{constructor(e,n){this.projectId=e,this.database=n||Bd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var uD="__type__",lD="__max__",Rd={mapValue:{fields:{__type__:{stringValue:lD}}}},dD="__vector__",hc="value";function Er(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a_(t)?4:fD(t)?9007199254740991:hD(t)?10:11:W(28295,{value:t})}function fn(t,e){if(t===e)return!0;let n=Er(t);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Un(i.timestampValue),c=Un(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Bn(i.bytesValue).isEqual(Bn(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return we(i.geoPointValue.latitude)===we(o.geoPointValue.latitude)&&we(i.geoPointValue.longitude)===we(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return we(i.integerValue)===we(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=we(i.doubleValue),c=we(o.doubleValue);return s===c?Vd(s)===Vd(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(aA(s)!==aA(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!fn(s[u],c[u])))return!1;return!0})(t,e);default:return W(52216,{left:t})}}function fc(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function Go(t,e){if(t===e)return 0;let n=Er(t),r=Er(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=we(o.integerValue||o.doubleValue),u=we(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return cA(t.timestampValue,e.timestampValue);case 4:return cA(dc(t),dc(e));case 5:return Oy(t.stringValue,e.stringValue);case 6:return(function(o,s){let c=Bn(o),u=Bn(s);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=te(c[l],u[l]);if(f!==0)return f}return te(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=te(we(o.latitude),we(s.latitude));return c!==0?c:te(we(o.longitude),we(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return uA(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,f;let p=o.fields||{},m=s.fields||{},y=(c=p[hc])===null||c===void 0?void 0:c.arrayValue,D=(u=m[hc])===null||u===void 0?void 0:u.arrayValue,N=te(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((f=D?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:uA(y,D)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Rd.mapValue&&s===Rd.mapValue)return 0;if(o===Rd.mapValue)return 1;if(s===Rd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=Oy(u[p],f[p]);if(m!==0)return m;let y=Go(c[u[p]],l[f[p]]);if(y!==0)return y}return te(u.length,f.length)})(t.mapValue,e.mapValue);default:throw W(23264,{le:n})}}function cA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);let n=Un(t),r=Un(e),i=te(n.seconds,r.seconds);return i!==0?i:te(n.nanos,r.nanos)}function uA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Go(n[i],r[i]);if(o)return o}return te(n.length,r.length)}function Ko(t){return Uy(t)}function Uy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Un(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bn(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return $.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Uy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Uy(n.fields[s])}`;return i+"}"})(t.mapValue):W(61005,{value:t})}function Md(t){switch(Er(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=hh(t);return e?16+Md(e):16;case 5:return 2*t.stringValue.length;case 6:return Bn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Md(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return bc(r.fields,(o,s)=>{i+=o.length+Md(s)}),i})(t.mapValue);default:throw W(13486,{value:t})}}function By(t){return!!t&&"integerValue"in t}function c_(t){return!!t&&"arrayValue"in t}function lA(t){return!!t&&"nullValue"in t}function dA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function by(t){return!!t&&"mapValue"in t}function hD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[uD])===null||n===void 0?void 0:n.stringValue)===dD}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return bc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lD}var xee={mapValue:{fields:{[uD]:{stringValue:dD},[hc]:{arrayValue:{}}}}};var Ln=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!by(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=oc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());by(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];by(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bc(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(oc(this.value))}};var Qt=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qo=class{constructor(e,n){this.position=e,this.inclusive=n}};function hA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=$.comparator($.fromName(s.referenceValue),n.key):r=Go(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function fA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}var Yo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function rj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hd=class{},Ve=class t extends Hd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hy(e,n,r):n==="array-contains"?new Wy(e,r):n==="in"?new Gy(e,r):n==="not-in"?new Ky(e,r):n==="array-contains-any"?new Qy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zy(e,r):new qy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Go(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pn=class t extends Hd{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return pD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function pD(t){return t.op==="and"}function gD(t){return ij(t)&&pD(t)}function ij(t){for(let e of t.filters)if(e instanceof pn)return!1;return!0}function $y(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(gD(t))return t.filters.map(e=>$y(e)).join(",");{let e=t.filters.map(n=>$y(n)).join(",");return`${t.op}(${e})`}}function mD(t,e){return t instanceof Ve?(function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&fn(r.value,i.value)})(t,e):t instanceof pn?(function(r,i){return i instanceof pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&mD(s,i.filters[c]),!0):!1})(t,e):void W(19439)}function yD(t){return t instanceof Ve?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`})(t):t instanceof pn?(function(n){return n.op.toString()+" {"+n.getFilters().map(yD).join(" ,")+"}"})(t):"Filter"}var Hy=class extends Ve{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){let n=$.comparator(e.key,this.key);return this.matchesComparison(n)}},zy=class extends Ve{constructor(e,n){super(e,"in",n),this.keys=vD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},qy=class extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=vD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function vD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}var Wy=class extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return c_(n)&&fc(n.arrayValue,this.value)}},Gy=class extends Ve{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}},Ky=class extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}},Qy=class extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!c_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}};var Yy=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function pA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Yy(t,e,n,r,i,o,s)}function u_(t){let e=ae(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$y(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ko(r)).join(",")),e.Pe=n}return e.Pe}function l_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fA(t.startAt,e.startAt)&&fA(t.endAt,e.endAt)}function Jy(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Jo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function oj(t,e,n,r,i,o,s,c){return new Jo(t,e,n,r,i,o,s,c)}function _D(t){return new Jo(t)}function gA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sj(t){return t.collectionGroup!==null}function sc(t){let e=ae(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ke(Kt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Yo(o,r))}),n.has(Kt.keyField().canonicalString())||e.Te.push(new Yo(Kt.keyField(),r))}return e.Te}function hn(t){let e=ae(t);return e.Ie||(e.Ie=aj(e,sc(t))),e.Ie}function aj(t,e){if(t.limitType==="F")return pA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Yo(i.field,o)});let n=t.endAt?new Qo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qo(t.startAt.position,t.startAt.inclusive):null;return pA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zy(t,e,n){return new Jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return l_(hn(t),hn(e))&&t.limitType===e.limitType}function ID(t){return`${u_(hn(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yD(i)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ko(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ko(i)).join(",")),`Target(${r})`})(hn(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of sc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=hA(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,sc(r),i)||r.endAt&&!(function(s,c,u){let l=hA(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,sc(r),i))})(t,e)}function cj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ED(t){return(e,n)=>{let r=!1;for(let i of sc(t)){let o=uj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function uj(t,e,n){let r=t.field.isKeyField()?$.comparator(e.key,n.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Go(u,l):W(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W(19790,{direction:t.dir})}}var $n=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bc(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return tj(this.inner)}size(){return this.innerSize}};var lj=new Re($.comparator);function wr(){return lj}var wD=new Re($.comparator);function ic(...t){let e=wD;for(let n of t)e=e.insert(n.key,n);return e}function dj(t){let e=wD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return ac()}function TD(){return ac()}function ac(){return new $n(t=>t.toString(),(t,e)=>t.isEqual(e))}var Oee=new Re($.comparator),hj=new Ke($.comparator);function ue(...t){let e=hj;for(let n of t)e=e.add(n);return e}var fj=new Ke(te);function pj(){return fj}function gj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function mj(t){return{integerValue:""+t}}var Zo=class{constructor(){this._=void 0}};function yj(t,e,n){return t instanceof pc?(function(i,o){let s={fields:{[sD]:{stringValue:oD},[cD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&a_(o)&&(o=hh(o)),o&&(s.fields[aD]=o),{mapValue:s}})(n,e):t instanceof Xo?bD(t,e):t instanceof es?SD(t,e):(function(i,o){let s=_j(i,o),c=mA(s)+mA(i.Ee);return By(s)&&By(i.Ee)?mj(c):gj(i.serializer,c)})(t,e)}function vj(t,e,n){return t instanceof Xo?bD(t,e):t instanceof es?SD(t,e):n}function _j(t,e){return t instanceof gc?(function(r){return By(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var pc=class extends Zo{},Xo=class extends Zo{constructor(e){super(),this.elements=e}};function bD(t,e){let n=CD(e);for(let r of t.elements)n.some(i=>fn(i,r))||n.push(r);return{arrayValue:{values:n}}}var es=class extends Zo{constructor(e){super(),this.elements=e}};function SD(t,e){let n=CD(e);for(let r of t.elements)n=n.filter(i=>!fn(i,r));return{arrayValue:{values:n}}}var gc=class extends Zo{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function mA(t){return we(t.integerValue||t.doubleValue)}function CD(t){return c_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ij(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Xo&&i instanceof Xo||r instanceof es&&i instanceof es?Wo(r.elements,i.elements,fn):r instanceof gc&&i instanceof gc?fn(r.Ee,i.Ee):r instanceof pc&&i instanceof pc})(t.transform,e.transform)}var cc=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var mc=class{};function AD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xy(t.key,cc.none()):new yc(t.key,t.data,cc.none());{let n=t.data,r=Ln.empty(),i=new Ke(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ts(t.key,r,new Ii(i.toArray()),cc.none())}}function Ej(t,e,n){t instanceof yc?(function(i,o,s){let c=i.value.clone(),u=vA(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):t instanceof ts?(function(i,o,s){if(!kd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=vA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(DD(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function uc(t,e,n,r){return t instanceof yc?(function(o,s,c,u){if(!kd(o.precondition,s))return c;let l=o.value.clone(),f=_A(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof ts?(function(o,s,c,u){if(!kd(o.precondition,s))return c;let l=_A(o.fieldTransforms,u,s),f=s.data;return f.setAll(DD(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,c){return kd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,n)}function yA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wo(r,i,(o,s)=>Ij(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var yc=class extends mc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ts=class extends mc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function DD(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function vA(t,e,n){let r=new Map;Te(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,vj(s,c,n[i]))}return r}function _A(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,yj(o,s,e))}return r}var Xy=class extends mc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var ev=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Ej(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=uc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=uc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=TD();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=AD(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,r)=>yA(n,r))&&Wo(this.baseMutations,e.baseMutations,(n,r)=>yA(n,r))}};var tv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var nv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Pe,se;function RD(t){if(t===void 0)return jn("GRPC error has no .code"),k.UNKNOWN;switch(t){case Pe.OK:return k.OK;case Pe.CANCELLED:return k.CANCELLED;case Pe.UNKNOWN:return k.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return k.INTERNAL;case Pe.UNAVAILABLE:return k.UNAVAILABLE;case Pe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Pe.NOT_FOUND:return k.NOT_FOUND;case Pe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Pe.ABORTED:return k.ABORTED;case Pe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Pe.DATA_LOSS:return k.DATA_LOSS;default:return W(39323,{code:t})}}(se=Pe||(Pe={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";var IA=null;var wj=new xn([4294967295,4294967295],0);function EA(t){let e=zA().encode(t),n=new vy;return n.update(e),new Uint8Array(n.digest())}function wA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xn([n,r],0),new xn([i,o],0)]}var rv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wi(`Invalid padding: ${n}`);if(r<0)throw new wi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wi(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=xn.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(xn.fromNumber(r)));return i.compare(wj)===1&&(i=new xn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=EA(e),[r,i]=wA(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let n=EA(e),[r,i]=wA(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var zd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new Re(te),wr(),ue())}},vc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var Fo=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},qd=class{constructor(e,n){this.targetId=e,this.De=n}},Wd=class{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Gd=class{constructor(){this.ve=0,this.Ce=TA(),this.Fe=ot.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),n=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W(38017,{changeType:o})}}),new vc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=TA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},iv=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=wr(),this.je=Nd(),this.Je=Nd(),this.He=new Re(te)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:W(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(Jy(o))if(r===0){let s=new $(o.path);this.Xe(n,s,Qt.newNoDocument(s,J.min()))}else Te(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}IA?.ct((function(f,p,m,y,D){var N,R,F,H,Z,me;let st={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ge=p.unchangedNames;return ge&&(st.bloomFilter={applied:D===0,hashCount:(N=ge?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(H=(F=(R=ge?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(me=(Z=ge?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&me!==void 0?me:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),st})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Bn(r).toUint8Array()}catch(u){if(u instanceof Ud)return Ir("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new rv(s,i,o)}catch(u){return Ir(u instanceof wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&Jy(c.target)){let u=new $(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Qt.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new zd(e,n,this.He,this.ze,r);return this.ze=wr(),this.je=Nd(),this.Je=Nd(),this.He=new Re(te),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Gd,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ke(te),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ke(te),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Gd),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function Nd(){return new Re($.comparator)}function TA(){return new Re($.comparator)}var Tj={asc:"ASCENDING",desc:"DESCENDING"},bj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sj={and:"AND",or:"OR"},ov=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function sv(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function Cj(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vo(t){return Te(!!t,49232),J.fromTimestamp((function(n){let r=Un(n);return new ht(r.seconds,r.nanos)})(t))}function Dj(t,e){return av(t,e).canonicalString()}function av(t,e){let n=(function(i){return new De(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ND(t){let e=De.fromString(t);return Te(OD(e),10190,{key:e.toString()}),e}function Sy(t,e){let n=ND(e);if(n.get(1)!==t.databaseId.projectId)throw new V(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(MD(n))}function PD(t,e){return Dj(t.databaseId,e)}function Rj(t){let e=ND(t);return e.length===4?De.emptyPath():MD(e)}function bA(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MD(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Nj(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(Te(f===void 0||typeof f=="string",58123),ot.fromBase64String(f||"")):(Te(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ot.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let f=l.code===void 0?k.UNKNOWN:RD(l.code);return new V(f,l.message||"")})(s);n=new Wd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Sy(t,r.document.name),o=Vo(r.document.updateTime),s=r.document.createTime?Vo(r.document.createTime):J.min(),c=new Ln({mapValue:{fields:r.document.fields}}),u=Qt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Fo(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Sy(t,r.document),o=r.readTime?Vo(r.readTime):J.min(),s=Qt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Fo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Sy(t,r.document),o=r.removedTargetIds||[];n=new Fo([],o,i,null)}else{if(!("filter"in e))return W(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new nv(i,o),c=r.targetId;n=new qd(c,s)}}return n}function Pj(t,e){return{documents:[PD(t,e.path)]}}function Mj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PD(t,i);let o=(function(l){if(l.length!==0)return xD(pn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:ko(m.field),direction:Oj(m.dir)}})(f))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=sv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function kj(t){let e=Rj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(p){let m=kD(p);return m instanceof pn&&gD(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(D){return new Yo(xo(D.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(m))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,dh(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Qo(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Qo(y,m)})(n.endAt)),oj(e,i,s,o,c,"F",u,l)}function xj(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=xo(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=xo(n.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=xo(n.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=xo(n.unaryFilter.field);return Ve.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ve.create(xo(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return pn.create(n.compositeFilter.filters.map(r=>kD(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W(1026)}})(n.compositeFilter.op))})(t):W(30097,{filter:t})}function Oj(t){return Tj[t]}function Lj(t){return bj[t]}function Fj(t){return Sj[t]}function ko(t){return{fieldPath:t.canonicalString()}}function xo(t){return Kt.fromServerFormat(t.fieldPath)}function xD(t){return t instanceof Ve?(function(n){if(n.op==="=="){if(dA(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(lA(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dA(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(lA(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:Lj(n.op),value:n.value}}})(t):t instanceof pn?(function(n){let r=n.getFilters().map(i=>xD(i));return r.length===1?r[0]:{compositeFilter:{op:Fj(n.op),filters:r}}})(t):W(54877,{filter:t})}function OD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var _c=class t{constructor(e,n,r,i,o=J.min(),s=J.min(),c=ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var cv=class{constructor(e){this.gt=e}};function Vj(t){let e=kj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zy(e,e.limit,"L"):e}var Kd=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(we(e.integerValue));else if("doubleValue"in e){let r=we(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Vd(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Un(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Bn(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?fD(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):hD(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):W(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=hc,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(we(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),$.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Kd.Ut=new Kd;var uv=class{constructor(){this.Dn=new lv}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(bi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},lv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(De.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(De.comparator)).toArray()}};var Lee=new Uint8Array(0);var SA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LD=41943040,Ot=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Ot.DEFAULT_COLLECTION_PERCENTILE=10,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ot.DEFAULT=new Ot(LD,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ot.DISABLED=new Ot(-1,0,0);var Ic=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var CA="LruGarbageCollector",jj=1048576;function AA([t,e],[n,r]){let i=te(t,n);return i===0?te(e,r):i}var dv=class{constructor(e){this.Tr=e,this.buffer=new Ke(AA),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();AA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},hv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(CA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){os(n)?L(CA,"Ignoring IndexedDB error during garbage collection: ",n):yield lh(n)}yield this.Rr(3e5)}))}},fv=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(s_.ue);let r=new dv(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(SA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SA):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Po()<=ne.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Uj(t,e){return new fv(t,e)}var pv=class{constructor(){this.changes=new $n(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var gv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var mv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uc(r.mutation,i,Ii.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=Ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ic();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=wr(),s=ac(),c=(function(){return ac()})();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof ts)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),uc(f.mutation,l,f.mutation.getFieldMask(),ht.now())):s.set(l.key,Ii.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new gv(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=ac(),i=new Re((s,c)=>s-c),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||Ii.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ue()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=TD();f.forEach(m=>{if(!o.has(m)){let y=AD(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return $.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Ei()),c=lc,u=o;return s.next(l=>P.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(f=>({batchId:c,changes:dj(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ic();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=(function(p,m){return new Jo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Qt.newInvalidDocument(f)))});let c=ic();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&uc(f.mutation,l,Ii.empty(),ht.now()),ph(n,l)&&(c=c.insert(u,l))}),c})}};var yv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Vo(i.createTime)}})(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:Vj(i.bundledQuery),readTime:Vo(i.readTime)}})(n)),P.resolve()}};var vv=class{constructor(){this.overlays=new Re($.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ei();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Ei(),o=n.length+1,s=new $(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Re((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Ei(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Ei(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return P.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new tv(n,r));let o=this.kr.get(n);o===void 0&&(o=ue(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var _v=class{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Ec=class{constructor(){this.qr=new Ke(Me.Qr),this.$r=new Ke(Me.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Me(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Me(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new $(new De([])),r=new Me(n,e),i=new Me(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new $(new De([])),r=new Me(n,e),i=new Me(n,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Me(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Me=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return $.comparator(e.key,n.key)||te(e.Hr,n.Hr)}static Ur(e,n){return te(e.Hr,n.Hr)||$.comparator(e.key,n.key)}};var Iv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ke(Me.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ev(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Me(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?$2:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Me(n,0),i=new Me(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(te);return n.forEach(i=>{let o=new Me(i,0),s=new Me(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;$.isDocumentKey(o)||(o=o.child(""));let s=new Me(new $(o),0),c=new Ke(te);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),P.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new Me(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Me(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ev=class{constructor(e){this.ni=e,this.docs=(function(){return new Re($.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=wr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=wr(),s=n.path,c=new $(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||j2(V2(f),r)<=0||(i.has(f.key)||ph(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){W(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wv(this)}getSize(e){return P.resolve(this.size)}},wv=class extends pv{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var Tv=class{constructor(e){this.persistence=e,this.ii=new $n(n=>u_(n),l_),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.si=0,this.oi=new Ec,this.targetCount=0,this._i=Ic.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Ic(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var Qd=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new s_(0),this.ci=!1,this.ci=!0,this.li=new _v,this.referenceDelegate=e(this),this.hi=new Tv(this),this.indexManager=new uv,this.remoteDocumentCache=(function(i){return new Ev(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new cv(n),this.Ti=new yv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Iv(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new bv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},bv=class extends Vy{constructor(e){super(),this.currentSequenceNumber=e}},Sv=class t{constructor(e){this.persistence=e,this.Ai=new Ec,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw W(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=$.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Yd=class t{constructor(e,n){this.persistence=e,this.gi=new $n(r=>H2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Uj(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Md(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Cv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Av=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Dv=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return $S()?8:B2(Rt())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Av;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Po()<=ne.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Po()<=ne.DEBUG&&L("QueryEngine","Query:",Mo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Po()<=ne.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):P.resolve())}ps(e,n){if(gA(n))return P.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zy(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ds(n,l,s,u.readTime)?this.ps(e,Zy(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return gA(n)||i.isEqual(J.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Po()<=ne.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mo(n)),this.vs(e,s,n,F2(i,lc)).next(c=>c))})}bs(e,n){let r=new Ke(ED(e));return n.forEach((i,o)=>{ph(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Po()<=ne.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.gs.getDocumentsMatchingQuery(e,n,bi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var d_="LocalStore",Bj=3e8,Rv=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Re(te),this.Ms=new $n(o=>u_(o),l_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function $j(t,e,n,r){return new Rv(t,e,n,r)}function FD(t,e){return b(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ue();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function VD(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Hj(t,e){let n=ae(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(n.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ot.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=Bj?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,y,f)&&c.push(n.hi.updateTargetData(o,y))});let u=wr(),l=ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(zj(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(J.min())){let f=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function zj(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=wr();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L(d_,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function qj(t,e){let n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new _c(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function Nv(t,e,n){return b(this,null,function*(){let r=ae(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!os(s))throw s;L(d_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function DA(t,e,n){let r=ae(t),i=J.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=ae(u),m=p.Ms.get(f);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)})(r,s,hn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:ue())).next(c=>(Wj(r,cj(e),c),{documents:c,qs:o})))}function Wj(t,e,n){let r=t.xs.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Jd=class{constructor(){this.activeTargetIds=pj()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Pv=class{constructor(){this.Fo=new Jd,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Jd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Mv=class{xo(e){}shutdown(){}};var RA="ConnectivityMonitor",Zd=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(RA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(RA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Pd=null;function kv(){return Pd===null?Pd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pd++,"0x"+Pd.toString(16)}var Cy="RestConnection",Gj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},xv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Bd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=kv(),c=this.Go(e,n.toUriEncodedString());L(Cy,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=ai(l);return this.jo(e,c,u,r,f).then(p=>(L(Cy,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ir(Cy,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+is})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=Gj[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Ov=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var it="WebChannelConnection",Lv=class extends xv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=kv();return new Promise((c,u)=>{let l=new _y;l.setWithCredentials(!0),l.listenOnce(Iy.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rc.NO_ERROR:let p=l.getResponseJson();L(it,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case rc.TIMEOUT:L(it,`RPC '${e}' ${s} timed out`),u(new V(k.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:let m=l.getStatus();if(L(it,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let D=y?.error;if(D&&D.status&&D.message){let N=(function(F){let H=F.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(H)>=0?H:k.UNKNOWN})(D.status);u(new V(N,D.message))}else u(new V(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(k.UNAVAILABLE,"Connection failed."));break;default:W(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(it,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);L(it,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}P_(e,n,r){let i=kv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ty(),c=wy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(it,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let m=!1,y=!1,D=new Ov({Ho:R=>{y?L(it,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(it,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(it,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,F,H)=>{R.listen(F,Z=>{try{H(Z)}catch(me){setTimeout(()=>{throw me},0)}})};return N(p,No.EventType.OPEN,()=>{y||(L(it,`RPC '${e}' stream ${i} transport opened.`),D.s_())}),N(p,No.EventType.CLOSE,()=>{y||(y=!0,L(it,`RPC '${e}' stream ${i} transport closed`),D.__(),this.I_(p))}),N(p,No.EventType.ERROR,R=>{y||(y=!0,Ir(it,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),D.__(new V(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,No.EventType.MESSAGE,R=>{var F;if(!y){let H=R.data[0];Te(!!H,16349);let Z=H,me=Z?.error||((F=Z[0])===null||F===void 0?void 0:F.error);if(me){L(it,`RPC '${e}' stream ${i} received error:`,me);let st=me.status,ge=(function(I){let E=Pe[I];if(E!==void 0)return RD(E)})(st),w=me.message;ge===void 0&&(ge=k.INTERNAL,w="Unknown error status: "+st+" with message "+me.message),y=!0,D.__(new V(ge,w)),p.close()}else L(it,`RPC '${e}' stream ${i} received:`,H),D.a_(H)}}),N(c,Ey.STAT_EVENT,R=>{R.stat===Dd.PROXY?L(it,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Dd.NOPROXY&&L(it,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.o_()},0),D}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function Ay(){return typeof document<"u"?document:null}function jD(t){return new ov(t,!0)}var Xd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var NA="PersistentStream",Fv=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Xd(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return b(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return b(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return b(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(jn(n.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new V(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>b(this,null,function*(){this.state=0,this.start()}))}G_(e){return L(NA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(L(NA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Vv=class extends Fv{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=Nj(this.serializer,e),r=(function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?Vo(s.readTime):J.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=bA(this.serializer),n.addTarget=(function(o,s){let c,u=s.target;if(c=Jy(u)?{documents:Pj(o,u)}:{query:Mj(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=Aj(o,s.resumeToken);let l=sv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){c.readTime=Cj(o,s.snapshotVersion.toTimestamp());let l=sv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=xj(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=bA(this.serializer),n.removeTarget=e,this.k_(n)}};var jv=class{},Uv=class extends jv{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,av(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(k.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,av(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Bv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(jn(n),this._a=!1):L("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ns="RemoteStore",$v=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>b(this,null,function*(){Cc(this)&&(L(ns,"Restarting streams for network reachability change."),yield(function(u){return b(this,null,function*(){let l=ae(u);l.Ia.add(4),yield Sc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield gh(l)})})(this))}))}),this.Aa=new Bv(r,i)}};function gh(t){return b(this,null,function*(){if(Cc(t))for(let e of t.da)yield e(!0)})}function Sc(t){return b(this,null,function*(){for(let e of t.da)yield e(!1)})}function UD(t,e){let n=ae(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),g_(n)?p_(n):ss(n).x_()&&f_(n,e))}function h_(t,e){let n=ae(t),r=ss(n);n.Ta.delete(e),r.x_()&&BD(n,e),n.Ta.size===0&&(r.x_()?r.B_():Cc(n)&&n.Aa.set("Unknown"))}function f_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ss(t).H_(e)}function BD(t,e){t.Ra.$e(e),ss(t).Y_(e)}function p_(t){t.Ra=new iv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ss(t).start(),t.Aa.aa()}function g_(t){return Cc(t)&&!ss(t).M_()&&t.Ta.size>0}function Cc(t){return ae(t).Ia.size===0}function $D(t){t.Ra=void 0}function Kj(t){return b(this,null,function*(){t.Aa.set("Online")})}function Qj(t){return b(this,null,function*(){t.Ta.forEach((e,n)=>{f_(t,e)})})}function Yj(t,e){return b(this,null,function*(){$D(t),g_(t)?(t.Aa.la(e),p_(t)):t.Aa.set("Unknown")})}function Jj(t,e,n){return b(this,null,function*(){if(t.Aa.set("Online"),e instanceof Wd&&e.state===2&&e.cause)try{yield(function(i,o){return b(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})})(t,e)}catch(r){L(ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield PA(t,r)}else if(e instanceof Fo?t.Ra.Ye(e):e instanceof qd?t.Ra.it(e):t.Ra.et(e),!n.isEqual(J.min()))try{let r=yield VD(t.localStore);n.compareTo(r)>=0&&(yield(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(ot.EMPTY_BYTE_STRING,f.snapshotVersion)),BD(o,u);let p=new _c(f.target,u,l,f.sequenceNumber);f_(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(t,n))}catch(r){L(ns,"Failed to raise snapshot:",r),yield PA(t,r)}})}function PA(t,e,n){return b(this,null,function*(){if(!os(e))throw e;t.Ia.add(1),yield Sc(t),t.Aa.set("Offline"),n||(n=()=>VD(t.localStore)),t.asyncQueue.enqueueRetryable(()=>b(null,null,function*(){L(ns,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield gh(t)}))})}function MA(t,e){return b(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),L(ns,"RemoteStore received new credentials");let r=Cc(n);n.Ia.add(3),yield Sc(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield gh(n)})}function Zj(t,e){return b(this,null,function*(){let n=ae(t);e?(n.Ia.delete(2),yield gh(n)):e||(n.Ia.add(2),yield Sc(n),n.Aa.set("Unknown"))})}function ss(t){return t.Va||(t.Va=(function(n,r,i){let o=ae(n);return o.ia(),new Vv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:Kj.bind(null,t),e_:Qj.bind(null,t),n_:Yj.bind(null,t),J_:Jj.bind(null,t)}),t.da.push(e=>b(null,null,function*(){e?(t.Va.N_(),g_(t)?p_(t):t.Aa.set("Unknown")):(yield t.Va.stop(),$D(t))}))),t.Va}var Hv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function HD(t,e){if(jn("AsyncQueue",`${e}: ${t}`),os(t))return new V(k.UNAVAILABLE,`${e}: ${t}`);throw t}var eh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new Re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var th=class{constructor(){this.fa=new Re($.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):W(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},rs=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,eh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var zv=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},qv=class{constructor(){this.queries=kA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=ae(n),o=i.queries;i.queries=kA(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new V(k.ABORTED,"Firestore shutting down"))}};function kA(){return new $n(t=>ID(t),fh)}function Xj(t,e){return b(this,null,function*(){let n=ae(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new zv,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=HD(s,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&m_(n)})}function eU(t,e){return b(this,null,function*(){let n=ae(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function tU(t,e){let n=ae(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&m_(n)}function nU(t,e,n){let r=ae(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function m_(t){t.Da.forEach(e=>{e.next()})}var Wv,xA;(xA=Wv||(Wv={})).Fa="default",xA.Cache="cache";var Gv=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Wv.Cache}};var nh=class{constructor(e){this.key=e}},rh=class{constructor(e){this.key=e}},Kv=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=ED(e),this.eu=new eh(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new th,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=ph(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?D!==N&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(y?(s=s.add(y),o=N?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(y,D){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{At:R})}};return N(y)-N(D)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new rs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new th,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new rh(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new nh(r))}),n}uu(e){this.Ha=e.qs,this.Za=ue();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return rs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},y_="SyncEngine",Qv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Yv=class{constructor(e){this.key=e,this.lu=!1}},Jv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new $n(c=>ID(c),fh),this.Tu=new Map,this.Iu=new Set,this.du=new Re($.comparator),this.Eu=new Map,this.Au=new Ec,this.Ru={},this.Vu=new Map,this.mu=Ic.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function rU(t,e,n=!0){return b(this,null,function*(){let r=KD(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield zD(r,e,n,!0),i})}function iU(t,e){return b(this,null,function*(){let n=KD(t);yield zD(n,e,!0,!1)})}function zD(t,e,n,r){return b(this,null,function*(){let i=yield qj(t.localStore,hn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield oU(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&UD(t.remoteStore,i),c})}function oU(t,e,n,r,i){return b(this,null,function*(){t.gu=(p,m,y)=>(function(N,R,F,H){return b(this,null,function*(){let Z=R.view.nu(F);Z.Ds&&(Z=yield DA(N.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,Z)));let me=H&&H.targetChanges.get(R.targetId),st=H&&H.targetMismatches.get(R.targetId)!=null,ge=R.view.applyChanges(Z,N.isPrimaryClient,me,st);return LA(N,R.targetId,ge._u),ge.snapshot})})(t,p,m,y);let o=yield DA(t.localStore,e,!0),s=new Kv(e,o.qs),c=s.nu(o.documents),u=vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);LA(t,n,l._u);let f=new Qv(e,n,s);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function sU(t,e,n){return b(this,null,function*(){let r=ae(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!fh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Nv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&h_(r.remoteStore,i.targetId),Zv(r,i.targetId)}).catch(lh))):(Zv(r,i.targetId),yield Nv(r.localStore,i.targetId,!0))})}function aU(t,e){return b(this,null,function*(){let n=ae(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),h_(n.remoteStore,r.targetId))})}function qD(t,e){return b(this,null,function*(){let n=ae(t);try{let r=yield Hj(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Te(s.lu,14607):i.removedDocuments.size>0&&(Te(s.lu,42227),s.lu=!1))}),yield GD(n,r,e)}catch(r){yield lh(r)}})}function OA(t,e,n){let r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=ae(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&m_(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cU(t,e,n){return b(this,null,function*(){let r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Re($.comparator);s=s.insert(o,Qt.newNoDocument(o,J.min()));let c=ue().add(o),u=new zd(J.min(),new Map,new Re(te),s,c);yield qD(r,u),r.du=r.du.remove(o),r.Eu.delete(e),v_(r)}else yield Nv(r.localStore,e,!1).then(()=>Zv(r,e,n)).catch(lh)})}function Zv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||WD(t,r)})}function WD(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(h_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),v_(t))}function LA(t,e,n){for(let r of n)r instanceof nh?(t.Au.addReference(r.key,e),uU(t,r)):r instanceof rh?(L(y_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||WD(t,r.key)):W(19791,{yu:r})}function uU(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(L(y_,"New document in limbo: "+n),t.Iu.add(r),v_(t))}function v_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new $(De.fromString(e)),r=t.mu.next();t.Eu.set(r,new Yv(n)),t.du=t.du.insert(n,r),UD(t.remoteStore,new _c(hn(_D(n.path)),r,"TargetPurposeLimboResolution",s_.ue))}}function GD(t,e,n){return b(this,null,function*(){let r=ae(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Cv.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return b(this,null,function*(){let f=ae(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!os(p))throw p;L(d_,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Fs.get(m),D=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(D);f.Fs=f.Fs.insert(m,N)}}})})(r.localStore,o))})}function lU(t,e){return b(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){L(y_,"User change. New user:",e.toKey());let r=yield FD(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new V(k.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield GD(n,r.Bs)}})}function dU(t,e){let n=ae(t),r=n.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let c=n.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function KD(t){let e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cU.bind(null,e),e.hu.J_=tU.bind(null,e.eventManager),e.hu.pu=nU.bind(null,e.eventManager),e}var QD=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return b(this,null,function*(){this.serializer=jD(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return $j(this.persistence,new Dv,n.initialUser,this.serializer)}Du(n){return new Qd(Sv.Vi,this.serializer)}bu(n){return new Pv}terminate(){return b(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Xv=class extends QD{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Te(this.persistence.referenceDelegate instanceof Yd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new hv(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Ot.withCacheSize(this.cacheSizeBytes):Ot.DEFAULT;return new Qd(r=>Yd.Vi(r,n),this.serializer)}};var hU=(()=>{class t{initialize(n,r){return b(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lU.bind(null,this.syncEngine),yield Zj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return(function(){return new qv})()}createDatastore(n){let r=jD(n.databaseInfo.databaseId),i=(function(s){return new Lv(s)})(n.databaseInfo);return(function(s,c,u,l){return new Uv(s,c,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,c,u){return new $v(i,o,s,c,u)})(this.localStore,this.datastore,n.asyncQueue,r=>OA(this.syncEngine,r,0),(function(){return Zd.C()?new Zd:new Mv})())}createSyncEngine(n,r){return(function(o,s,c,u,l,f,p){let m=new Jv(o,s,c,u,l,f);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var n,r;yield(function(o){return b(this,null,function*(){let s=ae(o);L(ns,"RemoteStore shutting down."),s.Ia.add(5),yield Sc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var e_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Tr="FirestoreClient",t_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=Ld.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){L(Tr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L(Tr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=HD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Dy(t,e){return b(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L(Tr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>b(null,null,function*(){r.isEqual(i)||(yield FD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Ir("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ir("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function FA(t,e){return b(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield fU(t);L(Tr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>MA(e.remoteStore,i)),t._onlineComponents=e})}function fU(t){return b(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L(Tr,"Using user provided OfflineComponentProvider");try{yield Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ir("Error using user provided cache. Falling back to memory cache: "+n),yield Dy(t,new QD)}}else L(Tr,"Using default OfflineComponentProvider"),yield Dy(t,new Xv(void 0));return t._offlineComponents})}function pU(t){return b(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L(Tr,"Using user provided OnlineComponentProvider"),yield FA(t,t._uninitializedComponentsProvider._online)):(L(Tr,"Using default OnlineComponentProvider"),yield FA(t,new hU))),t._onlineComponents})}function gU(t){return b(this,null,function*(){let e=yield pU(t),n=e.eventManager;return n.onListen=rU.bind(null,e.syncEngine),n.onUnlisten=sU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aU.bind(null,e.syncEngine),n})}function mU(t,e,n={}){let r=new Fn;return t.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return(function(o,s,c,u,l){let f=new e_({next:m=>{f.Ou(),s.enqueueAndForget(()=>eU(o,p)),m.fromCache&&u.source==="server"?l.reject(new V(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Gv(c,f,{includeMetadataChanges:!0,ka:!0});return Xj(o,p)})(yield gU(t),t.asyncQueue,e,n,r)})),r.promise}function YD(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var VA=new Map;var JD="firestore.googleapis.com",jA=!0,ih=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JD,this.ssl=jA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:jA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jj)throw new V(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},wc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ih({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ih(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ry;switch(r.type){case"firstParty":return new ky(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=VA.get(n);r&&(L("ComponentProvider","Removing Datastore"),VA.delete(n),r.terminate())})(this),Promise.resolve()}};function ZD(t,e,n,r={}){var i;t=Ly(t,wc);let o=ai(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(_m(`https://${u}`),Im("Firestore",!0)),s.host!==JD&&s.host!==u&&Ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!ci(l,c)&&(t._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Ge.MOCK_USER;else{f=FS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ge(m)}t._authCredentials=new Ny(new xd(f,p))}}var oh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Vn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tc(n,t._jsonSchema))return new t(e,r||null,new $(De.fromString(n.referencePath)))}};Vn._jsonSchemaVersion="firestore/documentReference/1.0",Vn._jsonSchema={type:ke("string",Vn._jsonSchemaVersion),referencePath:ke("string")};var jo=class t extends oh{constructor(e,n,r){super(e,n,_D(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new $(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function XD(t,e,...n){if(t=pr(t),k2("collection","path",e),t instanceof wc){let r=De.fromString(e,...n);return rA(r),new jo(t,null,r)}{if(!(t instanceof Vn||t instanceof jo))throw new V(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(De.fromString(e,...n));return rA(r),new jo(t.firestore,null,r)}}var UA="AsyncQueue",sh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Xd(this,"async_queue_retry"),this.oc=()=>{let r=Ay();r&&L(UA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=Ay();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Ay();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Fn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return b(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!os(e))throw e;L(UA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,jn("INTERNAL UNHANDLED ERROR: ",BA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=Hv.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&W(47125,{hc:BA(this.tc)})}verifyOperationInProgress(){}Pc(){return b(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function BA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var ah=class extends wc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new sh(e),this._firestoreClient=void 0,yield e}})}};function eR(t,e){let n=typeof t=="object"?t:So(),r=typeof t=="string"?t:e||Bd,i=od(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=OS("firestore");o&&ZD(i,...o)}return i}function yU(t){if(t._terminated)throw new V(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vU(t),t._firestoreClient}function vU(t){var e,n,r;let i=t._freezeSettings(),o=(function(c,u,l,f){return new jy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,YD(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new t_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(t._componentsProvider))}var Uo=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ot.fromBase64String(e))}catch(n){throw new V(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Uo._jsonSchemaVersion="firestore/bytes/1.0",Uo._jsonSchema={type:ke("string",Uo._jsonSchemaVersion),bytes:ke("string")};var ch=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Bo=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Bo._jsonSchemaVersion="firestore/geoPoint/1.0",Bo._jsonSchema={type:ke("string",Bo._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};var $o=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new V(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};$o._jsonSchemaVersion="firestore/vectorValue/1.0",$o._jsonSchema={type:ke("string",$o._jsonSchemaVersion),vectorValues:ke("object")};var _U=new RegExp("[~\\*/\\[\\]]");function IU(t,e,n){if(e.search(_U)>=0)throw $A(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ch(...e.split("."))._internalPath}catch{throw $A(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $A(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(k.INVALID_ARGUMENT,c+t+u)}var uh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new n_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(tR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},n_=class extends uh{data(){return super.data()}};function tR(t,e){return typeof e=="string"?IU(t,e):e instanceof ch?e._internalPath:e._delegate._internalPath}function EU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var r_=class{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return we(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw W(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return bc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[hc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>we(s.doubleValue));return new $o(o)}convertGeoPoint(e){return new Bo(we(e.latitude),we(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=hh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){let n=Un(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=De.fromString(e);Te(OD(r),9688,{name:e});let i=new $d(r.get(1),r.get(3)),o=new $(r.popFirst(5));return i.isEqual(n)||jn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var Lo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ho=class t extends uh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(tR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ho._jsonSchema={type:ke("string",Ho._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};var zo=class extends Ho{data(e={}){return super.data(e)}},qo=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zo(this._firestore,this._userDataWriter,r.key,r,new Lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new zo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new zo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:wU(c.type),doc:u,oldIndex:l,newIndex:f}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ld.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function wU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:t})}}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:ke("string",qo._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};var i_=class extends r_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}};function nR(t){t=Ly(t,oh);let e=Ly(t.firestore,ah),n=yU(e),r=new i_(e);return EU(t._query),mU(n,t._query).then(i=>new qo(e,r,t,i))}(function(e,n=!0){(function(i){is=i})(bo),Wt(new dt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ah(new Py(r.getProvider("auth-internal")),new xy(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(l.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ae(XC,eA,e),Ae(XC,eA,"esm2017")})();var Si=class{constructor(e){return e}},rR="firestore",__=class{constructor(){return Ao(rR)}};var I_=new U("angularfire2.firestore-instances");function TU(t,e){let n=cd(rR,t,e);return n&&new Si(n)}function bU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Si(r)}}var SU={provide:__,deps:[[new Sn,I_]]},CU={provide:Si,useFactory:TU,deps:[[new Sn,I_],fi]};function iR(t,...e){return Ae("angularfire",di.full,"fst"),Vt([CU,SU,{provide:I_,useFactory:bU(t),multi:!0,deps:[_e,rt,hi,Ga,[new Sn,Cd],[new Sn,ld],...e]}])}var oR=mr(XD,!0,2);var sR=mr(nR,!0);var aR=mr(eR,!0);var cR={production:!1,firebaseConfig:{apiKey:"AIzaSyDxfeuR6QJqu3OObOPTWLhhlzOgSSL1O1s",authDomain:"volley-a86b5.firebaseapp.com",projectId:"volley-a86b5",storageBucket:"volley-a86b5.firebasestorage.app",messagingSenderId:"562442165643",appId:"1:562442165643:web:f36ff9d75f3a886114e38e"}};var uR=[];var T_=new Map,gR={activated:!1,tokenObservers:[]},DU={initialized:!1,enabled:!1};function je(t){return T_.get(t)||O({},gR)}function RU(t,e){return T_.set(t,e),T_.get(t)}function _h(){return DU}var mR="https://content-firebaseappcheck.googleapis.com/v1",NU="exchangeRecaptchaV3Token";var PU="exchangeDebugToken",lR={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},MU=1440*60*1e3;var b_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new Mn,this.pending.promise.catch(n=>{}),yield kU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Mn,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function kU(t){return new Promise(e=>{setTimeout(e,t)})}var xU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},_t=new gi("appCheck","AppCheck",xU);function dR(t=!1){return t?self.grecaptcha?.enterprise:self.grecaptcha}function A_(t){if(!je(t).activated)throw _t.create("use-before-activation",{appName:t.name})}function yR(t){let e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60,s="";return n&&(s+=mh(n)+"d:"),r&&(s+=mh(r)+"h:"),s+=mh(i)+"m:"+mh(o)+"s",s}function mh(t){return t===0?"00":t>=10?t.toString():"0"+t}function D_(r,i){return b(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(y){throw _t.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw _t.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw _t.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw _t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function OU(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${mR}/projects/${n}/apps/${r}:${NU}?key=${i}`,body:{recaptcha_v3_token:e}}}function vR(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${mR}/projects/${n}/apps/${r}:${PU}?key=${i}`,body:{debug_token:e}}}var LU="firebase-app-check-database",FU=1,Ac="firebase-app-check-store",_R="debug-token",yh=null;function IR(){return yh||(yh=new Promise((t,e)=>{try{let n=indexedDB.open(LU,FU);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{e(_t.create("storage-open",{originalErrorMessage:r.target.error?.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ac,{keyPath:"compositeKey"})}}}catch(n){e(_t.create("storage-open",{originalErrorMessage:n?.message}))}}),yh)}function VU(t){return wR(TR(t))}function jU(t,e){return ER(TR(t),e)}function UU(t){return ER(_R,t)}function BU(){return wR(_R)}function ER(t,e){return b(this,null,function*(){let r=(yield IR()).transaction(Ac,"readwrite"),o=r.objectStore(Ac).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{c(_t.create("storage-set",{originalErrorMessage:u.target.error?.message}))}})})}function wR(t){return b(this,null,function*(){let n=(yield IR()).transaction(Ac,"readonly"),i=n.objectStore(Ac).get(t);return new Promise((o,s)=>{i.onsuccess=c=>{let u=c.target.result;o(u?u.value:void 0)},n.onerror=c=>{s(_t.create("storage-get",{originalErrorMessage:c.target.error?.message}))}})})}function TR(t){return`${t.options.appId}-${t.name}`}var br=new Do("@firebase/app-check");function $U(t){return b(this,null,function*(){if(Ya()){let e;try{e=yield VU(t)}catch(n){br.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})}function E_(t,e){return Ya()?jU(t,e).catch(n=>{br.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function HU(){return b(this,null,function*(){let t;try{t=yield BU()}catch{}if(t)return t;{let e=crypto.randomUUID();return UU(e).catch(n=>br.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})}function R_(){return _h().enabled}function N_(){return b(this,null,function*(){let t=_h();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}function zU(){let t=Wm(),e=_h();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;let n=new Mn;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(HU())}var qU={error:"UNKNOWN_ERROR"};function WU(t){return dd.encodeString(JSON.stringify(t),!1)}function S_(t,e=!1,n=!1){return b(this,null,function*(){let r=t.app;A_(r);let i=je(r),o=i.token,s;if(o&&!as(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(as(l)?o=l:yield E_(r,void 0))}if(!e&&o&&as(o))return{token:o.token};let c=!1;if(R_())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=D_(vR(r,yield N_()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield E_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?br.warn(l.message):n&&br.error(l),w_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield je(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?br.warn(l.message):n&&br.error(l),s=l}let u;return o?s?as(o)?u={token:o.token,internalError:s}:u=w_(s):(u={token:o.token},i.token=o,yield E_(r,o)):u=w_(s),c&&CR(r,u),u})}function GU(t){return b(this,null,function*(){let e=t.app;A_(e);let{provider:n}=je(e);if(R_()){let r=yield N_(),{token:i}=yield D_(vR(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function bR(t,e,n,r){let{app:i}=t,o=je(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&as(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),hR(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>hR(t))}function SR(t,e){let n=je(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function hR(t){let{app:e}=t,n=je(e),r=n.tokenRefresher;r||(r=KU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function KU(t){let{app:e}=t;return new b_(()=>b(null,null,function*(){let n=je(e),r;if(n.token?r=yield S_(t,!0):r=yield S_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=je(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},lR.RETRIAL_MIN_WAIT,lR.RETRIAL_MAX_WAIT)}function CR(t,e){let n=je(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function as(t){return t.expireTimeMillis-Date.now()>0}function w_(t){return{token:WU(qU),error:t}}var C_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=je(this.app);for(let n of e)SR(this.app,n.next);return Promise.resolve()}};function QU(t,e){return new C_(t,e)}function YU(t){return{getToken:e=>S_(t,e),getLimitedUseToken:()=>GU(t),addTokenListener:e=>bR(t,"INTERNAL",e),removeTokenListener:e=>SR(t.app,e)}}var JU="@firebase/app-check",ZU="0.11.0";var XU="https://www.google.com/recaptcha/api.js";function eB(t,e){let n=new Mn,r=je(t);r.reCAPTCHAState={initialized:n};let i=tB(t),o=dR(!1);return o?fR(t,e,o,i,n):iB(()=>{let s=dR(!1);if(!s)throw new Error("no recaptcha");fR(t,e,s,i,n)}),n.promise}function fR(t,e,n,r,i){n.ready(()=>{rB(t,e,n,r),i.resolve(n)})}function tB(t){let e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}function nB(t){return b(this,null,function*(){A_(t);let n=yield je(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{let o=je(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})})}function rB(t,e,n,r){let i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{je(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{je(t).reCAPTCHAState.succeeded=!1}}),o=je(t);o.reCAPTCHAState=fe(O({},o.reCAPTCHAState),{widgetId:i})}function iB(t){let e=document.createElement("script");e.src=XU,e.onload=t,document.head.appendChild(e)}var vh=class t{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){return b(this,null,function*(){sB(this._throttleData);let e=yield nB(this._app).catch(r=>{throw _t.create("recaptcha-error")});if(!je(this._app).reCAPTCHAState?.succeeded)throw _t.create("recaptcha-error");let n;try{n=yield D_(OU(this._app,e),this._heartbeatServiceProvider)}catch(r){throw r.code?.includes("fetch-status-error")?(this._throttleData=oB(Number(r.customData?.httpStatus),this._throttleData),_t.create("initial-throttle",{time:yR(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):r}return this._throttleData=null,n})}initialize(e){this._app=e,this._heartbeatServiceProvider=ry(e,"heartbeat"),eB(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof t?this._siteKey===e._siteKey:!1}};function oB(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+MU,httpStatus:t};{let n=e?e.backoffCount:0,r=bC(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function sB(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw _t.create("throttled",{time:yR(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}function AR(t=PC(),e){t=SC(t);let n=ry(t,"app-check");if(_h().initialized||zU(),R_()&&N_().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw _t.create("already-initialized",{appName:t.name})}let r=n.initialize({options:e});return aB(t,e.provider,e.isTokenAutoRefreshEnabled),je(t).isTokenAutoRefreshEnabled&&bR(r,"INTERNAL",()=>{}),r}function aB(t,e,n=!1){let r=RU(t,O({},gR));r.activated=!0,r.provider=e,r.cachedTokenPromise=$U(t).then(i=>(i&&as(i)&&(r.token=i,CR(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n&&t.automaticDataCollectionEnabled,!t.automaticDataCollectionEnabled&&n&&br.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),r.provider.initialize(t)}var cB="app-check",pR="app-check-internal";function uB(){Ro(new ln(cB,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return QU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(pR).initialize()})),Ro(new ln(pR,t=>{let e=t.getProvider("app-check").getImmediate();return YU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ja(JU,ZU)}uB();var DR={providers:[pp(),Ag({eventCoalescing:!0}),aC(()=>{let t=cC(cR.firebaseConfig);return AR(t,{provider:new vh("6LejXQgsAAAAALhJ4vktJ53ad0CJOB2wLclaPVnQ"),isTokenAutoRefreshEnabled:!0}),t}),iR(()=>aR()),fm(uR)]};var lB=()=>({title:"Explore the Docs 3",link:"https://angular.dev"}),dB=()=>({title:"Learn with Tutorials",link:"https://angular.dev/tutorials"}),hB=()=>({title:"Prompt and best practices for AI",link:"https://angular.dev/ai/develop-with-ai"}),fB=()=>({title:"CLI Docs",link:"https://angular.dev/tools/cli"}),pB=()=>({title:"Angular Language Service",link:"https://angular.dev/tools/language-service"}),gB=()=>({title:"Angular DevTools",link:"https://angular.dev/tools/devtools"}),mB=(t,e,n,r,i,o)=>[t,e,n,r,i,o],yB=(t,e)=>e.title;function vB(t,e){if(t&1&&(Ct(0,"a",5)(1,"span"),vl(2),Ht(),Gr(),Ct(3,"svg",16),rn(4,"path",17),Ht()()),t&2){let n=e.$implicit;ml("href",n.link,eg),al(2),_l(n.title)}}var Ih=class t{constructor(e){this.firestore=e}title=ar("volley");testFirestore(){return b(this,null,function*(){console.log("Test de connexion \xE0 Firestore...");try{let e=oR(this.firestore,"Equipes"),r=(yield sR(e)).docs.map(i=>O({id:i.id},i.data()));console.log("\u{1F4C4} Documents lus :",r),alert("Connexion \xE0 Firestore r\xE9ussie !")}catch(e){console.error("Erreur Firestore :",e),alert("Erreur de connexion \xE0 Firestore. Voir la console.")}})}static \u0275fac=function(n){return new(n||t)(hl(Si))};static \u0275cmp=ha({type:t,selectors:[["app-root"]],decls:19,vars:13,consts:[[1,"main"],[1,"content"],[1,"right-side"],[1,"pill-group"],[3,"click"],["target","_blank","rel","noopener",1,"pill",3,"href"],[1,"social-links"],["href","https://github.com/angular/angular","aria-label","Github","target","_blank","rel","noopener"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Github"],["d","M12.3047 0C5.50634 0 0 5.50942 0 12.3047C0 17.7423 3.52529 22.3535 8.41332 23.9787C9.02856 24.0946 9.25414 23.7142 9.25414 23.3871C9.25414 23.0949 9.24389 22.3207 9.23876 21.2953C5.81601 22.0377 5.09414 19.6444 5.09414 19.6444C4.53427 18.2243 3.72524 17.8449 3.72524 17.8449C2.61064 17.082 3.81137 17.0973 3.81137 17.0973C5.04697 17.1835 5.69604 18.3647 5.69604 18.3647C6.79321 20.2463 8.57636 19.7029 9.27978 19.3881C9.39052 18.5924 9.70736 18.0499 10.0591 17.7423C7.32641 17.4347 4.45429 16.3765 4.45429 11.6618C4.45429 10.3185 4.9311 9.22133 5.72065 8.36C5.58222 8.04931 5.16694 6.79833 5.82831 5.10337C5.82831 5.10337 6.85883 4.77319 9.2121 6.36459C10.1965 6.09082 11.2424 5.95546 12.2883 5.94931C13.3342 5.95546 14.3801 6.09082 15.3644 6.36459C17.7023 4.77319 18.7328 5.10337 18.7328 5.10337C19.3942 6.79833 18.9789 8.04931 18.8559 8.36C19.6403 9.22133 20.1171 10.3185 20.1171 11.6618C20.1171 16.3888 17.2409 17.4296 14.5031 17.7321C14.9338 18.1012 15.3337 18.8559 15.3337 20.0084C15.3337 21.6552 15.3183 22.978 15.3183 23.3779C15.3183 23.7009 15.5336 24.0854 16.1642 23.9623C21.0871 22.3484 24.6094 17.7341 24.6094 12.3047C24.6094 5.50942 19.0999 0 12.3047 0Z"],["href","https://twitter.com/angular","aria-label","Twitter","target","_blank","rel","noopener"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Twitter"],["d","M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"],["href","https://www.youtube.com/channel/UCbn1OgGei-DV7aSRo_HaAiw","aria-label","Youtube","target","_blank","rel","noopener"],["width","29","height","20","viewBox","0 0 29 20","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Youtube"],["fill-rule","evenodd","clip-rule","evenodd","d","M27.4896 1.52422C27.9301 1.96749 28.2463 2.51866 28.4068 3.12258C29.0004 5.35161 29.0004 10 29.0004 10C29.0004 10 29.0004 14.6484 28.4068 16.8774C28.2463 17.4813 27.9301 18.0325 27.4896 18.4758C27.0492 18.9191 26.5 19.2389 25.8972 19.4032C23.6778 20 14.8068 20 14.8068 20C14.8068 20 5.93586 20 3.71651 19.4032C3.11363 19.2389 2.56449 18.9191 2.12405 18.4758C1.68361 18.0325 1.36732 17.4813 1.20683 16.8774C0.613281 14.6484 0.613281 10 0.613281 10C0.613281 10 0.613281 5.35161 1.20683 3.12258C1.36732 2.51866 1.68361 1.96749 2.12405 1.52422C2.56449 1.08095 3.11363 0.76113 3.71651 0.596774C5.93586 0 14.8068 0 14.8068 0C14.8068 0 23.6778 0 25.8972 0.596774C26.5 0.76113 27.0492 1.08095 27.4896 1.52422ZM19.3229 10L11.9036 5.77905V14.221L19.3229 10Z"],["xmlns","http://www.w3.org/2000/svg","height","14","viewBox","0 -960 960 960","width","14","fill","currentColor"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"]],template:function(n,r){n&1&&(Ct(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),yl("click",function(){return r.testFirestore()}),vl(5,"Se connecter"),Ht(),Eg(6,vB,5,2,"a",5,yB),Ht(),Ct(8,"div",6)(9,"a",7),Gr(),Ct(10,"svg",8),rn(11,"path",9),Ht()(),no(),Ct(12,"a",10),Gr(),Ct(13,"svg",11),rn(14,"path",12),Ht()(),no(),Ct(15,"a",13),Gr(),Ct(16,"svg",14),rn(17,"path",15),Ht()()()()()(),no(),rn(18,"router-outlet")),n&2&&(al(6),wg(bg(6,mB,ur(0,lB),ur(1,dB),ur(2,hB),ur(3,fB),ur(4,pB),ur(5,gB))))},dependencies:[Va],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--gray-900);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;padding:1rem;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none;white-space:nowrap}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--electric-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+6){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}}']})};Hg(Ih,DR).catch(t=>console.error(t));
