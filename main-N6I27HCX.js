var VR=Object.create;var qp=Object.defineProperty,BR=Object.defineProperties,jR=Object.getOwnPropertyDescriptor,UR=Object.getOwnPropertyDescriptors,HR=Object.getOwnPropertyNames,vI=Object.getOwnPropertySymbols,$R=Object.getPrototypeOf,_I=Object.prototype.hasOwnProperty,qR=Object.prototype.propertyIsEnumerable;var yI=(t,e,n)=>e in t?qp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z=(t,e)=>{for(var n in e||={})_I.call(e,n)&&yI(t,n,e[n]);if(vI)for(var n of vI(e))qR.call(e,n)&&yI(t,n,e[n]);return t},fe=(t,e)=>BR(t,UR(e));var EI=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var ve=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var zR=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of HR(e))!_I.call(t,i)&&i!==n&&qp(t,i,{get:()=>e[i],enumerable:!(r=jR(e,i))||r.enumerable});return t};var GR=(t,e,n)=>(n=t!=null?VR($R(t)):{},zR(e||!t||!t.__esModule?qp(n,"default",{value:t,enumerable:!0}):n,t));var O=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var OS=ve(()=>{"use strict"});var we=ve((Oh,FS)=>{"use strict";(function(t,e){typeof Oh=="object"?FS.exports=Oh=e():typeof define=="function"&&define.amd?define([],e):t.CryptoJS=e()})(Oh,function(){var t=t||(function(e,n){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof global<"u"&&global.crypto&&(r=global.crypto),!r&&typeof EI=="function")try{r=OS()}catch{}var i=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||(function(){function E(){}return function(C){var R;return E.prototype=C,R=new E,E.prototype=null,R}})(),s={},a=s.lib={},c=a.Base=(function(){return{extend:function(E){var C=o(this);return E&&C.mixIn(E),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var C in E)E.hasOwnProperty(C)&&(this[C]=E[C]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),l=a.WordArray=c.extend({init:function(E,C){E=this.words=E||[],C!=n?this.sigBytes=C:this.sigBytes=E.length*4},toString:function(E){return(E||h).stringify(this)},concat:function(E){var C=this.words,R=E.words,N=this.sigBytes,k=E.sigBytes;if(this.clamp(),N%4)for(var P=0;P<k;P++){var x=R[P>>>2]>>>24-P%4*8&255;C[N+P>>>2]|=x<<24-(N+P)%4*8}else for(var y=0;y<k;y+=4)C[N+y>>>2]=R[y>>>2];return this.sigBytes+=k,this},clamp:function(){var E=this.words,C=this.sigBytes;E[C>>>2]&=4294967295<<32-C%4*8,E.length=e.ceil(C/4)},clone:function(){var E=c.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var C=[],R=0;R<E;R+=4)C.push(i());return new l.init(C,E)}}),d=s.enc={},h=d.Hex={stringify:function(E){for(var C=E.words,R=E.sigBytes,N=[],k=0;k<R;k++){var P=C[k>>>2]>>>24-k%4*8&255;N.push((P>>>4).toString(16)),N.push((P&15).toString(16))}return N.join("")},parse:function(E){for(var C=E.length,R=[],N=0;N<C;N+=2)R[N>>>3]|=parseInt(E.substr(N,2),16)<<24-N%8*4;return new l.init(R,C/2)}},p=d.Latin1={stringify:function(E){for(var C=E.words,R=E.sigBytes,N=[],k=0;k<R;k++){var P=C[k>>>2]>>>24-k%4*8&255;N.push(String.fromCharCode(P))}return N.join("")},parse:function(E){for(var C=E.length,R=[],N=0;N<C;N++)R[N>>>2]|=(E.charCodeAt(N)&255)<<24-N%4*8;return new l.init(R,C)}},m=d.Utf8={stringify:function(E){try{return decodeURIComponent(escape(p.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return p.parse(unescape(encodeURIComponent(E)))}},v=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=m.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var C,R=this._data,N=R.words,k=R.sigBytes,P=this.blockSize,x=P*4,y=k/x;E?y=e.ceil(y):y=e.max((y|0)-this._minBufferSize,0);var I=y*P,A=e.min(I*4,k);if(I){for(var w=0;w<I;w+=P)this._doProcessBlock(N,w);C=N.splice(0,I),R.sigBytes-=A}return new l.init(C,A)},clone:function(){var E=c.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0}),T=a.Hasher=v.extend({cfg:c.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){E&&this._append(E);var C=this._doFinalize();return C},blockSize:512/32,_createHelper:function(E){return function(C,R){return new E.init(R).finalize(C)}},_createHmacHelper:function(E){return function(C,R){return new b.HMAC.init(E,R).finalize(C)}}}),b=s.algo={};return s})(Math);return t})});var Nu=ve((Fh,LS)=>{"use strict";(function(t,e){typeof Fh=="object"?LS.exports=Fh=e(we()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Fh,function(t){return(function(e){var n=t,r=n.lib,i=r.Base,o=r.WordArray,s=n.x64={},a=s.Word=i.extend({init:function(l,d){this.high=l,this.low=d}}),c=s.WordArray=i.extend({init:function(l,d){l=this.words=l||[],d!=e?this.sigBytes=d:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,d=l.length,h=[],p=0;p<d;p++){var m=l[p];h.push(m.high),h.push(m.low)}return o.create(h,this.sigBytes)},clone:function(){for(var l=i.clone.call(this),d=l.words=this.words.slice(0),h=d.length,p=0;p<h;p++)d[p]=d[p].clone();return l}})})(),t})});var BS=ve((Lh,VS)=>{"use strict";(function(t,e){typeof Lh=="object"?VS.exports=Lh=e(we()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Lh,function(t){return(function(){if(typeof ArrayBuffer=="function"){var e=t,n=e.lib,r=n.WordArray,i=r.init,o=r.init=function(s){if(s instanceof ArrayBuffer&&(s=new Uint8Array(s)),(s instanceof Int8Array||typeof Uint8ClampedArray<"u"&&s instanceof Uint8ClampedArray||s instanceof Int16Array||s instanceof Uint16Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Float32Array||s instanceof Float64Array)&&(s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),s instanceof Uint8Array){for(var a=s.byteLength,c=[],l=0;l<a;l++)c[l>>>2]|=s[l]<<24-l%4*8;i.call(this,c,a)}else i.apply(this,arguments)};o.prototype=r}})(),t.lib.WordArray})});var US=ve((Vh,jS)=>{"use strict";(function(t,e){typeof Vh=="object"?jS.exports=Vh=e(we()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Vh,function(t){return(function(){var e=t,n=e.lib,r=n.WordArray,i=e.enc,o=i.Utf16=i.Utf16BE={stringify:function(a){for(var c=a.words,l=a.sigBytes,d=[],h=0;h<l;h+=2){var p=c[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(p))}return d.join("")},parse:function(a){for(var c=a.length,l=[],d=0;d<c;d++)l[d>>>1]|=a.charCodeAt(d)<<16-d%2*16;return r.create(l,c*2)}};i.Utf16LE={stringify:function(a){for(var c=a.words,l=a.sigBytes,d=[],h=0;h<l;h+=2){var p=s(c[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(p))}return d.join("")},parse:function(a){for(var c=a.length,l=[],d=0;d<c;d++)l[d>>>1]|=s(a.charCodeAt(d)<<16-d%2*16);return r.create(l,c*2)}};function s(a){return a<<8&4278255360|a>>>8&16711935}})(),t.enc.Utf16})});var pi=ve((Bh,HS)=>{"use strict";(function(t,e){typeof Bh=="object"?HS.exports=Bh=e(we()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Bh,function(t){return(function(){var e=t,n=e.lib,r=n.WordArray,i=e.enc,o=i.Base64={stringify:function(a){var c=a.words,l=a.sigBytes,d=this._map;a.clamp();for(var h=[],p=0;p<l;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,v=c[p+1>>>2]>>>24-(p+1)%4*8&255,T=c[p+2>>>2]>>>24-(p+2)%4*8&255,b=m<<16|v<<8|T,E=0;E<4&&p+E*.75<l;E++)h.push(d.charAt(b>>>6*(3-E)&63));var C=d.charAt(64);if(C)for(;h.length%4;)h.push(C);return h.join("")},parse:function(a){var c=a.length,l=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<l.length;h++)d[l.charCodeAt(h)]=h}var p=l.charAt(64);if(p){var m=a.indexOf(p);m!==-1&&(c=m)}return s(a,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(a,c,l){for(var d=[],h=0,p=0;p<c;p++)if(p%4){var m=l[a.charCodeAt(p-1)]<<p%4*2,v=l[a.charCodeAt(p)]>>>6-p%4*2,T=m|v;d[h>>>2]|=T<<24-h%4*8,h++}return r.create(d,h)}})(),t.enc.Base64})});var qS=ve((jh,$S)=>{"use strict";(function(t,e){typeof jh=="object"?$S.exports=jh=e(we()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(jh,function(t){return(function(){var e=t,n=e.lib,r=n.WordArray,i=e.enc,o=i.Base64url={stringify:function(a,c){c===void 0&&(c=!0);var l=a.words,d=a.sigBytes,h=c?this._safe_map:this._map;a.clamp();for(var p=[],m=0;m<d;m+=3)for(var v=l[m>>>2]>>>24-m%4*8&255,T=l[m+1>>>2]>>>24-(m+1)%4*8&255,b=l[m+2>>>2]>>>24-(m+2)%4*8&255,E=v<<16|T<<8|b,C=0;C<4&&m+C*.75<d;C++)p.push(h.charAt(E>>>6*(3-C)&63));var R=h.charAt(64);if(R)for(;p.length%4;)p.push(R);return p.join("")},parse:function(a,c){c===void 0&&(c=!0);var l=a.length,d=c?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<d.length;p++)h[d.charCodeAt(p)]=p}var m=d.charAt(64);if(m){var v=a.indexOf(m);v!==-1&&(l=v)}return s(a,l,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(a,c,l){for(var d=[],h=0,p=0;p<c;p++)if(p%4){var m=l[a.charCodeAt(p-1)]<<p%4*2,v=l[a.charCodeAt(p)]>>>6-p%4*2,T=m|v;d[h>>>2]|=T<<24-h%4*8,h++}return r.create(d,h)}})(),t.enc.Base64url})});var gi=ve((Uh,zS)=>{"use strict";(function(t,e){typeof Uh=="object"?zS.exports=Uh=e(we()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Uh,function(t){return(function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[];(function(){for(var m=0;m<64;m++)a[m]=e.abs(e.sin(m+1))*4294967296|0})();var c=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,v){for(var T=0;T<16;T++){var b=v+T,E=m[b];m[b]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var C=this._hash.words,R=m[v+0],N=m[v+1],k=m[v+2],P=m[v+3],x=m[v+4],y=m[v+5],I=m[v+6],A=m[v+7],w=m[v+8],S=m[v+9],D=m[v+10],B=m[v+11],J=m[v+12],Z=m[v+13],te=m[v+14],le=m[v+15],L=C[0],j=C[1],$=C[2],V=C[3];L=l(L,j,$,V,R,7,a[0]),V=l(V,L,j,$,N,12,a[1]),$=l($,V,L,j,k,17,a[2]),j=l(j,$,V,L,P,22,a[3]),L=l(L,j,$,V,x,7,a[4]),V=l(V,L,j,$,y,12,a[5]),$=l($,V,L,j,I,17,a[6]),j=l(j,$,V,L,A,22,a[7]),L=l(L,j,$,V,w,7,a[8]),V=l(V,L,j,$,S,12,a[9]),$=l($,V,L,j,D,17,a[10]),j=l(j,$,V,L,B,22,a[11]),L=l(L,j,$,V,J,7,a[12]),V=l(V,L,j,$,Z,12,a[13]),$=l($,V,L,j,te,17,a[14]),j=l(j,$,V,L,le,22,a[15]),L=d(L,j,$,V,N,5,a[16]),V=d(V,L,j,$,I,9,a[17]),$=d($,V,L,j,B,14,a[18]),j=d(j,$,V,L,R,20,a[19]),L=d(L,j,$,V,y,5,a[20]),V=d(V,L,j,$,D,9,a[21]),$=d($,V,L,j,le,14,a[22]),j=d(j,$,V,L,x,20,a[23]),L=d(L,j,$,V,S,5,a[24]),V=d(V,L,j,$,te,9,a[25]),$=d($,V,L,j,P,14,a[26]),j=d(j,$,V,L,w,20,a[27]),L=d(L,j,$,V,Z,5,a[28]),V=d(V,L,j,$,k,9,a[29]),$=d($,V,L,j,A,14,a[30]),j=d(j,$,V,L,J,20,a[31]),L=h(L,j,$,V,y,4,a[32]),V=h(V,L,j,$,w,11,a[33]),$=h($,V,L,j,B,16,a[34]),j=h(j,$,V,L,te,23,a[35]),L=h(L,j,$,V,N,4,a[36]),V=h(V,L,j,$,x,11,a[37]),$=h($,V,L,j,A,16,a[38]),j=h(j,$,V,L,D,23,a[39]),L=h(L,j,$,V,Z,4,a[40]),V=h(V,L,j,$,R,11,a[41]),$=h($,V,L,j,P,16,a[42]),j=h(j,$,V,L,I,23,a[43]),L=h(L,j,$,V,S,4,a[44]),V=h(V,L,j,$,J,11,a[45]),$=h($,V,L,j,le,16,a[46]),j=h(j,$,V,L,k,23,a[47]),L=p(L,j,$,V,R,6,a[48]),V=p(V,L,j,$,A,10,a[49]),$=p($,V,L,j,te,15,a[50]),j=p(j,$,V,L,y,21,a[51]),L=p(L,j,$,V,J,6,a[52]),V=p(V,L,j,$,P,10,a[53]),$=p($,V,L,j,D,15,a[54]),j=p(j,$,V,L,N,21,a[55]),L=p(L,j,$,V,w,6,a[56]),V=p(V,L,j,$,le,10,a[57]),$=p($,V,L,j,I,15,a[58]),j=p(j,$,V,L,Z,21,a[59]),L=p(L,j,$,V,x,6,a[60]),V=p(V,L,j,$,B,10,a[61]),$=p($,V,L,j,k,15,a[62]),j=p(j,$,V,L,S,21,a[63]),C[0]=C[0]+L|0,C[1]=C[1]+j|0,C[2]=C[2]+$|0,C[3]=C[3]+V|0},_doFinalize:function(){var m=this._data,v=m.words,T=this._nDataBytes*8,b=m.sigBytes*8;v[b>>>5]|=128<<24-b%32;var E=e.floor(T/4294967296),C=T;v[(b+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,v[(b+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,m.sigBytes=(v.length+1)*4,this._process();for(var R=this._hash,N=R.words,k=0;k<4;k++){var P=N[k];N[k]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return R},clone:function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m}});function l(m,v,T,b,E,C,R){var N=m+(v&T|~v&b)+E+R;return(N<<C|N>>>32-C)+v}function d(m,v,T,b,E,C,R){var N=m+(v&b|T&~b)+E+R;return(N<<C|N>>>32-C)+v}function h(m,v,T,b,E,C,R){var N=m+(v^T^b)+E+R;return(N<<C|N>>>32-C)+v}function p(m,v,T,b,E,C,R){var N=m+(T^(v|~b))+E+R;return(N<<C|N>>>32-C)+v}n.MD5=o._createHelper(c),n.HmacMD5=o._createHmacHelper(c)})(Math),t.MD5})});var EE=ve((Hh,GS)=>{"use strict";(function(t,e){typeof Hh=="object"?GS.exports=Hh=e(we()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Hh,function(t){return(function(){var e=t,n=e.lib,r=n.WordArray,i=n.Hasher,o=e.algo,s=[],a=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,l){for(var d=this._hash.words,h=d[0],p=d[1],m=d[2],v=d[3],T=d[4],b=0;b<80;b++){if(b<16)s[b]=c[l+b]|0;else{var E=s[b-3]^s[b-8]^s[b-14]^s[b-16];s[b]=E<<1|E>>>31}var C=(h<<5|h>>>27)+T+s[b];b<20?C+=(p&m|~p&v)+1518500249:b<40?C+=(p^m^v)+1859775393:b<60?C+=(p&m|p&v|m&v)-1894007588:C+=(p^m^v)-899497514,T=v,v=m,m=p<<30|p>>>2,p=h,h=C}d[0]=d[0]+h|0,d[1]=d[1]+p|0,d[2]=d[2]+m|0,d[3]=d[3]+v|0,d[4]=d[4]+T|0},_doFinalize:function(){var c=this._data,l=c.words,d=this._nDataBytes*8,h=c.sigBytes*8;return l[h>>>5]|=128<<24-h%32,l[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),l[(h+64>>>9<<4)+15]=d,c.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c}});e.SHA1=i._createHelper(a),e.HmacSHA1=i._createHmacHelper(a)})(),t.SHA1})});var qh=ve(($h,WS)=>{"use strict";(function(t,e){typeof $h=="object"?WS.exports=$h=e(we()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})($h,function(t){return(function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],c=[];(function(){function h(T){for(var b=e.sqrt(T),E=2;E<=b;E++)if(!(T%E))return!1;return!0}function p(T){return(T-(T|0))*4294967296|0}for(var m=2,v=0;v<64;)h(m)&&(v<8&&(a[v]=p(e.pow(m,1/2))),c[v]=p(e.pow(m,1/3)),v++),m++})();var l=[],d=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,v=m[0],T=m[1],b=m[2],E=m[3],C=m[4],R=m[5],N=m[6],k=m[7],P=0;P<64;P++){if(P<16)l[P]=h[p+P]|0;else{var x=l[P-15],y=(x<<25|x>>>7)^(x<<14|x>>>18)^x>>>3,I=l[P-2],A=(I<<15|I>>>17)^(I<<13|I>>>19)^I>>>10;l[P]=y+l[P-7]+A+l[P-16]}var w=C&R^~C&N,S=v&T^v&b^T&b,D=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),B=(C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25),J=k+B+w+c[P]+l[P],Z=D+S;k=N,N=R,R=C,C=E+J|0,E=b,b=T,T=v,v=J+Z|0}m[0]=m[0]+v|0,m[1]=m[1]+T|0,m[2]=m[2]+b|0,m[3]=m[3]+E|0,m[4]=m[4]+C|0,m[5]=m[5]+R|0,m[6]=m[6]+N|0,m[7]=m[7]+k|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,v=h.sigBytes*8;return p[v>>>5]|=128<<24-v%32,p[(v+64>>>9<<4)+14]=e.floor(m/4294967296),p[(v+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}});n.SHA256=o._createHelper(d),n.HmacSHA256=o._createHmacHelper(d)})(Math),t.SHA256})});var QS=ve((zh,KS)=>{"use strict";(function(t,e,n){typeof zh=="object"?KS.exports=zh=e(we(),qh()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(t.CryptoJS)})(zh,function(t){return(function(){var e=t,n=e.lib,r=n.WordArray,i=e.algo,o=i.SHA256,s=i.SHA224=o.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=o._doFinalize.call(this);return a.sigBytes-=4,a}});e.SHA224=o._createHelper(s),e.HmacSHA224=o._createHmacHelper(s)})(),t.SHA224})});var IE=ve((Gh,YS)=>{"use strict";(function(t,e,n){typeof Gh=="object"?YS.exports=Gh=e(we(),Nu()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(Gh,function(t){return(function(){var e=t,n=e.lib,r=n.Hasher,i=e.x64,o=i.Word,s=i.WordArray,a=e.algo;function c(){return o.create.apply(o,arguments)}var l=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var p=0;p<80;p++)d[p]=c()})();var h=a.SHA512=r.extend({_doReset:function(){this._hash=new s.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var v=this._hash.words,T=v[0],b=v[1],E=v[2],C=v[3],R=v[4],N=v[5],k=v[6],P=v[7],x=T.high,y=T.low,I=b.high,A=b.low,w=E.high,S=E.low,D=C.high,B=C.low,J=R.high,Z=R.low,te=N.high,le=N.low,L=k.high,j=k.low,$=P.high,V=P.low,de=x,Ne=y,Ke=I,pe=A,dn=w,Ar=S,ha=D,Sn=B,It=J,pt=Z,Sr=te,Wn=le,Rr=L,Nr=j,Do=$,vi=V,Ft=0;Ft<80;Ft++){var Rt,Jt,yi=d[Ft];if(Ft<16)Jt=yi.high=p[m+Ft*2]|0,Rt=yi.low=p[m+Ft*2+1]|0;else{var Vu=d[Ft-15],Rn=Vu.high,Kn=Vu.low,pa=(Rn>>>1|Kn<<31)^(Rn>>>8|Kn<<24)^Rn>>>7,tt=(Kn>>>1|Rn<<31)^(Kn>>>8|Rn<<24)^(Kn>>>7|Rn<<25),ct=d[Ft-2],fn=ct.high,Mr=ct.low,Bu=(fn>>>19|Mr<<13)^(fn<<3|Mr>>>29)^fn>>>6,ju=(Mr>>>19|fn<<13)^(Mr<<3|fn>>>29)^(Mr>>>6|fn<<26),Pr=d[Ft-7],Uu=Pr.high,Hu=Pr.low,Co=d[Ft-16],Np=Co.high,$u=Co.low;Rt=tt+Hu,Jt=pa+Uu+(Rt>>>0<tt>>>0?1:0),Rt=Rt+ju,Jt=Jt+Bu+(Rt>>>0<ju>>>0?1:0),Rt=Rt+$u,Jt=Jt+Np+(Rt>>>0<$u>>>0?1:0),yi.high=Jt,yi.low=Rt}var ga=It&Sr^~It&Rr,ma=pt&Wn^~pt&Nr,qu=de&Ke^de&dn^Ke&dn,_i=Ne&pe^Ne&Ar^pe&Ar,va=(de>>>28|Ne<<4)^(de<<30|Ne>>>2)^(de<<25|Ne>>>7),xo=(Ne>>>28|de<<4)^(Ne<<30|de>>>2)^(Ne<<25|de>>>7),Qn=(It>>>14|pt<<18)^(It>>>18|pt<<14)^(It<<23|pt>>>9),zu=(pt>>>14|It<<18)^(pt>>>18|It<<14)^(pt<<23|It>>>9),Ei=l[Ft],Gu=Ei.high,kr=Ei.low,wt=vi+zu,Le=Do+Qn+(wt>>>0<vi>>>0?1:0),wt=wt+ma,Le=Le+ga+(wt>>>0<ma>>>0?1:0),wt=wt+kr,Le=Le+Gu+(wt>>>0<kr>>>0?1:0),wt=wt+Rt,Le=Le+Jt+(wt>>>0<Rt>>>0?1:0),ya=xo+_i,Ii=va+qu+(ya>>>0<xo>>>0?1:0);Do=Rr,vi=Nr,Rr=Sr,Nr=Wn,Sr=It,Wn=pt,pt=Sn+wt|0,It=ha+Le+(pt>>>0<Sn>>>0?1:0)|0,ha=dn,Sn=Ar,dn=Ke,Ar=pe,Ke=de,pe=Ne,Ne=wt+ya|0,de=Le+Ii+(Ne>>>0<wt>>>0?1:0)|0}y=T.low=y+Ne,T.high=x+de+(y>>>0<Ne>>>0?1:0),A=b.low=A+pe,b.high=I+Ke+(A>>>0<pe>>>0?1:0),S=E.low=S+Ar,E.high=w+dn+(S>>>0<Ar>>>0?1:0),B=C.low=B+Sn,C.high=D+ha+(B>>>0<Sn>>>0?1:0),Z=R.low=Z+pt,R.high=J+It+(Z>>>0<pt>>>0?1:0),le=N.low=le+Wn,N.high=te+Sr+(le>>>0<Wn>>>0?1:0),j=k.low=j+Nr,k.high=L+Rr+(j>>>0<Nr>>>0?1:0),V=P.low=V+vi,P.high=$+Do+(V>>>0<vi>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,v=this._nDataBytes*8,T=p.sigBytes*8;m[T>>>5]|=128<<24-T%32,m[(T+128>>>10<<5)+30]=Math.floor(v/4294967296),m[(T+128>>>10<<5)+31]=v,p.sigBytes=m.length*4,this._process();var b=this._hash.toX32();return b},clone:function(){var p=r.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});e.SHA512=r._createHelper(h),e.HmacSHA512=r._createHmacHelper(h)})(),t.SHA512})});var JS=ve((Wh,ZS)=>{"use strict";(function(t,e,n){typeof Wh=="object"?ZS.exports=Wh=e(we(),Nu(),IE()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(t.CryptoJS)})(Wh,function(t){return(function(){var e=t,n=e.x64,r=n.Word,i=n.WordArray,o=e.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var c=s._doFinalize.call(this);return c.sigBytes-=16,c}});e.SHA384=s._createHelper(a),e.HmacSHA384=s._createHmacHelper(a)})(),t.SHA384})});var e1=ve((Kh,XS)=>{"use strict";(function(t,e,n){typeof Kh=="object"?XS.exports=Kh=e(we(),Nu()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(Kh,function(t){return(function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.x64,a=s.Word,c=n.algo,l=[],d=[],h=[];(function(){for(var v=1,T=0,b=0;b<24;b++){l[v+5*T]=(b+1)*(b+2)/2%64;var E=T%5,C=(2*v+3*T)%5;v=E,T=C}for(var v=0;v<5;v++)for(var T=0;T<5;T++)d[v+5*T]=T+(2*v+3*T)%5*5;for(var R=1,N=0;N<24;N++){for(var k=0,P=0,x=0;x<7;x++){if(R&1){var y=(1<<x)-1;y<32?P^=1<<y:k^=1<<y-32}R&128?R=R<<1^113:R<<=1}h[N]=a.create(k,P)}})();var p=[];(function(){for(var v=0;v<25;v++)p[v]=a.create()})();var m=c.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],T=0;T<25;T++)v[T]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,T){for(var b=this._state,E=this.blockSize/2,C=0;C<E;C++){var R=v[T+2*C],N=v[T+2*C+1];R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var k=b[C];k.high^=N,k.low^=R}for(var P=0;P<24;P++){for(var x=0;x<5;x++){for(var y=0,I=0,A=0;A<5;A++){var k=b[x+5*A];y^=k.high,I^=k.low}var w=p[x];w.high=y,w.low=I}for(var x=0;x<5;x++)for(var S=p[(x+4)%5],D=p[(x+1)%5],B=D.high,J=D.low,y=S.high^(B<<1|J>>>31),I=S.low^(J<<1|B>>>31),A=0;A<5;A++){var k=b[x+5*A];k.high^=y,k.low^=I}for(var Z=1;Z<25;Z++){var y,I,k=b[Z],te=k.high,le=k.low,L=l[Z];L<32?(y=te<<L|le>>>32-L,I=le<<L|te>>>32-L):(y=le<<L-32|te>>>64-L,I=te<<L-32|le>>>64-L);var j=p[d[Z]];j.high=y,j.low=I}var $=p[0],V=b[0];$.high=V.high,$.low=V.low;for(var x=0;x<5;x++)for(var A=0;A<5;A++){var Z=x+5*A,k=b[Z],de=p[Z],Ne=p[(x+1)%5+5*A],Ke=p[(x+2)%5+5*A];k.high=de.high^~Ne.high&Ke.high,k.low=de.low^~Ne.low&Ke.low}var k=b[0],pe=h[P];k.high^=pe.high,k.low^=pe.low}},_doFinalize:function(){var v=this._data,T=v.words,b=this._nDataBytes*8,E=v.sigBytes*8,C=this.blockSize*32;T[E>>>5]|=1<<24-E%32,T[(e.ceil((E+1)/C)*C>>>5)-1]|=128,v.sigBytes=T.length*4,this._process();for(var R=this._state,N=this.cfg.outputLength/8,k=N/8,P=[],x=0;x<k;x++){var y=R[x],I=y.high,A=y.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,P.push(A),P.push(I)}return new i.init(P,N)},clone:function(){for(var v=o.clone.call(this),T=v._state=this._state.slice(0),b=0;b<25;b++)T[b]=T[b].clone();return v}});n.SHA3=o._createHelper(m),n.HmacSHA3=o._createHmacHelper(m)})(Math),t.SHA3})});var n1=ve((Qh,t1)=>{"use strict";(function(t,e){typeof Qh=="object"?t1.exports=Qh=e(we()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Qh,function(t){return(function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),p=i.create([1352829926,1548603684,1836072691,2053994217,0]),m=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(N,k){for(var P=0;P<16;P++){var x=k+P,y=N[x];N[x]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var I=this._hash.words,A=h.words,w=p.words,S=a.words,D=c.words,B=l.words,J=d.words,Z,te,le,L,j,$,V,de,Ne,Ke;$=Z=I[0],V=te=I[1],de=le=I[2],Ne=L=I[3],Ke=j=I[4];for(var pe,P=0;P<80;P+=1)pe=Z+N[k+S[P]]|0,P<16?pe+=v(te,le,L)+A[0]:P<32?pe+=T(te,le,L)+A[1]:P<48?pe+=b(te,le,L)+A[2]:P<64?pe+=E(te,le,L)+A[3]:pe+=C(te,le,L)+A[4],pe=pe|0,pe=R(pe,B[P]),pe=pe+j|0,Z=j,j=L,L=R(le,10),le=te,te=pe,pe=$+N[k+D[P]]|0,P<16?pe+=C(V,de,Ne)+w[0]:P<32?pe+=E(V,de,Ne)+w[1]:P<48?pe+=b(V,de,Ne)+w[2]:P<64?pe+=T(V,de,Ne)+w[3]:pe+=v(V,de,Ne)+w[4],pe=pe|0,pe=R(pe,J[P]),pe=pe+Ke|0,$=Ke,Ke=Ne,Ne=R(de,10),de=V,V=pe;pe=I[1]+le+Ne|0,I[1]=I[2]+L+Ke|0,I[2]=I[3]+j+$|0,I[3]=I[4]+Z+V|0,I[4]=I[0]+te+de|0,I[0]=pe},_doFinalize:function(){var N=this._data,k=N.words,P=this._nDataBytes*8,x=N.sigBytes*8;k[x>>>5]|=128<<24-x%32,k[(x+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,N.sigBytes=(k.length+1)*4,this._process();for(var y=this._hash,I=y.words,A=0;A<5;A++){var w=I[A];I[A]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}return y},clone:function(){var N=o.clone.call(this);return N._hash=this._hash.clone(),N}});function v(N,k,P){return N^k^P}function T(N,k,P){return N&k|~N&P}function b(N,k,P){return(N|~k)^P}function E(N,k,P){return N&P|k&~P}function C(N,k,P){return N^(k|~P)}function R(N,k){return N<<k|N>>>32-k}n.RIPEMD160=o._createHelper(m),n.HmacRIPEMD160=o._createHmacHelper(m)})(Math),t.RIPEMD160})});var Zh=ve((Yh,r1)=>{"use strict";(function(t,e){typeof Yh=="object"?r1.exports=Yh=e(we()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Yh,function(t){(function(){var e=t,n=e.lib,r=n.Base,i=e.enc,o=i.Utf8,s=e.algo,a=s.HMAC=r.extend({init:function(c,l){c=this._hasher=new c.init,typeof l=="string"&&(l=o.parse(l));var d=c.blockSize,h=d*4;l.sigBytes>h&&(l=c.finalize(l)),l.clamp();for(var p=this._oKey=l.clone(),m=this._iKey=l.clone(),v=p.words,T=m.words,b=0;b<d;b++)v[b]^=1549556828,T[b]^=909522486;p.sigBytes=m.sigBytes=h,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var l=this._hasher,d=l.finalize(c);l.reset();var h=l.finalize(this._oKey.clone().concat(d));return h}})})()})});var o1=ve((Jh,i1)=>{"use strict";(function(t,e,n){typeof Jh=="object"?i1.exports=Jh=e(we(),qh(),Zh()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(t.CryptoJS)})(Jh,function(t){return(function(){var e=t,n=e.lib,r=n.Base,i=n.WordArray,o=e.algo,s=o.SHA256,a=o.HMAC,c=o.PBKDF2=r.extend({cfg:r.extend({keySize:128/32,hasher:s,iterations:25e4}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,d){for(var h=this.cfg,p=a.create(h.hasher,l),m=i.create(),v=i.create([1]),T=m.words,b=v.words,E=h.keySize,C=h.iterations;T.length<E;){var R=p.update(d).finalize(v);p.reset();for(var N=R.words,k=N.length,P=R,x=1;x<C;x++){P=p.finalize(P),p.reset();for(var y=P.words,I=0;I<k;I++)N[I]^=y[I]}m.concat(R),b[0]++}return m.sigBytes=E*4,m}});e.PBKDF2=function(l,d,h){return c.create(h).compute(l,d)}})(),t.PBKDF2})});var Tr=ve((Xh,s1)=>{"use strict";(function(t,e,n){typeof Xh=="object"?s1.exports=Xh=e(we(),EE(),Zh()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(t.CryptoJS)})(Xh,function(t){return(function(){var e=t,n=e.lib,r=n.Base,i=n.WordArray,o=e.algo,s=o.MD5,a=o.EvpKDF=r.extend({cfg:r.extend({keySize:128/32,hasher:s,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,l){for(var d,h=this.cfg,p=h.hasher.create(),m=i.create(),v=m.words,T=h.keySize,b=h.iterations;v.length<T;){d&&p.update(d),d=p.update(c).finalize(l),p.reset();for(var E=1;E<b;E++)d=p.finalize(d),p.reset();m.concat(d)}return m.sigBytes=T*4,m}});e.EvpKDF=function(c,l,d){return a.create(d).compute(c,l)}})(),t.EvpKDF})});var at=ve((ep,a1)=>{"use strict";(function(t,e,n){typeof ep=="object"?a1.exports=ep=e(we(),Tr()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(t.CryptoJS)})(ep,function(t){t.lib.Cipher||(function(e){var n=t,r=n.lib,i=r.Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,a=n.enc,c=a.Utf8,l=a.Base64,d=n.algo,h=d.EvpKDF,p=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(w,S){return this.create(this._ENC_XFORM_MODE,w,S)},createDecryptor:function(w,S){return this.create(this._DEC_XFORM_MODE,w,S)},init:function(w,S,D){this.cfg=this.cfg.extend(D),this._xformMode=w,this._key=S,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(w){return this._append(w),this._process()},finalize:function(w){w&&this._append(w);var S=this._doFinalize();return S},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function w(S){return typeof S=="string"?A:x}return function(S){return{encrypt:function(D,B,J){return w(B).encrypt(S,D,B,J)},decrypt:function(D,B,J){return w(B).decrypt(S,D,B,J)}}}})()}),m=r.StreamCipher=p.extend({_doFinalize:function(){var w=this._process(!0);return w},blockSize:1}),v=n.mode={},T=r.BlockCipherMode=i.extend({createEncryptor:function(w,S){return this.Encryptor.create(w,S)},createDecryptor:function(w,S){return this.Decryptor.create(w,S)},init:function(w,S){this._cipher=w,this._iv=S}}),b=v.CBC=(function(){var w=T.extend();w.Encryptor=w.extend({processBlock:function(D,B){var J=this._cipher,Z=J.blockSize;S.call(this,D,B,Z),J.encryptBlock(D,B),this._prevBlock=D.slice(B,B+Z)}}),w.Decryptor=w.extend({processBlock:function(D,B){var J=this._cipher,Z=J.blockSize,te=D.slice(B,B+Z);J.decryptBlock(D,B),S.call(this,D,B,Z),this._prevBlock=te}});function S(D,B,J){var Z,te=this._iv;te?(Z=te,this._iv=e):Z=this._prevBlock;for(var le=0;le<J;le++)D[B+le]^=Z[le]}return w})(),E=n.pad={},C=E.Pkcs7={pad:function(w,S){for(var D=S*4,B=D-w.sigBytes%D,J=B<<24|B<<16|B<<8|B,Z=[],te=0;te<B;te+=4)Z.push(J);var le=o.create(Z,B);w.concat(le)},unpad:function(w){var S=w.words[w.sigBytes-1>>>2]&255;w.sigBytes-=S}},R=r.BlockCipher=p.extend({cfg:p.cfg.extend({mode:b,padding:C}),reset:function(){var w;p.reset.call(this);var S=this.cfg,D=S.iv,B=S.mode;this._xformMode==this._ENC_XFORM_MODE?w=B.createEncryptor:(w=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==w?this._mode.init(this,D&&D.words):(this._mode=w.call(B,this,D&&D.words),this._mode.__creator=w)},_doProcessBlock:function(w,S){this._mode.processBlock(w,S)},_doFinalize:function(){var w,S=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(S.pad(this._data,this.blockSize),w=this._process(!0)):(w=this._process(!0),S.unpad(w)),w},blockSize:128/32}),N=r.CipherParams=i.extend({init:function(w){this.mixIn(w)},toString:function(w){return(w||this.formatter).stringify(this)}}),k=n.format={},P=k.OpenSSL={stringify:function(w){var S,D=w.ciphertext,B=w.salt;return B?S=o.create([1398893684,1701076831]).concat(B).concat(D):S=D,S.toString(l)},parse:function(w){var S,D=l.parse(w),B=D.words;return B[0]==1398893684&&B[1]==1701076831&&(S=o.create(B.slice(2,4)),B.splice(0,4),D.sigBytes-=16),N.create({ciphertext:D,salt:S})}},x=r.SerializableCipher=i.extend({cfg:i.extend({format:P}),encrypt:function(w,S,D,B){B=this.cfg.extend(B);var J=w.createEncryptor(D,B),Z=J.finalize(S),te=J.cfg;return N.create({ciphertext:Z,key:D,iv:te.iv,algorithm:w,mode:te.mode,padding:te.padding,blockSize:w.blockSize,formatter:B.format})},decrypt:function(w,S,D,B){B=this.cfg.extend(B),S=this._parse(S,B.format);var J=w.createDecryptor(D,B).finalize(S.ciphertext);return J},_parse:function(w,S){return typeof w=="string"?S.parse(w,this):w}}),y=n.kdf={},I=y.OpenSSL={execute:function(w,S,D,B,J){if(B||(B=o.random(64/8)),J)var Z=h.create({keySize:S+D,hasher:J}).compute(w,B);else var Z=h.create({keySize:S+D}).compute(w,B);var te=o.create(Z.words.slice(S),D*4);return Z.sigBytes=S*4,N.create({key:Z,iv:te,salt:B})}},A=r.PasswordBasedCipher=x.extend({cfg:x.cfg.extend({kdf:I}),encrypt:function(w,S,D,B){B=this.cfg.extend(B);var J=B.kdf.execute(D,w.keySize,w.ivSize,B.salt,B.hasher);B.iv=J.iv;var Z=x.encrypt.call(this,w,S,J.key,B);return Z.mixIn(J),Z},decrypt:function(w,S,D,B){B=this.cfg.extend(B),S=this._parse(S,B.format);var J=B.kdf.execute(D,w.keySize,w.ivSize,S.salt,B.hasher);B.iv=J.iv;var Z=x.decrypt.call(this,w,S,J.key,B);return Z}})})()})});var u1=ve((tp,c1)=>{"use strict";(function(t,e,n){typeof tp=="object"?c1.exports=tp=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(tp,function(t){return t.mode.CFB=(function(){var e=t.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:function(r,i){var o=this._cipher,s=o.blockSize;n.call(this,r,i,s,o),this._prevBlock=r.slice(i,i+s)}}),e.Decryptor=e.extend({processBlock:function(r,i){var o=this._cipher,s=o.blockSize,a=r.slice(i,i+s);n.call(this,r,i,s,o),this._prevBlock=a}});function n(r,i,o,s){var a,c=this._iv;c?(a=c.slice(0),this._iv=void 0):a=this._prevBlock,s.encryptBlock(a,0);for(var l=0;l<o;l++)r[i+l]^=a[l]}return e})(),t.mode.CFB})});var d1=ve((np,l1)=>{"use strict";(function(t,e,n){typeof np=="object"?l1.exports=np=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(np,function(t){return t.mode.CTR=(function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(r,i){var o=this._cipher,s=o.blockSize,a=this._iv,c=this._counter;a&&(c=this._counter=a.slice(0),this._iv=void 0);var l=c.slice(0);o.encryptBlock(l,0),c[s-1]=c[s-1]+1|0;for(var d=0;d<s;d++)r[i+d]^=l[d]}});return e.Decryptor=n,e})(),t.mode.CTR})});var h1=ve((rp,f1)=>{"use strict";(function(t,e,n){typeof rp=="object"?f1.exports=rp=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(rp,function(t){return t.mode.CTRGladman=(function(){var e=t.lib.BlockCipherMode.extend();function n(o){if((o>>24&255)===255){var s=o>>16&255,a=o>>8&255,c=o&255;s===255?(s=0,a===255?(a=0,c===255?c=0:++c):++a):++s,o=0,o+=s<<16,o+=a<<8,o+=c}else o+=1<<24;return o}function r(o){return(o[0]=n(o[0]))===0&&(o[1]=n(o[1])),o}var i=e.Encryptor=e.extend({processBlock:function(o,s){var a=this._cipher,c=a.blockSize,l=this._iv,d=this._counter;l&&(d=this._counter=l.slice(0),this._iv=void 0),r(d);var h=d.slice(0);a.encryptBlock(h,0);for(var p=0;p<c;p++)o[s+p]^=h[p]}});return e.Decryptor=i,e})(),t.mode.CTRGladman})});var g1=ve((ip,p1)=>{"use strict";(function(t,e,n){typeof ip=="object"?p1.exports=ip=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(ip,function(t){return t.mode.OFB=(function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(r,i){var o=this._cipher,s=o.blockSize,a=this._iv,c=this._keystream;a&&(c=this._keystream=a.slice(0),this._iv=void 0),o.encryptBlock(c,0);for(var l=0;l<s;l++)r[i+l]^=c[l]}});return e.Decryptor=n,e})(),t.mode.OFB})});var v1=ve((op,m1)=>{"use strict";(function(t,e,n){typeof op=="object"?m1.exports=op=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(op,function(t){return t.mode.ECB=(function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(n,r){this._cipher.encryptBlock(n,r)}}),e.Decryptor=e.extend({processBlock:function(n,r){this._cipher.decryptBlock(n,r)}}),e})(),t.mode.ECB})});var _1=ve((sp,y1)=>{"use strict";(function(t,e,n){typeof sp=="object"?y1.exports=sp=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(sp,function(t){return t.pad.AnsiX923={pad:function(e,n){var r=e.sigBytes,i=n*4,o=i-r%i,s=r+o-1;e.clamp(),e.words[s>>>2]|=o<<24-s%4*8,e.sigBytes+=o},unpad:function(e){var n=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=n}},t.pad.Ansix923})});var I1=ve((ap,E1)=>{"use strict";(function(t,e,n){typeof ap=="object"?E1.exports=ap=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(ap,function(t){return t.pad.Iso10126={pad:function(e,n){var r=n*4,i=r-e.sigBytes%r;e.concat(t.lib.WordArray.random(i-1)).concat(t.lib.WordArray.create([i<<24],1))},unpad:function(e){var n=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=n}},t.pad.Iso10126})});var D1=ve((cp,w1)=>{"use strict";(function(t,e,n){typeof cp=="object"?w1.exports=cp=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(cp,function(t){return t.pad.Iso97971={pad:function(e,n){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,n)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971})});var x1=ve((up,C1)=>{"use strict";(function(t,e,n){typeof up=="object"?C1.exports=up=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(up,function(t){return t.pad.ZeroPadding={pad:function(e,n){var r=n*4;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var n=e.words,r=e.sigBytes-1,r=e.sigBytes-1;r>=0;r--)if(n[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},t.pad.ZeroPadding})});var T1=ve((lp,b1)=>{"use strict";(function(t,e,n){typeof lp=="object"?b1.exports=lp=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(lp,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})});var S1=ve((dp,A1)=>{"use strict";(function(t,e,n){typeof dp=="object"?A1.exports=dp=e(we(),at()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(dp,function(t){return(function(e){var n=t,r=n.lib,i=r.CipherParams,o=n.enc,s=o.Hex,a=n.format,c=a.Hex={stringify:function(l){return l.ciphertext.toString(s)},parse:function(l){var d=s.parse(l);return i.create({ciphertext:d})}}})(),t.format.Hex})});var N1=ve((fp,R1)=>{"use strict";(function(t,e,n){typeof fp=="object"?R1.exports=fp=e(we(),pi(),gi(),Tr(),at()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(fp,function(t){return(function(){var e=t,n=e.lib,r=n.BlockCipher,i=e.algo,o=[],s=[],a=[],c=[],l=[],d=[],h=[],p=[],m=[],v=[];(function(){for(var E=[],C=0;C<256;C++)C<128?E[C]=C<<1:E[C]=C<<1^283;for(var R=0,N=0,C=0;C<256;C++){var k=N^N<<1^N<<2^N<<3^N<<4;k=k>>>8^k&255^99,o[R]=k,s[k]=R;var P=E[R],x=E[P],y=E[x],I=E[k]*257^k*16843008;a[R]=I<<24|I>>>8,c[R]=I<<16|I>>>16,l[R]=I<<8|I>>>24,d[R]=I;var I=y*16843009^x*65537^P*257^R*16843008;h[k]=I<<24|I>>>8,p[k]=I<<16|I>>>16,m[k]=I<<8|I>>>24,v[k]=I,R?(R=P^E[E[E[y^P]]],N^=E[E[N]]):R=N=1}})();var T=[0,1,2,4,8,16,32,64,128,27,54],b=i.AES=r.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var C=this._keyPriorReset=this._key,R=C.words,N=C.sigBytes/4,k=this._nRounds=N+6,P=(k+1)*4,x=this._keySchedule=[],y=0;y<P;y++)y<N?x[y]=R[y]:(E=x[y-1],y%N?N>6&&y%N==4&&(E=o[E>>>24]<<24|o[E>>>16&255]<<16|o[E>>>8&255]<<8|o[E&255]):(E=E<<8|E>>>24,E=o[E>>>24]<<24|o[E>>>16&255]<<16|o[E>>>8&255]<<8|o[E&255],E^=T[y/N|0]<<24),x[y]=x[y-N]^E);for(var I=this._invKeySchedule=[],A=0;A<P;A++){var y=P-A;if(A%4)var E=x[y];else var E=x[y-4];A<4||y<=4?I[A]=E:I[A]=h[o[E>>>24]]^p[o[E>>>16&255]]^m[o[E>>>8&255]]^v[o[E&255]]}}},encryptBlock:function(E,C){this._doCryptBlock(E,C,this._keySchedule,a,c,l,d,o)},decryptBlock:function(E,C){var R=E[C+1];E[C+1]=E[C+3],E[C+3]=R,this._doCryptBlock(E,C,this._invKeySchedule,h,p,m,v,s);var R=E[C+1];E[C+1]=E[C+3],E[C+3]=R},_doCryptBlock:function(E,C,R,N,k,P,x,y){for(var I=this._nRounds,A=E[C]^R[0],w=E[C+1]^R[1],S=E[C+2]^R[2],D=E[C+3]^R[3],B=4,J=1;J<I;J++){var Z=N[A>>>24]^k[w>>>16&255]^P[S>>>8&255]^x[D&255]^R[B++],te=N[w>>>24]^k[S>>>16&255]^P[D>>>8&255]^x[A&255]^R[B++],le=N[S>>>24]^k[D>>>16&255]^P[A>>>8&255]^x[w&255]^R[B++],L=N[D>>>24]^k[A>>>16&255]^P[w>>>8&255]^x[S&255]^R[B++];A=Z,w=te,S=le,D=L}var Z=(y[A>>>24]<<24|y[w>>>16&255]<<16|y[S>>>8&255]<<8|y[D&255])^R[B++],te=(y[w>>>24]<<24|y[S>>>16&255]<<16|y[D>>>8&255]<<8|y[A&255])^R[B++],le=(y[S>>>24]<<24|y[D>>>16&255]<<16|y[A>>>8&255]<<8|y[w&255])^R[B++],L=(y[D>>>24]<<24|y[A>>>16&255]<<16|y[w>>>8&255]<<8|y[S&255])^R[B++];E[C]=Z,E[C+1]=te,E[C+2]=le,E[C+3]=L},keySize:256/32});e.AES=r._createHelper(b)})(),t.AES})});var P1=ve((hp,M1)=>{"use strict";(function(t,e,n){typeof hp=="object"?M1.exports=hp=e(we(),pi(),gi(),Tr(),at()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(hp,function(t){return(function(){var e=t,n=e.lib,r=n.WordArray,i=n.BlockCipher,o=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var T=this._key,b=T.words,E=[],C=0;C<56;C++){var R=s[C]-1;E[C]=b[R>>>5]>>>31-R%32&1}for(var N=this._subKeys=[],k=0;k<16;k++){for(var P=N[k]=[],x=c[k],C=0;C<24;C++)P[C/6|0]|=E[(a[C]-1+x)%28]<<31-C%6,P[4+(C/6|0)]|=E[28+(a[C+24]-1+x)%28]<<31-C%6;P[0]=P[0]<<1|P[0]>>>31;for(var C=1;C<7;C++)P[C]=P[C]>>>(C-1)*4+3;P[7]=P[7]<<5|P[7]>>>27}for(var y=this._invSubKeys=[],C=0;C<16;C++)y[C]=N[15-C]},encryptBlock:function(T,b){this._doCryptBlock(T,b,this._subKeys)},decryptBlock:function(T,b){this._doCryptBlock(T,b,this._invSubKeys)},_doCryptBlock:function(T,b,E){this._lBlock=T[b],this._rBlock=T[b+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var C=0;C<16;C++){for(var R=E[C],N=this._lBlock,k=this._rBlock,P=0,x=0;x<8;x++)P|=l[x][((k^R[x])&d[x])>>>0];this._lBlock=k,this._rBlock=N^P}var y=this._lBlock;this._lBlock=this._rBlock,this._rBlock=y,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),T[b]=this._lBlock,T[b+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(T,b){var E=(this._lBlock>>>T^this._rBlock)&b;this._rBlock^=E,this._lBlock^=E<<T}function m(T,b){var E=(this._rBlock>>>T^this._lBlock)&b;this._lBlock^=E,this._rBlock^=E<<T}e.DES=i._createHelper(h);var v=o.TripleDES=i.extend({_doReset:function(){var T=this._key,b=T.words;if(b.length!==2&&b.length!==4&&b.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=b.slice(0,2),C=b.length<4?b.slice(0,2):b.slice(2,4),R=b.length<6?b.slice(0,2):b.slice(4,6);this._des1=h.createEncryptor(r.create(E)),this._des2=h.createEncryptor(r.create(C)),this._des3=h.createEncryptor(r.create(R))},encryptBlock:function(T,b){this._des1.encryptBlock(T,b),this._des2.decryptBlock(T,b),this._des3.encryptBlock(T,b)},decryptBlock:function(T,b){this._des3.decryptBlock(T,b),this._des2.encryptBlock(T,b),this._des1.decryptBlock(T,b)},keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=i._createHelper(v)})(),t.TripleDES})});var O1=ve((pp,k1)=>{"use strict";(function(t,e,n){typeof pp=="object"?k1.exports=pp=e(we(),pi(),gi(),Tr(),at()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(pp,function(t){return(function(){var e=t,n=e.lib,r=n.StreamCipher,i=e.algo,o=i.RC4=r.extend({_doReset:function(){for(var c=this._key,l=c.words,d=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var v=p%d,T=l[v>>>2]>>>24-v%4*8&255;m=(m+h[p]+T)%256;var b=h[p];h[p]=h[m],h[m]=b}this._i=this._j=0},_doProcessBlock:function(c,l){c[l]^=s.call(this)},keySize:256/32,ivSize:0});function s(){for(var c=this._S,l=this._i,d=this._j,h=0,p=0;p<4;p++){l=(l+1)%256,d=(d+c[l])%256;var m=c[l];c[l]=c[d],c[d]=m,h|=c[(c[l]+c[d])%256]<<24-p*8}return this._i=l,this._j=d,h}e.RC4=r._createHelper(o);var a=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)s.call(this)}});e.RC4Drop=r._createHelper(a)})(),t.RC4})});var L1=ve((gp,F1)=>{"use strict";(function(t,e,n){typeof gp=="object"?F1.exports=gp=e(we(),pi(),gi(),Tr(),at()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(gp,function(t){return(function(){var e=t,n=e.lib,r=n.StreamCipher,i=e.algo,o=[],s=[],a=[],c=i.Rabbit=r.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,p=0;p<4;p++)d[p]=(d[p]<<8|d[p]>>>24)&16711935|(d[p]<<24|d[p]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],v=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)l.call(this);for(var p=0;p<8;p++)v[p]^=m[p+4&7];if(h){var T=h.words,b=T[0],E=T[1],C=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,R=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,N=C>>>16|R&4294901760,k=R<<16|C&65535;v[0]^=C,v[1]^=N,v[2]^=R,v[3]^=k,v[4]^=C,v[5]^=N,v[6]^=R,v[7]^=k;for(var p=0;p<4;p++)l.call(this)}},_doProcessBlock:function(d,h){var p=this._X;l.call(this),o[0]=p[0]^p[5]>>>16^p[3]<<16,o[1]=p[2]^p[7]>>>16^p[5]<<16,o[2]=p[4]^p[1]>>>16^p[7]<<16,o[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)o[m]=(o[m]<<8|o[m]>>>24)&16711935|(o[m]<<24|o[m]>>>8)&4278255360,d[h+m]^=o[m]},blockSize:128/32,ivSize:64/32});function l(){for(var d=this._X,h=this._C,p=0;p<8;p++)s[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<s[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<s[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<s[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<s[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<s[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<s[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<s[6]>>>0?1:0)|0,this._b=h[7]>>>0<s[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],v=m&65535,T=m>>>16,b=((v*v>>>17)+v*T>>>15)+T*T,E=((m&4294901760)*m|0)+((m&65535)*m|0);a[p]=b^E}d[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,d[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,d[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,d[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,d[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,d[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,d[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,d[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=r._createHelper(c)})(),t.Rabbit})});var B1=ve((mp,V1)=>{"use strict";(function(t,e,n){typeof mp=="object"?V1.exports=mp=e(we(),pi(),gi(),Tr(),at()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(mp,function(t){return(function(){var e=t,n=e.lib,r=n.StreamCipher,i=e.algo,o=[],s=[],a=[],c=i.RabbitLegacy=r.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var v=0;v<4;v++)l.call(this);for(var v=0;v<8;v++)m[v]^=p[v+4&7];if(h){var T=h.words,b=T[0],E=T[1],C=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,R=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,N=C>>>16|R&4294901760,k=R<<16|C&65535;m[0]^=C,m[1]^=N,m[2]^=R,m[3]^=k,m[4]^=C,m[5]^=N,m[6]^=R,m[7]^=k;for(var v=0;v<4;v++)l.call(this)}},_doProcessBlock:function(d,h){var p=this._X;l.call(this),o[0]=p[0]^p[5]>>>16^p[3]<<16,o[1]=p[2]^p[7]>>>16^p[5]<<16,o[2]=p[4]^p[1]>>>16^p[7]<<16,o[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)o[m]=(o[m]<<8|o[m]>>>24)&16711935|(o[m]<<24|o[m]>>>8)&4278255360,d[h+m]^=o[m]},blockSize:128/32,ivSize:64/32});function l(){for(var d=this._X,h=this._C,p=0;p<8;p++)s[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<s[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<s[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<s[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<s[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<s[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<s[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<s[6]>>>0?1:0)|0,this._b=h[7]>>>0<s[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],v=m&65535,T=m>>>16,b=((v*v>>>17)+v*T>>>15)+T*T,E=((m&4294901760)*m|0)+((m&65535)*m|0);a[p]=b^E}d[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,d[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,d[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,d[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,d[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,d[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,d[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,d[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=r._createHelper(c)})(),t.RabbitLegacy})});var U1=ve((vp,j1)=>{"use strict";(function(t,e,n){typeof vp=="object"?j1.exports=vp=e(we(),pi(),gi(),Tr(),at()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(vp,function(t){return(function(){var e=t,n=e.lib,r=n.BlockCipher,i=e.algo;let o=16,s=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function l(v,T){let b=T>>24&255,E=T>>16&255,C=T>>8&255,R=T&255,N=v.sbox[0][b]+v.sbox[1][E];return N=N^v.sbox[2][C],N=N+v.sbox[3][R],N}function d(v,T,b){let E=T,C=b,R;for(let N=0;N<o;++N)E=E^v.pbox[N],C=l(v,E)^C,R=E,E=C,C=R;return R=E,E=C,C=R,C=C^v.pbox[o],E=E^v.pbox[o+1],{left:E,right:C}}function h(v,T,b){let E=T,C=b,R;for(let N=o+1;N>1;--N)E=E^v.pbox[N],C=l(v,E)^C,R=E,E=C,C=R;return R=E,E=C,C=R,C=C^v.pbox[1],E=E^v.pbox[0],{left:E,right:C}}function p(v,T,b){for(let k=0;k<4;k++){v.sbox[k]=[];for(let P=0;P<256;P++)v.sbox[k][P]=a[k][P]}let E=0;for(let k=0;k<o+2;k++)v.pbox[k]=s[k]^T[E],E++,E>=b&&(E=0);let C=0,R=0,N=0;for(let k=0;k<o+2;k+=2)N=d(v,C,R),C=N.left,R=N.right,v.pbox[k]=C,v.pbox[k+1]=R;for(let k=0;k<4;k++)for(let P=0;P<256;P+=2)N=d(v,C,R),C=N.left,R=N.right,v.sbox[k][P]=C,v.sbox[k][P+1]=R;return!0}var m=i.Blowfish=r.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,T=v.words,b=v.sigBytes/4;p(c,T,b)}},encryptBlock:function(v,T){var b=d(c,v[T],v[T+1]);v[T]=b.left,v[T+1]=b.right},decryptBlock:function(v,T){var b=h(c,v[T],v[T+1]);v[T]=b.left,v[T+1]=b.right},blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=r._createHelper(m)})(),t.Blowfish})});var $1=ve((yp,H1)=>{"use strict";(function(t,e,n){typeof yp=="object"?H1.exports=yp=e(we(),Nu(),BS(),US(),pi(),qS(),gi(),EE(),qh(),QS(),IE(),JS(),e1(),n1(),Zh(),o1(),Tr(),at(),u1(),d1(),h1(),g1(),v1(),_1(),I1(),D1(),x1(),T1(),S1(),N1(),P1(),O1(),L1(),B1(),U1()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):t.CryptoJS=e(t.CryptoJS)})(yp,function(t){return t})});var zp;function sl(){return zp}function Nn(t){let e=zp;return zp=t,e}var II=Symbol("NotFound");function Ro(t){return t===II||t?.name==="\u0275NotFound"}var xt=null,al=!1,Gp=1,WR=null,bt=Symbol("SIGNAL");function oe(t){let e=xt;return xt=t,e}function dl(){return xt}var No={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mo(t){if(al)throw new Error("");if(xt===null)return;xt.consumerOnSignalRead(t);let e=xt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=xt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:xt.producers,n!==void 0&&n.producer===t)){xt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===xt&&(!r||QR(i,xt)))return;let o=ko(xt),s={producer:t,consumer:xt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};xt.producersTail=s,e!==void 0?e.nextProducer=s:xt.producers=s,o&&xI(t,s)}function wI(){Gp++}function fl(t){if(!(ko(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Gp)){if(!t.producerMustRecompute(t)&&!Na(t)){ll(t);return}t.producerRecomputeValue(t),ll(t)}}function Wp(t){if(t.consumers===void 0)return;let e=al;al=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||KR(r)}}finally{al=e}}function Kp(){return xt?.consumerAllowSignalWrites!==!1}function KR(t){t.dirty=!0,Wp(t),t.consumerMarkedDirty?.(t)}function ll(t){t.dirty=!1,t.lastCleanEpoch=Gp}function Po(t){return t&&DI(t),oe(t)}function DI(t){t.producersTail=void 0,t.recomputing=!0}function Ra(t,e){oe(e),t&&CI(t)}function CI(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(ko(t))do n=Qp(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Na(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(fl(n),r!==n.version))return!0}return!1}function Ma(t){if(ko(t)){let e=t.producers;for(;e!==void 0;)e=Qp(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function xI(t,e){let n=t.consumersTail,r=ko(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)xI(i.producer,i)}function Qp(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ko(e)){let o=e.producers;for(;o!==void 0;)o=Qp(o)}return n}function ko(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function hl(t){WR?.(t)}function QR(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function pl(t,e){return Object.is(t,e)}function gl(t,e){let n=Object.create(YR);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(fl(n),Mo(n),n.value===Sa)throw n.error;return n.value};return r[bt]=n,hl(n),r}var cl=Symbol("UNSET"),ul=Symbol("COMPUTING"),Sa=Symbol("ERRORED"),YR=fe(z({},No),{value:cl,dirty:!0,error:null,equal:pl,kind:"computed",producerMustRecompute(t){return t.value===cl||t.value===ul},producerRecomputeValue(t){if(t.value===ul)throw new Error("");let e=t.value;t.value=ul;let n=Po(t),r,i=!1;try{r=t.computation(),oe(null),i=e!==cl&&e!==Sa&&r!==Sa&&t.equal(e,r)}catch(o){r=Sa,t.error=o}finally{Ra(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function ZR(){throw new Error}var bI=ZR;function TI(t){bI(t)}function Yp(t){bI=t}var JR=null;function Zp(t,e){let n=Object.create(ml);n.value=t,e!==void 0&&(n.equal=e);let r=()=>AI(n);return r[bt]=n,hl(n),[r,s=>Oo(n,s),s=>Jp(n,s)]}function AI(t){return Mo(t),t.value}function Oo(t,e){Kp()||TI(t),t.equal(t.value,e)||(t.value=e,XR(t))}function Jp(t,e){Kp()||TI(t),Oo(t,e(t.value))}var ml=fe(z({},No),{equal:pl,value:void 0,kind:"signal"});function XR(t){t.version++,wI(),Wp(t),JR?.(t)}function se(t){return typeof t=="function"}function Fo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vl=Fo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function xi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var He=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){e=o instanceof vl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{SI(o)}catch(s){e=e??[],s instanceof vl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)SI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xi(n,e)}remove(e){let{_finalizers:n}=this;n&&xi(n,e),e instanceof t&&e._removeParent(this)}};He.EMPTY=(()=>{let t=new He;return t.closed=!0,t})();var Xp=He.EMPTY;function yl(t){return t instanceof He||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function SI(t){se(t)?t():t.unsubscribe()}var pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lo={setTimeout(t,e,...n){let{delegate:r}=Lo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Lo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _l(t){Lo.setTimeout(()=>{let{onUnhandledError:e}=pn;if(e)e(t);else throw t})}function Pa(){}var RI=eg("C",void 0,void 0);function NI(t){return eg("E",void 0,t)}function MI(t){return eg("N",t,void 0)}function eg(t,e,n){return{kind:t,value:e,error:n}}var bi=null;function Vo(t){if(pn.useDeprecatedSynchronousErrorHandling){let e=!bi;if(e&&(bi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=bi;if(bi=null,n)throw r}}else t()}function PI(t){pn.useDeprecatedSynchronousErrorHandling&&bi&&(bi.errorThrown=!0,bi.error=t)}var Ti=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yl(e)&&e.add(this)):this.destination=nN}static create(e,n,r){return new Bo(e,n,r)}next(e){this.isStopped?ng(MI(e),this):this._next(e)}error(e){this.isStopped?ng(NI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ng(RI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eN=Function.prototype.bind;function tg(t,e){return eN.call(t,e)}var rg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){El(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){El(r)}else El(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){El(n)}}},Bo=class extends Ti{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&tg(e.next,o),error:e.error&&tg(e.error,o),complete:e.complete&&tg(e.complete,o)}):i=e}this.destination=new rg(i)}};function El(t){pn.useDeprecatedSynchronousErrorHandling?PI(t):_l(t)}function tN(t){throw t}function ng(t,e){let{onStoppedNotification:n}=pn;n&&Lo.setTimeout(()=>n(t,e))}var nN={closed:!0,next:Pa,error:tN,complete:Pa};var jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ut(t){return t}function ig(...t){return og(t)}function og(t){return t.length===0?Ut:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=iN(n)?n:new Bo(n,r,i);return Vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=kI(r),new r((i,o)=>{let s=new Bo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[jo](){return this}pipe(...n){return og(n)(this)}toPromise(n){return n=kI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function kI(t){var e;return(e=t??pn.Promise)!==null&&e!==void 0?e:Promise}function rN(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function iN(t){return t&&t instanceof Ti||rN(t)&&yl(t)}function sg(t){return se(t?.lift)}function De(t){return e=>{if(sg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,e,n,r,i){return new ag(t,e,n,r,i)}var ag=class extends Ti{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Uo(){return De((t,e)=>{let n=null;t._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ho=class extends ge{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let n=this.getSubject();e.add(this.source.subscribe(_e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return Uo()(this)}};var OI=Fo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class t extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Il(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new OI}next(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Xp:(this.currentObservers=null,o.push(n),new He(()=>{this.currentObservers=null,xi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ge;return n.source=this,n}}return t.create=(e,n)=>new Il(e,n),t})(),Il=class extends nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Xp}};var mt=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var cg={now(){return(cg.delegate||Date).now()},delegate:void 0};var wl=class extends He{constructor(e,n){super()}schedule(e,n=0){return this}};var ka={setInterval(t,e,...n){let{delegate:r}=ka;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ka;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var $o=class extends wl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ka.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ka.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var qo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};qo.now=cg.now;var zo=class extends qo{constructor(e,n=qo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ug=new zo($o);var Dl=class extends $o{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Cl=class extends zo{};var lg=new Cl(Dl);var Lt=new ge(t=>t.complete());function FI(t){return t&&se(t.schedule)}function LI(t){return t[t.length-1]}function xl(t){return se(LI(t))?t.pop():void 0}function Vr(t){return FI(LI(t))?t.pop():void 0}function dg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(h){s(h)}}function c(d){try{l(r.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function VI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ai(t){return this instanceof Ai?(this.v=t,this):new Ai(t)}function jI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(v){return Promise.resolve(v).then(m,h)}}function a(m,v){r[m]&&(i[m]=function(T){return new Promise(function(b,E){o.push([m,T,b,E])>1||c(m,T)})},v&&(i[m]=v(i[m])))}function c(m,v){try{l(r[m](v))}catch(T){p(o[0][3],T)}}function l(m){m.value instanceof Ai?Promise.resolve(m.value.v).then(d,h):p(o[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function p(m,v){m(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function UI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof VI=="function"?VI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var bl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Tl(t){return se(t?.then)}function Al(t){return se(t[jo])}function Sl(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function Rl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function oN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nl=oN();function Ml(t){return se(t?.[Nl])}function Pl(t){return jI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ai(n.read());if(i)return yield Ai(void 0);yield yield Ai(r)}}finally{n.releaseLock()}})}function kl(t){return se(t?.getReader)}function Qe(t){if(t instanceof ge)return t;if(t!=null){if(Al(t))return sN(t);if(bl(t))return aN(t);if(Tl(t))return cN(t);if(Sl(t))return HI(t);if(Ml(t))return uN(t);if(kl(t))return lN(t)}throw Rl(t)}function sN(t){return new ge(e=>{let n=t[jo]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aN(t){return new ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function cN(t){return new ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_l)})}function uN(t){return new ge(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function HI(t){return new ge(e=>{dN(t,e).catch(n=>e.error(n))})}function lN(t){return HI(Pl(t))}function dN(t,e){var n,r,i,o;return BI(this,void 0,void 0,function*(){try{for(n=UI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Br(t,e=0){return De((n,r)=>{n.subscribe(_e(r,i=>Vt(r,t,()=>r.next(i),e),()=>Vt(r,t,()=>r.complete(),e),i=>Vt(r,t,()=>r.error(i),e)))})}function jr(t,e=0){return De((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function $I(t,e){return Qe(t).pipe(jr(e),Br(e))}function qI(t,e){return Qe(t).pipe(jr(e),Br(e))}function zI(t,e){return new ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function GI(t,e){return new ge(n=>{let r;return Vt(n,e,()=>{r=t[Nl](),Vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function Ol(t,e){if(!t)throw new Error("Iterable cannot be null");return new ge(n=>{Vt(n,e,()=>{let r=t[Symbol.asyncIterator]();Vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function WI(t,e){return Ol(Pl(t),e)}function KI(t,e){if(t!=null){if(Al(t))return $I(t,e);if(bl(t))return zI(t,e);if(Tl(t))return qI(t,e);if(Sl(t))return Ol(t,e);if(Ml(t))return GI(t,e);if(kl(t))return WI(t,e)}throw Rl(t)}function $e(t,e){return e?KI(t,e):Qe(t)}function ne(...t){let e=Vr(t);return $e(t,e)}function Go(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new ge(e?i=>e.schedule(r,0,i):r)}function fg(t){return!!t&&(t instanceof ge||se(t.lift)&&se(t.subscribe))}var Jn=Fo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ee(t,e){return De((n,r)=>{let i=0;n.subscribe(_e(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:fN}=Array;function hN(t,e){return fN(e)?t(...e):t(e)}function Fl(t){return Ee(e=>hN(t,e))}var{isArray:pN}=Array,{getPrototypeOf:gN,prototype:mN,keys:vN}=Object;function Ll(t){if(t.length===1){let e=t[0];if(pN(e))return{args:e,keys:null};if(yN(e)){let n=vN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function yN(t){return t&&typeof t=="object"&&gN(t)===mN}function Vl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Bl(...t){let e=Vr(t),n=xl(t),{args:r,keys:i}=Ll(t);if(r.length===0)return $e([],e);let o=new ge(_N(r,e,i?s=>Vl(i,s):Ut));return n?o.pipe(Fl(n)):o}function _N(t,e,n=Ut){return r=>{QI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)QI(e,()=>{let l=$e(t[c],e),d=!1;l.subscribe(_e(r,h=>{o[c]=h,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function QI(t,e,n){t?Vt(n,t,e):e()}function YI(t,e,n,r,i,o,s,a){let c=[],l=0,d=0,h=!1,p=()=>{h&&!c.length&&!l&&e.complete()},m=T=>l<r?v(T):c.push(T),v=T=>{o&&e.next(T),l++;let b=!1;Qe(n(T,d++)).subscribe(_e(e,E=>{i?.(E),o?m(E):e.next(E)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){let E=c.shift();s?Vt(e,s,()=>v(E)):v(E)}p()}catch(E){e.error(E)}}))};return t.subscribe(_e(e,m,()=>{h=!0,p()})),()=>{a?.()}}function rt(t,e,n=1/0){return se(e)?rt((r,i)=>Ee((o,s)=>e(r,o,i,s))(Qe(t(r,i))),n):(typeof e=="number"&&(n=e),De((r,i)=>YI(r,i,t,n)))}function ZI(t=1/0){return rt(Ut,t)}function JI(){return ZI(1)}function Wo(...t){return JI()($e(t,Vr(t)))}function Oa(t){return new ge(e=>{Qe(t()).subscribe(e)})}function hg(...t){let e=xl(t),{args:n,keys:r}=Ll(t),i=new ge(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let h=!1;Qe(n[d]).subscribe(_e(o,p=>{h||(h=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(r?Vl(r,a):a),o.complete())}))}});return e?i.pipe(Fl(e)):i}function Xt(t,e){return De((n,r)=>{let i=0;n.subscribe(_e(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ur(t){return De((e,n)=>{let r=null,i=!1,o;r=e.subscribe(_e(n,void 0,void 0,s=>{o=Qe(t(s,Ur(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function XI(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(_e(s,d=>{let h=l++;c=a?t(c,d,h):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Ko(t,e){return se(e)?rt(t,e,1):rt(t,1)}function Hr(t){return De((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xn(t){return t<=0?()=>Lt:De((e,n)=>{let r=0;e.subscribe(_e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function jl(t=EN){return De((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function EN(){return new Jn}function Fa(t){return De((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function er(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xt((i,o)=>t(i,o,r)):Ut,Xn(1),n?Hr(e):jl(()=>new Jn))}function Qo(t){return t<=0?()=>Lt:De((e,n)=>{let r=[];e.subscribe(_e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function pg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xt((i,o)=>t(i,o,r)):Ut,Qo(1),n?Hr(e):jl(()=>new Jn))}function gg(t,e){return De(XI(t,e,arguments.length>=2,!0))}function mg(...t){let e=Vr(t);return De((n,r)=>{(e?Wo(t,n,e):Wo(t,n)).subscribe(r)})}function Bt(t,e){return De((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(_e(r,c=>{i?.unsubscribe();let l=0,d=o++;Qe(t(c,d)).subscribe(i=_e(r,h=>r.next(e?e(c,h,d,l++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ul(t){return De((e,n)=>{Qe(t).subscribe(_e(n,()=>n.complete(),Pa)),!n.closed&&e.subscribe(n)})}function ut(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?De((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ut}function ew(t){let e=oe(null);try{return t()}finally{oe(e)}}var Ri=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Sg=new Ri("20.3.9");var Rg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Q=class extends Error{code;constructor(e,n){super(ja(e,n)),this.code=e}};function IN(t){return`NG0${Math.abs(t)}`}function ja(t,e){return`${IN(t)}${e?": "+e:""}`}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("")}function rw(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function nr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(nr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ng(t,e){return t?e?`${t} ${e}`:t:e||""}var wN=Re({__forward_ref__:Re});function rr(t){return t.__forward_ref__=rr,t.toString=function(){return nr(this())},t}function vt(t){return Mg(t)?t():t}function Mg(t){return typeof t=="function"&&t.hasOwnProperty(wN)&&t.__forward_ref__===rr}function X(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ir(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ua(t){return DN(t,zl)}function Pg(t){return Ua(t)!==null}function DN(t,e){return t.hasOwnProperty(e)&&t[e]||null}function CN(t){let e=t?.[zl]??null;return e||null}function yg(t){return t&&t.hasOwnProperty($l)?t[$l]:null}var zl=Re({\u0275prov:Re}),$l=Re({\u0275inj:Re}),Y=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kg(t){return t&&!!t.\u0275providers}var Og=Re({\u0275cmp:Re}),Fg=Re({\u0275dir:Re}),Lg=Re({\u0275pipe:Re}),Vg=Re({\u0275mod:Re}),Va=Re({\u0275fac:Re}),Oi=Re({__NG_ELEMENT_ID__:Re}),tw=Re({__NG_ENV_ID__:Re});function Gl(t){return typeof t=="string"?t:t==null?"":String(t)}function iw(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gl(t)}var ow=Re({ngErrorCode:Re}),xN=Re({ngErrorMessage:Re}),bN=Re({ngTokenPath:Re});function Bg(t,e){return sw("",-200,e)}function Wl(t,e){throw new Q(-201,!1)}function sw(t,e,n){let r=new Q(e,t);return r[ow]=e,r[xN]=t,n&&(r[bN]=n),r}function TN(t){return t[ow]}var _g;function aw(){return _g}function Ht(t){let e=_g;return _g=t,e}function jg(t,e,n){let r=Ua(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Wl(t,"Injector")}var AN={},Si=AN,Eg="__NG_DI_FLAG__",Ig=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Ni(n)||0;try{return this.injector.get(e,r&8?null:Si,r)}catch(i){if(Ro(i))return i;throw i}}};function SN(t,e=0){let n=sl();if(n===void 0)throw new Q(-203,!1);if(n===null)return jg(t,void 0,e);{let r=RN(e),i=n.retrieve(t,r);if(Ro(i)){if(r.optional)return null;throw i}return i}}function he(t,e=0){return(aw()||SN)(vt(t),e)}function H(t,e){return he(t,Ni(e))}function Ni(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function RN(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function wg(t){let e=[];for(let n=0;n<t.length;n++){let r=vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=NN(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(he(i,o))}else e.push(he(r))}return e}function cw(t,e){return t[Eg]=e,t.prototype[Eg]=e,t}function NN(t){return t[Eg]}function Mi(t,e){let n=t.hasOwnProperty(Va);return n?t[Va]:null}function Kl(t,e){t.forEach(n=>Array.isArray(n)?Kl(n,e):e(n))}function Ug(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ha(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uw(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function lw(t,e,n){let r=Zo(t,e);return r>=0?t[r|1]=n:(r=~r,uw(t,r,e,n)),r}function Ql(t,e){let n=Zo(t,e);if(n>=0)return t[n|1]}function Zo(t,e){return MN(t,e,1)}function MN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var zr={},$t=[],or=new Y(""),Hg=new Y("",-1),$g=new Y(""),Ba=class{get(e,n=Si){if(n===Si){let i=sw("",-201);throw i.name="\u0275NotFound",i}return n}};function qg(t){return t[Vg]||null}function Gr(t){return t[Og]||null}function zg(t){return t[Fg]||null}function dw(t){return t[Lg]||null}function gn(t){return{\u0275providers:t}}function fw(t){return gn([{provide:or,multi:!0,useValue:t}])}function Yl(...t){return{\u0275providers:Gg(!0,t),\u0275fromNgModule:!0}}function Gg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Kl(e,s=>{let a=s;ql(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hw(i,o),n}function hw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Wg(i,o=>{e(o,r)})}}function ql(t,e,n,r){if(t=vt(t),!t)return!1;let i=null,o=yg(t),s=!o&&Gr(t);if(!o&&!s){let c=t.ngModule;if(o=yg(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ql(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Kl(o.imports,d=>{ql(d,e,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&hw(l,e)}if(!a){let l=Mi(i)||(()=>new i);e({provide:i,useFactory:l,deps:$t},i),e({provide:$g,useValue:i,multi:!0},i),e({provide:or,useValue:()=>he(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Wg(c,d=>{e(d,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Wg(t,e){for(let n of t)kg(n)&&(n=n.\u0275providers),Array.isArray(n)?Wg(n,e):e(n)}var PN=Re({provide:String,useValue:Re});function pw(t){return t!==null&&typeof t=="object"&&PN in t}function kN(t){return!!(t&&t.useExisting)}function ON(t){return!!(t&&t.useFactory)}function Pi(t){return typeof t=="function"}function gw(t){return!!t.useClass}var $a=new Y(""),Hl={},nw={},vg;function qa(){return vg===void 0&&(vg=new Ba),vg}var it=class{},ki=class extends it{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Cg(e,s=>this.processProvider(s)),this.records.set(Hg,Yo(void 0,this)),i.has("environment")&&this.records.set(it,Yo(void 0,this));let o=this.records.get($a);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($g,$t,{self:!0}))}retrieve(e,n){let r=Ni(n)||0;try{return this.get(e,Si,r)}catch(i){if(Ro(i))return i;throw i}}destroy(){La(this),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return La(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){La(this);let n=Nn(this),r=Ht(void 0),i;try{return e()}finally{Nn(n),Ht(r)}}get(e,n=Si,r){if(La(this),e.hasOwnProperty(tw))return e[tw](this);let i=Ni(r),o,s=Nn(this),a=Ht(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let d=jN(e)&&Ua(e);d&&this.injectableDefInScope(d)?l=Yo(Dg(e),Hl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?qa():this.parent;return n=i&8&&n===Si?null:n,c.get(e,n)}catch(c){let l=TN(c);throw l===-200||l===-201?new Q(l,null):c}finally{Ht(a),Nn(s)}}resolveInjectorInitializers(){let e=oe(null),n=Nn(this),r=Ht(void 0),i;try{let o=this.get(or,$t,{self:!0});for(let s of o)s()}finally{Nn(n),Ht(r),oe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(nr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=vt(e);let n=Pi(e)?e:vt(e&&e.provide),r=LN(e);if(!Pi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Yo(void 0,Hl,!0),i.factory=()=>wg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=oe(null);try{if(n.value===nw)throw Bg(nr(e));return n.value===Hl&&(n.value=nw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&BN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{oe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Dg(t){let e=Ua(t),n=e!==null?e.factory:Mi(t);if(n!==null)return n;if(t instanceof Y)throw new Q(204,!1);if(t instanceof Function)return FN(t);throw new Q(204,!1)}function FN(t){if(t.length>0)throw new Q(204,!1);let n=CN(t);return n!==null?()=>n.factory(t):()=>new t}function LN(t){if(pw(t))return Yo(void 0,t.useValue);{let e=Kg(t);return Yo(e,Hl)}}function Kg(t,e,n){let r;if(Pi(t)){let i=vt(t);return Mi(i)||Dg(i)}else if(pw(t))r=()=>vt(t.useValue);else if(ON(t))r=()=>t.useFactory(...wg(t.deps||[]));else if(kN(t))r=(i,o)=>he(vt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=vt(t&&(t.useClass||t.provide));if(VN(t))r=()=>new i(...wg(t.deps));else return Mi(i)||Dg(i)}return r}function La(t){if(t.destroyed)throw new Q(205,!1)}function Yo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function VN(t){return!!t.deps}function BN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function jN(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Cg(t,e){for(let n of t)Array.isArray(n)?Cg(n,e):n&&kg(n)?Cg(n.\u0275providers,e):e(n)}function ot(t,e){let n;t instanceof ki?(La(t),n=t):n=new Ig(t);let r,i=Nn(n),o=Ht(void 0);try{return e()}finally{Nn(i),Ht(o)}}function mw(){return aw()!==void 0||sl()!=null}var mn=0,ce=1,ae=2,yt=3,en=4,tn=5,za=6,Jo=7,Et=8,Wr=9,sr=10,ze=11,Xo=12,Qg=13,Fi=14,nn=15,Li=16,Vi=17,Bi=18,Ga=19,Yg=20,tr=21,Zl=22,Wa=23,qt=24,Jl=25,Ka=26,Nt=27,vw=1;var Kr=7,Qa=8,Ya=9,Mt=10;function Pn(t){return Array.isArray(t)&&typeof t[vw]=="object"}function vn(t){return Array.isArray(t)&&t[vw]===!0}function Zg(t){return(t.flags&4)!==0}function Qr(t){return t.componentOffset>-1}function Xl(t){return(t.flags&1)===1}function kn(t){return!!t.template}function es(t){return(t[ae]&512)!==0}function ji(t){return(t[ae]&256)===256}var yw="svg",_w="math";function rn(t){for(;Array.isArray(t);)t=t[mn];return t}function Jg(t,e){return rn(e[t])}function yn(t,e){return rn(e[t.index])}function Za(t,e){return t.data[e]}function on(t,e){let n=e[t];return Pn(n)?n:n[mn]}function ed(t){return(t[ae]&128)===128}function Ew(t){return vn(t[yt])}function ts(t,e){return e==null?null:t[e]}function Xg(t){t[Vi]=0}function em(t){t[ae]&1024||(t[ae]|=1024,ed(t)&&Xa(t))}function Iw(t,e){for(;t>0;)e=e[Fi],t--;return e}function Ja(t){return!!(t[ae]&9216||t[qt]?.dirty)}function td(t){t[sr].changeDetectionScheduler?.notify(8),t[ae]&64&&(t[ae]|=1024),Ja(t)&&Xa(t)}function Xa(t){t[sr].changeDetectionScheduler?.notify(0);let e=$r(t);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!ed(e)));)e=$r(e)}function tm(t,e){if(ji(t))throw new Q(911,!1);t[tr]===null&&(t[tr]=[]),t[tr].push(e)}function ww(t,e){if(t[tr]===null)return;let n=t[tr].indexOf(e);n!==-1&&t[tr].splice(n,1)}function $r(t){let e=t[yt];return vn(e)?e[yt]:e}function Dw(t){return t[Jo]??=[]}function Cw(t){return t.cleanup??=[]}var Ie={lFrame:Uw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var xg=!1;function xw(){return Ie.lFrame.elementDepthCount}function bw(){Ie.lFrame.elementDepthCount++}function Tw(){Ie.lFrame.elementDepthCount--}function Aw(){return Ie.bindingsEnabled}function Sw(){return Ie.skipHydrationRootTNode!==null}function Rw(t){return Ie.skipHydrationRootTNode===t}function Nw(){Ie.skipHydrationRootTNode=null}function Fe(){return Ie.lFrame.lView}function zt(){return Ie.lFrame.tView}function Ui(t){return Ie.lFrame.contextLView=t,t[Et]}function Hi(t){return Ie.lFrame.contextLView=null,t}function Gt(){let t=nm();for(;t!==null&&t.type===64;)t=t.parent;return t}function nm(){return Ie.lFrame.currentTNode}function Mw(){let t=Ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ns(t,e){let n=Ie.lFrame;n.currentTNode=t,n.isParent=e}function rm(){return Ie.lFrame.isParent}function Pw(){Ie.lFrame.isParent=!1}function im(){return xg}function om(t){let e=xg;return xg=t,e}function kw(t){return Ie.lFrame.bindingIndex=t}function ec(){return Ie.lFrame.bindingIndex++}function Ow(t){let e=Ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Fw(){return Ie.lFrame.inI18n}function Lw(t,e){let n=Ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,nd(e)}function Vw(){return Ie.lFrame.currentDirectiveIndex}function nd(t){Ie.lFrame.currentDirectiveIndex=t}function Bw(t){let e=Ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function sm(t){Ie.lFrame.currentQueryIndex=t}function UN(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[tn]:null}function am(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=UN(o),i===null||(o=o[Fi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Ie.lFrame=jw();return r.currentTNode=e,r.lView=t,!0}function rd(t){let e=jw(),n=t[ce];Ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function jw(){let t=Ie.lFrame,e=t===null?null:t.child;return e===null?Uw(t):e}function Uw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Hw(){let t=Ie.lFrame;return Ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cm=Hw;function id(){let t=Hw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $w(t){return(Ie.lFrame.contextLView=Iw(t,Ie.lFrame.contextLView))[Et]}function $i(){return Ie.lFrame.selectedIndex}function Yr(t){Ie.lFrame.selectedIndex=t}function um(){let t=Ie.lFrame;return Za(t.tView,t.selectedIndex)}function qw(){return Ie.lFrame.currentNamespace}var zw=!0;function od(){return zw}function sd(t){zw=t}function bg(t,e=null,n=null,r){let i=lm(t,e,n,r);return i.resolveInjectorInitializers(),i}function lm(t,e=null,n=null,r,i=new Set){let o=[n||$t,Yl(t)];return r=r||(typeof t=="object"?void 0:nr(t)),new ki(o,e||qa(),r||null,i)}var _t=class t{static THROW_IF_NOT_FOUND=Si;static NULL=new Ba;static create(e,n){if(Array.isArray(e))return bg({name:""},n,e,"");{let r=e.name??"";return bg({name:r},e.parent,e.providers,r)}}static \u0275prov=X({token:t,providedIn:"any",factory:()=>he(Hg)});static __NG_ELEMENT_ID__=-1},lt=new Y(""),ar=(()=>{class t{static __NG_ELEMENT_ID__=HN;static __NG_ENV_ID__=n=>n}return t})(),Tg=class extends ar{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ji(this._lView)}onDestroy(e){let n=this._lView;return tm(n,e),()=>ww(n,e)}};function HN(){return new Tg(Fe())}var Mn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Wt=new Y("",{providedIn:"root",factory:()=>{let t=H(it),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Mn),e.handleError(n))}}}),Gw={provide:or,useValue:()=>void H(Mn),multi:!0},$N=new Y("",{providedIn:"root",factory:()=>{let t=H(lt).defaultView;if(!t)return;let e=H(Wt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),H(ar).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function dm(){return gn([fw(()=>void H($N))])}function fm(t){return typeof t=="function"&&t[bt]!==void 0}function Kt(t,e){let[n,r,i]=Zp(t,e?.equal),o=n,s=o[bt];return o.set=r,o.update=i,o.asReadonly=Ww.bind(o),o}function Ww(){let t=this[bt];if(t.readonlyFn===void 0){let e=()=>this();e[bt]=t,t.readonlyFn=e}return t.readonlyFn}function hm(t){return fm(t)&&typeof t.set=="function"}var qr=class{},tc=new Y("",{providedIn:"root",factory:()=>!1});var pm=new Y(""),gm=new Y(""),On=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new mt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ge(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})(),rs=(()=>{class t{internalPendingTasks=H(On);scheduler=H(qr);errorHandler=H(Wt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})();function nc(...t){}var mm=(()=>{class t{static \u0275prov=X({token:t,providedIn:"root",factory:()=>new Ag})}return t})(),Ag=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function ds(t){return{toString:t}.toString()}var ad="__parameters__";function XN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function eM(t,e,n){return ds(()=>{let r=XN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let h=c.hasOwnProperty(ad)?c[ad]:Object.defineProperty(c,ad,{value:[]})[ad];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var lr=cw(eM("Optional"),8);function tM(t){return typeof t=="function"}var fd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function bD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Qi=(()=>{let t=()=>TD;return t.ngInherit=!0,t})();function TD(t){return t.type.prototype.ngOnChanges&&(t.setInput=rM),nM}function nM(){let t=SD(this),e=t?.current;if(e){let n=t.previous;if(n===zr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rM(t,e,n,r,i){let o=this.declaredInputs[r],s=SD(t)||iM(t,{previous:zr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new fd(l&&l.currentValue,n,c===zr),bD(t,e,i,n)}var AD="__ngSimpleChanges__";function SD(t){return t[AD]||null}function iM(t,e){return t[AD]=e}var Kw=[];var Pe=function(t,e=null,n){for(let r=0;r<Kw.length;r++){let i=Kw[r];i(t,e,n)}};function oM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=TD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function sM(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function ud(t,e,n){RD(t,e,3,n)}function ld(t,e,n,r){(t[ae]&3)===n&&RD(t,e,n,r)}function vm(t,e){let n=t[ae];(n&3)===e&&(n&=16383,n+=1,t[ae]=n)}function RD(t,e,n,r){let i=r!==void 0?t[Vi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Vi]+=65536),(a<o||o==-1)&&(aM(t,n,e,c),t[Vi]=(t[Vi]&4294901760)+c+2),c++}function Qw(t,e){Pe(4,t,e);let n=oe(null);try{e.call(t)}finally{oe(n),Pe(5,t,e)}}function aM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ae]>>14<t[Vi]>>16&&(t[ae]&3)===e&&(t[ae]+=16384,Qw(a,o)):Qw(a,o)}var os=-1,zi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function cM(t){return(t.flags&8)!==0}function uM(t){return(t.flags&16)!==0}function lM(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];fM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function dM(t){return t===3||t===4||t===6}function fM(t){return t.charCodeAt(0)===64}function oc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Yw(t,n,i,null,e[++r]):Yw(t,n,i,null,null))}}return t}function Yw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function ND(t){return t!==os}function hd(t){return t&32767}function hM(t){return t>>16}function pd(t,e){let n=hM(t),r=e;for(;n>0;)r=r[Fi],n--;return r}var Tm=!0;function Zw(t){let e=Tm;return Tm=t,e}var pM=256,MD=pM-1,PD=5,gM=0,Fn={};function mM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Oi)&&(r=n[Oi]),r==null&&(r=n[Oi]=gM++);let i=r&MD,o=1<<i;e.data[t+(i>>PD)]|=o}function gd(t,e){let n=kD(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,ym(r.data,t),ym(e,null),ym(r.blueprint,null));let i=Wm(t,e),o=t.injectorIndex;if(ND(i)){let s=hd(i),a=pd(i,e),c=a[ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function ym(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Wm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=BD(i),r===null)return os;if(n++,i=i[Fi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return os}function Am(t,e,n){mM(t,e,n)}function OD(t,e,n){if(n&8||t!==void 0)return t;Wl(e,"NodeInjector")}function FD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Wr],o=Ht(void 0);try{return i?i.get(e,r,n&8):jg(e,r,n&8)}finally{Ht(o)}}return OD(r,e,n)}function LD(t,e,n,r=0,i){if(t!==null){if(e[ae]&2048&&!(r&2)){let s=IM(t,e,n,r,Fn);if(s!==Fn)return s}let o=VD(t,e,n,r,Fn);if(o!==Fn)return o}return FD(e,n,r,i)}function VD(t,e,n,r,i){let o=_M(n);if(typeof o=="function"){if(!am(e,t,r))return r&1?OD(i,n,r):FD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Wl(n);else return s}finally{cm()}}else if(typeof o=="number"){let s=null,a=kD(t,e),c=os,l=r&1?e[nn][tn]:null;for((a===-1||r&4)&&(c=a===-1?Wm(t,e):e[a+8],c===os||!Xw(r,!1)?a=-1:(s=e[ce],a=hd(c),e=pd(c,e)));a!==-1;){let d=e[ce];if(Jw(o,a,d.data)){let h=vM(a,e,n,s,r,l);if(h!==Fn)return h}c=e[a+8],c!==os&&Xw(r,e[ce].data[a+8]===l)&&Jw(o,a,e)?(s=d,a=hd(c),e=pd(c,e)):a=-1}}return i}function vM(t,e,n,r,i,o){let s=e[ce],a=s.data[t+8],c=r==null?Qr(a)&&Tm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,d=yM(a,s,n,c,l);return d!==null?md(e,s,d,a,i):Fn}function yM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,d=o>>20,h=r?a:a+d,p=i?a+d:l;for(let m=h;m<p;m++){let v=s[m];if(m<c&&n===v||m>=c&&v.type===n)return m}if(i){let m=s[c];if(m&&kn(m)&&m.type===n)return c}return null}function md(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof zi){let a=o;if(a.resolving){let m=iw(s[n]);throw Bg(m)}let c=Zw(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],d,h=a.injectImpl?Ht(a.injectImpl):null,p=am(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&oM(n,s[n],e)}finally{h!==null&&Ht(h),Zw(c),a.resolving=!1,cm()}}return o}function _M(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Oi)?t[Oi]:void 0;return typeof e=="number"?e>=0?e&MD:EM:e}function Jw(t,e,n){let r=1<<t;return!!(n[e+(t>>PD)]&r)}function Xw(t,e){return!(t&2)&&!(t&1&&e)}var qi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return LD(this._tNode,this._lView,e,Ni(r),n)}};function EM(){return new qi(Gt(),Fe())}function Yi(t){return ds(()=>{let e=t.prototype.constructor,n=e[Va]||Sm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Va]||Sm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sm(t){return Mg(t)?()=>{let e=Sm(vt(t));return e&&e()}:Mi(t)}function IM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ae]&2048&&!es(s);){let a=VD(o,s,n,r|2,Fn);if(a!==Fn)return a;let c=o.parent;if(!c){let l=s[Yg];if(l){let d=l.get(n,Fn,r);if(d!==Fn)return d}c=BD(s),s=s[Fi]}o=c}return i}function BD(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[tn]:null}function wM(){return Km(Gt(),Fe())}function Km(t,e){return new fs(yn(t,e))}var fs=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=wM}return t})();function jD(t){return(t.flags&128)===128}var Qm=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Qm||{}),UD=new Map,DM=0;function CM(){return DM++}function xM(t){UD.set(t[Ga],t)}function Rm(t){UD.delete(t[Ga])}var eD="__ngContext__";function ss(t,e){Pn(e)?(t[eD]=e[Ga],xM(e)):t[eD]=e}function HD(t){return qD(t[Xo])}function $D(t){return qD(t[en])}function qD(t){for(;t!==null&&!vn(t);)t=t[en];return t}var Nm;function Ym(t){Nm=t}function zD(){if(Nm!==void 0)return Nm;if(typeof document<"u")return document;throw new Q(210,!1)}var Td=new Y("",{providedIn:"root",factory:()=>bM}),bM="ng",Ad=new Y(""),Zr=new Y("",{providedIn:"platform",factory:()=>"unknown"});var Sd=new Y("",{providedIn:"root",factory:()=>zD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var TM="h",AM="b";var GD=!1,WD=new Y("",{providedIn:"root",factory:()=>GD});var SM=(t,e,n,r)=>{};function RM(t,e,n,r){SM(t,e,n,r)}function Zm(t){return(t.flags&32)===32}var NM=()=>null;function KD(t,e,n=!1){return NM(t,e,n)}function QD(t,e){let n=t.contentQueries;if(n!==null){let r=oe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];sm(o),a.contentQueries(2,e[s],s)}}}finally{oe(r)}}}function Mm(t,e,n){sm(0);let r=oe(null);try{e(t,n)}finally{oe(r)}}function YD(t,e,n){if(Zg(e)){let r=oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{oe(r)}}}var cr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(cr||{});var Pm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rg})`}};function ZD(t){return t instanceof Pm?t.changingThisBreaksApplicationSecurity:t}function JD(t){return t instanceof Function?t():t}function MM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var XD="ng-template";function PM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&MM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Jm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Jm(t){return t.type===4&&t.value!==XD}function kM(t,e,n){let r=t.type===4&&!n?XD:t.value;return e===r}function OM(t,e,n){let r=4,i=t.attrs,o=i!==null?VM(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!_n(r)&&!_n(c))return!1;if(s&&_n(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!kM(t,c,n)||c===""&&e.length===1){if(_n(r))return!1;s=!0}}else if(r&8){if(i===null||!PM(t,i,c,n)){if(_n(r))return!1;s=!0}}else{let l=e[++a],d=FM(c,i,Jm(t),n);if(d===-1){if(_n(r))return!1;s=!0;continue}if(l!==""){let h;if(d>o?h="":h=i[d+1].toLowerCase(),r&2&&l!==h){if(_n(r))return!1;s=!0}}}}return _n(r)||s}function _n(t){return(t&1)===0}function FM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return BM(e,t)}function LM(t,e,n=!1){for(let r=0;r<e.length;r++)if(OM(t,e[r],n))return!0;return!1}function VM(t){for(let e=0;e<t.length;e++){let n=t[e];if(dM(n))return e}return t.length}function BM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function tD(t,e){return t?":not("+e.trim()+")":e}function jM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!_n(s)&&(e+=tD(o,i),i=""),r=s,o=o||!_n(r);n++}return i!==""&&(e+=tD(o,i)),e}function UM(t){return t.map(jM).join(",")}function HM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!_n(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var dr={};function $M(t,e){return t.createText(e)}function qM(t,e,n){t.setValue(e,n)}function eC(t,e,n){return t.createElement(e,n)}function vd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function tC(t,e,n){t.appendChild(e,n)}function nD(t,e,n,r,i){r!==null?vd(t,e,n,r,i):tC(t,e,n)}function zM(t,e,n,r){t.removeChild(null,e,n,r)}function GM(t,e,n){t.setAttribute(e,"style",n)}function WM(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function nC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&lM(t,e,r),i!==null&&WM(t,e,i),o!==null&&GM(t,e,o)}function Xm(t,e,n,r,i,o,s,a,c,l,d){let h=Nt+r,p=h+i,m=KM(h,p),v=typeof l=="function"?l():l;return m[ce]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function KM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:dr);return n}function QM(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Xm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function e0(t,e,n,r,i,o,s,a,c,l,d){let h=e.blueprint.slice();return h[mn]=i,h[ae]=r|4|128|8|64|1024,(l!==null||t&&t[ae]&2048)&&(h[ae]|=2048),Xg(h),h[yt]=h[Fi]=t,h[Et]=n,h[sr]=s||t&&t[sr],h[ze]=a||t&&t[ze],h[Wr]=c||t&&t[Wr]||null,h[tn]=o,h[Ga]=CM(),h[za]=d,h[Yg]=l,h[nn]=e.type==2?t[nn]:h,h}function YM(t,e,n){let r=yn(e,t),i=QM(n),o=t[sr].rendererFactory,s=t0(t,e0(t,i,null,rC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function rC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function iC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function t0(t,e){return t[Xo]?t[Qg][en]=e:t[Xo]=e,t[Qg]=e,e}function uc(t=1){oC(zt(),Fe(),$i()+t,!1)}function oC(t,e,n,r){if(!r)if((e[ae]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ud(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ld(e,o,0,n)}Yr(n)}var Rd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Rd||{});function km(t,e,n,r){let i=oe(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Rd.SignalBased)!==0&&(c=e[o][bt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):bD(e,c,o,r)}finally{oe(i)}}var ur=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(ur||{}),ZM;function n0(t,e){return ZM(t,e)}var as=new Set,r0=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(r0||{}),lc=new Y(""),rD=new Set;function Zi(t){rD.has(t)||(rD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var sC=!1,Om=class extends nt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,mw()&&(this.destroyRef=H(ar,{optional:!0})??void 0,this.pendingTasks=H(On,{optional:!0})??void 0)}emit(e){let n=oe(null);try{super.next(e)}finally{oe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof He&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ye=Om;function aC(t){let e,n;function r(){t=nc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function iD(t){return queueMicrotask(()=>t()),()=>{t=nc}}var i0="isAngularZone",yd=i0+"_ID",JM=0,ke=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ye(!1);onMicrotaskEmpty=new Ye(!1);onStable=new Ye(!1);onError=new Ye(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=sC}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(i0)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,XM,nc,nc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},XM={};function o0(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){aC(()=>{t.callbackScheduled=!1,Fm(t),t.isCheckStableRunning=!0,o0(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Fm(t)}function tP(t){let e=()=>{eP(t)},n=JM++;t._inner=t._inner.fork({name:"angular",properties:{[i0]:!0,[yd]:n,[yd+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(nP(c))return r.invokeTask(o,s,a,c);try{return oD(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),sD(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return oD(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rP(c)&&e(),sD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Fm(t),o0(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Fm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function oD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sD(t){t._nesting--,o0(t)}var _d=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ye;onMicrotaskEmpty=new Ye;onStable=new Ye;onError=new Ye;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function nP(t){return cC(t,"__ignore_ng_zone__")}function rP(t){return cC(t,"__scheduler_tick__")}function cC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var uC=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})();var iP=new Y("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function lC(t,e){let n=t.get(iP);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function oP(t,e){for(let[n,r]of e)lC(t,r.animateFns)}function aD(t,e,n,r){let i=t?.[Ka]?.enter;e!==null&&i&&i.has(n.index)&&oP(r,i)}function is(t,e,n,r,i,o,s,a){if(i!=null){let c,l=!1;vn(i)?c=i:Pn(i)&&(l=!0,i=i[mn]);let d=rn(i);t===0&&r!==null?(aD(a,r,o,n),s==null?tC(e,r,d):vd(e,r,d,s||null,!0)):t===1&&r!==null?(aD(a,r,o,n),vd(e,r,d,s||null,!0)):t===2?cD(a,o,n,h=>{zM(e,d,l,h)}):t===3&&cD(a,o,n,()=>{e.destroyNode(d)}),c!=null&&yP(e,t,n,c,o,r,s)}}function sP(t,e){dC(t,e),e[mn]=null,e[tn]=null}function aP(t,e,n,r,i,o){r[mn]=i,r[tn]=e,Nd(t,r,n,1,i,o)}function dC(t,e){e[sr].changeDetectionScheduler?.notify(9),Nd(t,e,e[ze],2,null,null)}function cP(t){let e=t[Xo];if(!e)return _m(t[ce],t);for(;e;){let n=null;if(Pn(e))n=e[Xo];else{let r=e[Mt];r&&(n=r)}if(!n){for(;e&&!e[en]&&e!==t;)Pn(e)&&_m(e[ce],e),e=e[yt];e===null&&(e=t),Pn(e)&&_m(e[ce],e),n=e&&e[en]}e=n}}function s0(t,e){let n=t[Ya],r=n.indexOf(e);n.splice(r,1)}function a0(t,e){if(ji(e))return;let n=e[ze];n.destroyNode&&Nd(t,e,n,3,null,null),cP(e)}function _m(t,e){if(ji(e))return;let n=oe(null);try{e[ae]&=-129,e[ae]|=256,e[qt]&&Ma(e[qt]),dP(t,e),lP(t,e),e[ce].type===1&&e[ze].destroy();let r=e[Li];if(r!==null&&vn(e[yt])){r!==e[yt]&&s0(r,e);let i=e[Bi];i!==null&&i.detachView(t)}Rm(e)}finally{oe(n)}}function cD(t,e,n,r){let i=t?.[Ka];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);t&&as.add(t),lC(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:d}=l();a.push(d)}i.running=Promise.allSettled(a),uP(t,r)}else t&&as.delete(t),r(!1)})}function uP(t,e){let n=t[Ka]?.running;if(n){n.then(()=>{t[Ka].running=void 0,as.delete(t),e(!0)});return}e(!1)}function lP(t,e){let n=t.cleanup,r=e[Jo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Jo]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Wa];if(o!==null){e[Wa]=null;for(let s of o)s.destroy()}}function dP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof zi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Pe(4,a,c);try{c.call(a)}finally{Pe(5,a,c)}}else{Pe(4,i,o);try{o.call(i)}finally{Pe(5,i,o)}}}}}function fP(t,e,n){return hP(t,e.parent,n)}function hP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[mn];if(Qr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===cr.None||i===cr.Emulated)return null}return yn(r,n)}function pP(t,e,n){return mP(t,e,n)}function gP(t,e,n){return t.type&40?yn(t,n):null}var mP=gP,uD;function c0(t,e,n,r){let i=fP(t,r,e),o=e[ze],s=r.parent||e[tn],a=pP(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)nD(o,i,n[c],a,!1);else nD(o,i,n,a,!1);uD!==void 0&&uD(o,r,e,n,i)}function rc(t,e){if(e!==null){let n=e.type;if(n&3)return yn(e,t);if(n&4)return Lm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return rc(t,r);{let i=t[e.index];return vn(i)?Lm(-1,i):rn(i)}}else{if(n&128)return rc(t,e.next);if(n&32)return n0(e,t)()||rn(t[e.index]);{let r=fC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$r(t[nn]);return rc(i,r)}else return rc(t,e.next)}}}return null}function fC(t,e){if(e!==null){let r=t[nn][tn],i=e.projection;return r.projection[i]}return null}function Lm(t,e){let n=Mt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return rc(r,i)}return e[Kr]}function u0(t,e,n,r,i,o,s){for(;n!=null;){let a=r[Wr];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&e===0&&(c&&ss(rn(c),r),n.flags|=2),!Zm(n))if(l&8)u0(t,e,n.child,r,i,o,!1),is(e,t,a,i,c,n,o,r);else if(l&32){let d=n0(n,r),h;for(;h=d();)is(e,t,a,i,h,n,o,r);is(e,t,a,i,c,n,o,r)}else l&16?vP(t,e,r,n,i,o):is(e,t,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Nd(t,e,n,r,i,o){u0(n,r,t.firstChild,e,i,o,!1)}function vP(t,e,n,r,i,o){let s=n[nn],c=s[tn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];is(e,t,n[Wr],i,d,r,o,n)}else{let l=c,d=s[yt];jD(r)&&(l.flags|=128),u0(t,e,l,d,i,o,!0)}}function yP(t,e,n,r,i,o,s){let a=r[Kr],c=rn(r);a!==c&&is(e,t,n,o,a,i,s);for(let l=Mt;l<r.length;l++){let d=r[l];Nd(d[ce],d,t,e,o,a)}}function _P(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ur.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ur.Important),t.setStyle(n,r,i,o))}}function hC(t,e,n,r,i){let o=$i(),s=r&2;try{Yr(-1),s&&e.length>Nt&&oC(t,e,Nt,!1),Pe(s?2:0,i,n),n(r,i)}finally{Yr(o),Pe(s?3:1,i,n)}}function pC(t,e,n){TP(t,e,n),(n.flags&64)===64&&AP(t,e,n)}function gC(t,e,n=yn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function EP(t,e,n,r){let o=r.get(WD,GD)||n===cr.ShadowDom,s=t.selectRootElement(e,o);return IP(s),s}function IP(t){wP(t)}var wP=()=>null;function DP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function CP(t,e,n,r,i,o){let s=e[ce];if(l0(t,s,e,n,r)){Qr(t)&&bP(e,t.index);return}t.type&3&&(n=DP(n)),xP(t,e,n,r,i,o)}function xP(t,e,n,r,i,o){if(t.type&3){let s=yn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function bP(t,e){let n=on(e,t);n[ae]&16||(n[ae]|=64)}function TP(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Qr(n)&&YM(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||gd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=md(e,t,s,n);if(ss(c,e),o!==null&&PP(e,s-r,c,a,n,o),kn(a)){let l=on(n.index,e);l[Et]=md(e,t,s,n)}}}function AP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Vw();try{Yr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];nd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&SP(c,l)}}finally{Yr(-1),nd(s)}}function SP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function RP(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];LM(e,o.selectors,!1)&&(r??=[],kn(o)?r.unshift(o):r.push(o))}return r}function NP(t,e,n,r,i,o){let s=yn(t,e);MP(e[ze],s,o,t.value,n,r,i)}function MP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Gl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function PP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];km(r,n,c,l)}}function kP(t,e,n,r,i){let o=Nt+n,s=e[ce],a=i(s,e,t,r,n);e[o]=a,ns(t,!0);let c=t.type===2;return c?(nC(e[ze],a,t),(xw()===0||Xl(t))&&ss(a,e),bw()):ss(a,e),od()&&(!c||!Zm(t))&&c0(s,e,a,t),t}function OP(t){let e=t;return rm()?Pw():(e=e.parent,ns(e,!1)),e}function FP(t,e){let n=t[Wr];if(!n)return;let r;try{r=n.get(Wt,null)}catch{r=null}r?.(e)}function l0(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],d=s[c+1],h=e.data[l];km(h,n[l],d,i),a=!0}if(o)for(let c of o){let l=n[c],d=e.data[c];km(d,l,r,i),a=!0}return a}function LP(t,e){let n=on(e,t),r=n[ce];VP(r,n);let i=n[mn];i!==null&&n[za]===null&&(n[za]=KD(i,n[Wr])),Pe(18),d0(r,n,n[Et]),Pe(19,n[Et])}function VP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function d0(t,e,n){rd(e);try{let r=t.viewQuery;r!==null&&Mm(1,r,n);let i=t.template;i!==null&&hC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Bi]?.finishViewCreation(t),t.staticContentQueries&&QD(t,e),t.staticViewQueries&&Mm(2,t.viewQuery,n);let o=t.components;o!==null&&BP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ae]&=-5,id()}}function BP(t,e){for(let n=0;n<e.length;n++)LP(t,e[n])}function jP(t,e,n,r){let i=oe(null);try{let o=e.tView,a=t[ae]&4096?4096:16,c=e0(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Li]=l;let d=t[Bi];return d!==null&&(c[Bi]=d.createEmbeddedView(o)),d0(o,c,n),c}finally{oe(i)}}function Vm(t,e){return!e||e.firstChild===null||jD(t)}function sc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(rn(o)),vn(o)&&mC(o,r);let s=n.type;if(s&8)sc(t,e,n.child,r);else if(s&32){let a=n0(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=fC(e,n);if(Array.isArray(a))r.push(...a);else{let c=$r(e[nn]);sc(c[ce],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function mC(t,e){for(let n=Mt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&sc(r[ce],r,i,e)}t[Kr]!==t[mn]&&e.push(t[Kr])}function vC(t){if(t[Jl]!==null){for(let e of t[Jl])e.impl.addSequence(e);t[Jl].length=0}}var yC=[];function UP(t){return t[qt]??HP(t)}function HP(t){let e=yC.pop()??Object.create(qP);return e.lView=t,e}function $P(t){t.lView[qt]!==t&&(t.lView=null,yC.push(t))}var qP=fe(z({},No),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Xa(t.lView)},consumerOnSignalRead(){this.lView[qt]=this}});function zP(t){let e=t[qt]??Object.create(GP);return e.lView=t,e}var GP=fe(z({},No),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=$r(t.lView);for(;e&&!_C(e[ce]);)e=$r(e);e&&em(e)},consumerOnSignalRead(){this.lView[qt]=this}});function _C(t){return t.type!==2}function EC(t){if(t[Wa]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Wa])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ae]&8192)}}var WP=100;function IC(t,e=0){let r=t[sr].rendererFactory,i=!1;i||r.begin?.();try{KP(t,e)}finally{i||r.end?.()}}function KP(t,e){let n=im();try{om(!0),Bm(t,e);let r=0;for(;Ja(t);){if(r===WP)throw new Q(103,!1);r++,Bm(t,1)}}finally{om(n)}}function QP(t,e,n,r){if(ji(e))return;let i=e[ae],o=!1,s=!1;rd(e);let a=!0,c=null,l=null;o||(_C(t)?(l=UP(e),c=Po(l)):dl()===null?(a=!1,l=zP(e),c=Po(l)):e[qt]&&(Ma(e[qt]),e[qt]=null));try{Xg(e),kw(t.bindingStartIndex),n!==null&&hC(t,e,n,2,r);let d=(i&3)===3;if(!o)if(d){let m=t.preOrderCheckHooks;m!==null&&ud(e,m,null)}else{let m=t.preOrderHooks;m!==null&&ld(e,m,0,null),vm(e,0)}if(s||YP(e),EC(e),wC(e,0),t.contentQueries!==null&&QD(t,e),!o)if(d){let m=t.contentCheckHooks;m!==null&&ud(e,m)}else{let m=t.contentHooks;m!==null&&ld(e,m,1),vm(e,1)}JP(t,e);let h=t.components;h!==null&&CC(e,h,0);let p=t.viewQuery;if(p!==null&&Mm(2,p,r),!o)if(d){let m=t.viewCheckHooks;m!==null&&ud(e,m)}else{let m=t.viewHooks;m!==null&&ld(e,m,2),vm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zl]){for(let m of e[Zl])m();e[Zl]=null}o||(vC(e),e[ae]&=-73)}catch(d){throw o||Xa(e),d}finally{l!==null&&(Ra(l,c),a&&$P(l)),id()}}function wC(t,e){for(let n=HD(t);n!==null;n=$D(n))for(let r=Mt;r<n.length;r++){let i=n[r];DC(i,e)}}function YP(t){for(let e=HD(t);e!==null;e=$D(e)){if(!(e[ae]&2))continue;let n=e[Ya];for(let r=0;r<n.length;r++){let i=n[r];em(i)}}}function ZP(t,e,n){Pe(18);let r=on(e,t);DC(r,n),Pe(19,r[Et])}function DC(t,e){ed(t)&&Bm(t,e)}function Bm(t,e){let r=t[ce],i=t[ae],o=t[qt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Na(o)),s||=!1,o&&(o.dirty=!1),t[ae]&=-9217,s)QP(r,t,r.template,t[Et]);else if(i&8192){let a=oe(null);try{EC(t),wC(t,1);let c=r.components;c!==null&&CC(t,c,1),vC(t)}finally{oe(a)}}}function CC(t,e,n){for(let r=0;r<e.length;r++)ZP(t,e[r],n)}function JP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Yr(~i);else{let o=i,s=n[++r],a=n[++r];Lw(s,o);let c=e[o];Pe(24,c),a(2,c),Pe(25,c)}}}finally{Yr(-1)}}function f0(t,e){let n=im()?64:1088;for(t[sr].changeDetectionScheduler?.notify(e);t;){t[ae]|=n;let r=$r(t);if(es(t)&&!r)return t;t=r}return null}function xC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function XP(t,e){let n=Mt+e;if(n<t.length)return t[n]}function bC(t,e,n,r=!0){let i=e[ce];if(tk(i,e,t,n),r){let s=Lm(n,t),a=e[ze],c=a.parentNode(t[Kr]);c!==null&&aP(i,t[tn],a,e,c,s)}let o=e[za];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ek(t,e){let n=Ed(t,e);return n!==void 0&&a0(n[ce],n),n}function Ed(t,e){if(t.length<=Mt)return;let n=Mt+e,r=t[n];if(r){let i=r[Li];i!==null&&i!==t&&s0(i,r),e>0&&(t[n-1][en]=r[en]);let o=Ha(t,Mt+e);sP(r[ce],r);let s=o[Bi];s!==null&&s.detachView(o[ce]),r[yt]=null,r[en]=null,r[ae]&=-129}return r}function tk(t,e,n,r){let i=Mt+r,o=n.length;r>0&&(n[i-1][en]=e),r<o-Mt?(e[en]=n[i],Ug(n,Mt+r,e)):(n.push(e),e[en]=null),e[yt]=n;let s=e[Li];s!==null&&n!==s&&TC(s,e);let a=e[Bi];a!==null&&a.insertView(t),td(e),e[ae]|=128}function TC(t,e){let n=t[Ya],r=e[yt];if(Pn(r))t[ae]|=2;else{let i=r[yt][nn];e[nn]!==i&&(t[ae]|=2)}n===null?t[Ya]=[e]:n.push(e)}var Gi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[ce];return sc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Et]}set context(e){this._lView[Et]=e}get destroyed(){return ji(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yt];if(vn(e)){let n=e[Qa],r=n?n.indexOf(this):-1;r>-1&&(Ed(e,r),Ha(n,r))}this._attachedToViewContainer=!1}a0(this._lView[ce],this._lView)}onDestroy(e){tm(this._lView,e)}markForCheck(){f0(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){td(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,IC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=es(this._lView),n=this._lView[Li];n!==null&&!e&&s0(n,this._lView),dC(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=es(this._lView),r=this._lView[Li];r!==null&&!n&&TC(r,this._lView),td(this._lView)}};function h0(t,e,n,r,i){let o=t.data[e];if(o===null)o=nk(t,e,n,r,i),Fw()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Mw();o.injectorIndex=s===null?-1:s.injectorIndex}return ns(o,!0),o}function nk(t,e,n,r,i){let o=nm(),s=rm(),a=s?o:o&&o.parent,c=t.data[e]=ik(t,a,n,e,r,i);return rk(t,c,o,s),c}function rk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function ik(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Sw()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var oq=new RegExp(`^(\\d+)*(${AM}|${TM})*(.*)`);var ok=()=>null,sk=()=>null;function lD(t,e){return ok(t,e)}function ak(t,e,n){return sk(t,e,n)}var AC=class{},Md=class{},jm=class{resolveComponentFactory(e){throw new Q(917,!1)}},dc=class{static NULL=new jm},Wi=class{},fc=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>ck()}return t})();function ck(){let t=Fe(),e=Gt(),n=on(e.index,t);return(Pn(n)?n:t)[ze]}var SC=(()=>{class t{static \u0275prov=X({token:t,providedIn:"root",factory:()=>null})}return t})();var dd={},Um=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,dd,r);return i!==dd||n===dd?i:this.parentInjector.get(e,n,r)}};function dD(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ng(i,a);else if(o==2){let c=a,l=e[++s];r=Ng(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ve(t,e=0){let n=Fe();if(n===null)return he(t,e);let r=Gt();return LD(r,n,vt(t),e)}function uk(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,l=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,l]=d.resolveHostDirectives(s);break}fk(t,e,n,a,o,c,l)}o!==null&&r!==null&&lk(n,r,o)}function lk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}function dk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function fk(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let m=r[p];!c&&kn(m)&&(c=!0,dk(t,n,p)),Am(gd(n,e),t,m.type)}yk(n,t.data.length,a);for(let p=0;p<a;p++){let m=r[p];m.providersResolver&&m.providersResolver(m)}let l=!1,d=!1,h=iC(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let m=r[p];if(n.mergedAttrs=oc(n.mergedAttrs,m.hostAttrs),pk(t,n,e,h,m),vk(h,m,i),s!==null&&s.has(m)){let[T,b]=s.get(m);n.directiveToIndex.set(m.type,[h,T+n.directiveStart,b+n.directiveStart])}else(o===null||!o.has(m))&&n.directiveToIndex.set(m.type,h);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let v=m.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!d&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}hk(t,n,o)}function hk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))fD(0,e,i,r),fD(1,e,i,r),pD(e,r,!1);else{let o=n.get(i);hD(0,e,o,r),hD(1,e,o,r),pD(e,r,!0)}}}function fD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),RC(e,o)}}function hD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),RC(e,s)}}function RC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function pD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Jm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){s??=[],s.push(l[d+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function pk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Mi(i.type,!0)),s=new zi(o,kn(i),Ve,null);t.blueprint[r]=s,n[r]=s,gk(t,e,r,iC(t,n,i.hostVars,dr),i)}function gk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;mk(s)!=a&&s.push(a),s.push(n,r,o)}}function mk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function vk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kn(e)&&(n[""]=t)}}function yk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function NC(t,e,n,r,i,o,s,a){let c=e[ce],l=c.consts,d=ts(l,s),h=h0(c,t,n,r,d);return o&&uk(c,e,h,ts(l,a),i),h.mergedAttrs=oc(h.mergedAttrs,h.attrs),h.attrs!==null&&dD(h,h.attrs,!1),h.mergedAttrs!==null&&dD(h,h.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,h),h}function MC(t,e){sM(t,e),Zg(e)&&t.queries.elementEnd(e)}function hc(t,e,n){if(n===dr)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Em(t,e,n){return function r(i){let o=Qr(t)?on(t.index,e):e;f0(o,5);let s=e[Et],a=gD(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=gD(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function gD(t,e,n,r){let i=oe(null);try{return Pe(6,e,n),n(r)!==!1}catch(o){return FP(t,o),!1}finally{Pe(7,e,n),oe(i)}}function _k(t,e,n,r,i,o,s,a){let c=Xl(t),l=!1,d=null;if(!r&&c&&(d=Ik(e,n,o,t.index)),d!==null){let h=d.__ngLastListenerFn__||d;h.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,l=!0}else{let h=yn(t,n),p=r?r(h):h;RM(n,p,o,a);let m=i.listen(p,o,a);if(!Ek(o)){let v=r?T=>r(rn(T[t.index])):t.index;PC(v,e,n,o,a,m,!1)}}return l}function Ek(t){return t.startsWith("animation")||t.startsWith("transition")}function Ik(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Jo],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function PC(t,e,n,r,i,o,s){let a=e.firstCreatePass?Cw(e):null,c=Dw(n),l=c.length;c.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function mD(t,e,n,r,i,o){let s=e[n],a=e[ce],l=a.data[n].outputs[r],h=s[l].subscribe(o);PC(t.index,a,e,i,o,h,!0)}var Hm=Symbol("BINDING");var Id=class extends dc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gr(e);return new cs(n,this.ngModule)}};function wk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Rd.SignalBased)!==0};return i&&(o.transform=i),o})}function Dk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Ck(t,e,n){let r=e instanceof it?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Um(n,r):n}function xk(t){let e=t.get(Wi,null);if(e===null)throw new Q(407,!1);let n=t.get(SC,null),r=t.get(qr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function bk(t,e){let n=kC(t);return eC(e,n,n==="svg"?yw:n==="math"?_w:null)}function kC(t){return(t.selectors[0][0]||"div").toLowerCase()}var cs=class extends Md{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=wk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Dk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=UM(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Pe(22);let a=oe(null);try{let c=this.componentDef,l=Tk(r,c,s,o),d=Ck(c,i||this.ngModule,e),h=xk(d),p=h.rendererFactory.createRenderer(null,c),m=r?EP(p,r,c.encapsulation,d):bk(c,p),v=s?.some(vD)||o?.some(E=>typeof E!="function"&&E.bindings.some(vD)),T=e0(null,l,null,512|rC(c),null,null,h,p,d,null,KD(m,d,!0));T[Nt]=m,rd(T);let b=null;try{let E=NC(Nt,T,2,"#host",()=>l.directiveRegistry,!0,0);nC(p,m,E),ss(m,T),pC(l,T,E),YD(l,E,T),MC(l,E),n!==void 0&&Sk(E,this.ngContentSelectors,n),b=on(E.index,T),T[Et]=b[Et],d0(l,T,null)}catch(E){throw b!==null&&Rm(b),Rm(T),E}finally{Pe(23),id()}return new wd(this.componentType,T,!!v)}finally{oe(a)}}};function Tk(t,e,n,r){let i=t?["ng-version","20.3.9"]:HM(e.selectors[0]),o=null,s=null,a=0;if(n)for(let d of n)a+=d[Hm].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let h=r[d];if(typeof h!="function")for(let p of h.bindings){a+=p[Hm].requiredVars;let m=d+1;p.create&&(p.targetIdx=m,(o??=[]).push(p)),p.update&&(p.targetIdx=m,(s??=[]).push(p))}}let c=[e];if(r)for(let d of r){let h=typeof d=="function"?d:d.type,p=zg(h);c.push(p)}return Xm(0,null,Ak(o,s),1,a,c,null,null,null,[i],null)}function Ak(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function vD(t){let e=t[Hm].kind;return e==="input"||e==="twoWay"}var wd=class extends AC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Za(n[ce],Nt),this.location=Km(this._tNode,n),this.instance=on(this._tNode.index,n)[Et],this.hostView=this.changeDetectorRef=new Gi(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=l0(r,i[ce],i,e,n);this.previousInputValues.set(e,n);let s=on(r.index,i);f0(s,1)}get injector(){return new qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Sk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var pc=(()=>{class t{static __NG_ELEMENT_ID__=Rk}return t})();function Rk(){let t=Gt();return Mk(t,Fe())}var Nk=pc,OC=class extends Nk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Km(this._hostTNode,this._hostLView)}get injector(){return new qi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Wm(this._hostTNode,this._hostLView);if(ND(e)){let n=pd(e,this._hostLView),r=hd(e),i=n[ce].data[r+8];return new qi(i,n)}else return new qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=yD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=lD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Vm(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!tM(e),l;if(c)l=n;else{let b=n||{};l=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef,s=b.directives,a=b.bindings}let d=c?e:new cs(Gr(e)),h=r||this.parentInjector;if(!o&&d.ngModule==null){let E=(c?h:this.parentInjector).get(it,null);E&&(o=E)}let p=Gr(d.componentType??{}),m=lD(this._lContainer,p?.id??null),v=m?.firstChild??null,T=d.create(h,i,v,o,s,a);return this.insertImpl(T.hostView,l,Vm(this._hostTNode,m)),T}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Ew(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[yt],l=new OC(c,c[tn],c[yt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return bC(s,i,o,r),e.attachToViewContainerRef(),Ug(Im(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=yD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ed(this._lContainer,n);r&&(Ha(Im(this._lContainer),n),a0(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ed(this._lContainer,n);return r&&Ha(Im(this._lContainer),n)!=null?new Gi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function yD(t){return t[Qa]}function Im(t){return t[Qa]||(t[Qa]=[])}function Mk(t,e){let n,r=e[t.index];return vn(r)?n=r:(n=xC(r,e,null,t),e[t.index]=n,t0(e,n)),kk(n,e,t,r),new OC(n,t,e)}function Pk(t,e){let n=t[ze],r=n.createComment(""),i=yn(e,t),o=n.parentNode(i);return vd(n,o,r,n.nextSibling(i),!1),r}var kk=Lk,Ok=()=>!1;function Fk(t,e,n){return Ok(t,e,n)}function Lk(t,e,n,r){if(t[Kr])return;let i;n.type&8?i=rn(r):i=Pk(e,n),t[Kr]=i}var us=class{},Pd=class{};var Dd=class extends us{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Id(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=qg(e);this._bootstrapComponents=JD(o.bootstrap),this._r3Injector=lm(e,n,[{provide:us,useValue:this},{provide:dc,useValue:this.componentFactoryResolver},...r],nr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Cd=class extends Pd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Dd(this.moduleType,e,[])}};var ac=class extends us{injector;componentFactoryResolver=new Id(this);instance=null;constructor(e){super();let n=new ki([...e.providers,{provide:us,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],e.parent||qa(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gc(t,e,n=null){return new ac({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Vk=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Gg(!1,n.type),i=r.length>0?gc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=X({token:t,providedIn:"environment",factory:()=>new t(he(it))})}return t})();function mc(t){return ds(()=>{let e=FC(t),n=fe(z({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Qm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Vk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cr.Emulated,styles:t.styles||$t,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Zi("NgStandalone"),LC(n);let r=t.dependencies;return n.directiveDefs=_D(r,Bk),n.pipeDefs=_D(r,dw),n.id=Hk(n),n})}function Bk(t){return Gr(t)||zg(t)}function Jr(t){return ds(()=>({type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jk(t,e){if(t==null)return zr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Rd.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function Uk(t){if(t==null)return zr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Pt(t){return ds(()=>{let e=FC(t);return LC(e),e})}function FC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||zr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:jk(t.inputs,e),outputs:Uk(t.outputs),debugInfo:null}}function LC(t){t.features?.forEach(e=>e(t))}function _D(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function Hk(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function $k(t){return Object.getPrototypeOf(t.prototype).constructor}function Ln(t){let e=$k(t.type),n=!0,r=[t];for(;e;){let i;if(kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=wm(t.inputs),s.declaredInputs=wm(t.declaredInputs),s.outputs=wm(t.outputs);let a=i.hostBindings;a&&Kk(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Gk(t,c),l&&Wk(t,l),qk(t,i),rw(t.outputs,i.outputs),kn(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ln&&(n=!1)}}e=Object.getPrototypeOf(e)}zk(r)}function qk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function zk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=oc(i.hostAttrs,n=oc(n,i.hostAttrs))}}function wm(t){return t===zr?{}:t===$t?[]:t}function Gk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Wk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Kk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Qk(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=oc(t.mergedAttrs,t.attrs);let d=t.tView=Xm(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),ns(t,!1);let c=Yk(n,e,t,r);od()&&c0(n,e,c,t),ss(c,e);let l=xC(c,e,c,t);e[r+Nt]=l,t0(e,l),Fk(l,t,e)}function VC(t,e,n,r,i,o,s,a,c,l,d){let h=n+Nt,p;if(e.firstCreatePass){if(p=h0(e,h,4,s||null,a||null),l!=null){let m=ts(e.consts,l);p.localNames=[];for(let v=0;v<m.length;v+=2)p.localNames.push(m[v],-1)}}else p=e.data[h];return Qk(p,t,e,n,r,i,o,c),l!=null&&gC(t,p,d),p}var Yk=Zk;function Zk(t,e,n,r){return sd(!0),e[ze].createComment("")}var p0=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var g0=new Y("");function Ji(t){return!!t&&typeof t.then=="function"}function BC(t){return!!t&&typeof t.subscribe=="function"}var jC=new Y("");var m0=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=H(jC,{optional:!0})??[];injector=H(_t);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=ot(this.injector,i);if(Ji(o))n.push(o);else if(BC(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kd=new Y("");function UC(){Yp(()=>{let t="";throw new Q(600,t)})}function HC(t){return t.isBoundToModule}var Jk=10;var Xr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=H(Wt);afterRenderManager=H(uC);zonelessEnabled=H(tc);rootEffectScheduler=H(mm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new nt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=H(On);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ee(n=>!n))}constructor(){H(lc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=H(it);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=_t.NULL){return this._injector.get(ke).run(()=>{Pe(10);let s=n instanceof Md;if(!this._injector.get(m0).done){let v="";throw new Q(405,v)}let c;s?c=n:c=this._injector.get(dc).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=HC(c)?void 0:this._injector.get(us),d=r||c.selector,h=c.create(i,[],d,l),p=h.location.nativeElement,m=h.injector.get(g0,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),ic(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),Pe(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Pe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(r0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Q(101,!1);let n=oe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,oe(n),this.afterTick.next(),Pe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Wi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Jk;)Pe(14),this.synchronizeOnce(),Pe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ja(i))continue;let o=r&&!this.zonelessEnabled?0:1;IC(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ja(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ic(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(kd,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ic(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ic(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Od(t,e,n,r){let i=Fe(),o=ec();if(hc(i,o,e)){let s=zt(),a=um();NP(a,i,t,e,n,r)}return Od}var fq=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function v0(t,e,n,r,i,o,s,a){Zi("NgControlFlow");let c=Fe(),l=zt(),d=ts(l.consts,o);return VC(c,l,t,e,n,r,i,d,256,s,a),y0}function y0(t,e,n,r,i,o,s,a){Zi("NgControlFlow");let c=Fe(),l=zt(),d=ts(l.consts,o);return VC(c,l,t,e,n,r,i,d,512,s,a),y0}function _0(t,e){Zi("NgControlFlow");let n=Fe(),r=ec(),i=n[r]!==dr?n[r]:-1,o=i!==-1?ED(n,Nt+i):void 0,s=0;if(hc(n,r,t)){let a=oe(null);try{if(o!==void 0&&ek(o,s),t!==-1){let c=Nt+t,l=ED(n,c),d=Xk(n[ce],c),h=ak(l,d,n),p=jP(n,d,e,{dehydratedView:h});bC(l,p,s,Vm(d,h))}}finally{oe(a)}}else if(o!==void 0){let a=XP(o,s);a!==void 0&&(a[Et]=e)}}function ED(t,e){return t[e]}function Xk(t,e){return Za(t,e)}function ID(t,e,n,r,i){l0(e,t,n,i?"class":"style",r)}function En(t,e,n,r){let i=Fe(),o=i[ce],s=t+Nt,a=o.firstCreatePass?NC(s,i,2,e,RP,Aw(),n,r):o.data[s];if(kP(a,i,t,e,eO),Xl(a)){let c=i[ce];pC(c,i,a),YD(c,a,i)}return r!=null&&gC(i,a),En}function Vn(){let t=zt(),e=Gt(),n=OP(e);return t.firstCreatePass&&MC(t,n),Rw(n)&&Nw(),Tw(),n.classesWithoutHost!=null&&cM(n)&&ID(t,n,Fe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&uM(n)&&ID(t,n,Fe(),n.stylesWithoutHost,!1),Vn}function hs(t,e,n,r){return En(t,e,n,r),Vn(),hs}var eO=(t,e,n,r,i)=>(sd(!0),eC(e[ze],r,qw()));function Fd(){return Fe()}var vc="en-US";var tO=vc;function $C(t){typeof t=="string"&&(tO=t.toLowerCase().replace(/_/g,"-"))}function fr(t,e,n){let r=Fe(),i=zt(),o=Gt();return qC(i,r,r[ze],o,t,e,n),fr}function qC(t,e,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Em(r,e,o),_k(r,t,e,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let h=0;h<d.length;h+=2){let p=d[h],m=d[h+1];c??=Em(r,e,o),mD(r,e,p,m,i,c)}if(l&&l.length)for(let h of l)c??=Em(r,e,o),mD(r,e,h,i,i,c)}}function ei(t=1){return $w(t)}function cd(t,e){return t<<17|e<<2}function Ki(t){return t>>17&32767}function nO(t){return(t&2)==2}function rO(t,e){return t&131071|e<<17}function $m(t){return t|2}function ls(t){return(t&131068)>>2}function Dm(t,e){return t&-131069|e<<2}function iO(t){return(t&1)===1}function qm(t){return t|1}function oO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ki(s),c=ls(s);t[r]=n;let l=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||Zo(h,d)>0)&&(l=!0)}else d=n;if(i)if(c!==0){let p=Ki(t[a+1]);t[r+1]=cd(p,a),p!==0&&(t[p+1]=Dm(t[p+1],r)),t[a+1]=rO(t[a+1],r)}else t[r+1]=cd(a,0),a!==0&&(t[a+1]=Dm(t[a+1],r)),a=r;else t[r+1]=cd(c,0),a===0?a=r:t[c+1]=Dm(t[c+1],r),c=r;l&&(t[r+1]=$m(t[r+1])),wD(t,d,r,!0),wD(t,d,r,!1),sO(e,d,t,r,o),s=cd(a,c),o?e.classBindings=s:e.styleBindings=s}function sO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Zo(o,e)>=0&&(n[r+1]=qm(n[r+1]))}function wD(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ki(i):ls(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];aO(c,e)&&(a=!0,t[s+1]=r?qm(l):$m(l)),s=r?Ki(l):ls(l)}a&&(t[n+1]=r?$m(i):qm(i))}function aO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zo(t,e)>=0:!1}function yc(t,e){return cO(t,e,null,!0),yc}function cO(t,e,n,r){let i=Fe(),o=zt(),s=Ow(2);if(o.firstUpdatePass&&lO(o,t,s,r),e!==dr&&hc(i,s,e)){let a=o.data[$i()];gO(o,a,i,i[ze],t,i[s+1]=mO(e,n),r,s)}}function uO(t,e){return e>=t.expandoStartIndex}function lO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[$i()],s=uO(t,n);vO(o,r)&&e===null&&!s&&(e=!1),e=dO(i,o,e,r),oO(i,o,e,n,s,r)}}function dO(t,e,n,r){let i=Bw(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Cm(null,t,e,n,r),n=cc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Cm(i,t,e,n,r),o===null){let c=fO(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Cm(null,t,e,c[1],r),c=cc(c,e.attrs,r),hO(t,e,r,c))}else o=pO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function fO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ls(r)!==0)return t[Ki(r)]}function hO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ki(i)]=r}function pO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=cc(r,s,n)}return cc(r,e.attrs,n)}function Cm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=cc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function cc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),lw(t,s,n?!0:e[++o]))}return t===void 0?null:t}function gO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],d=iO(l)?DD(c,e,n,i,ls(l),s):void 0;if(!xd(d)){xd(o)||nO(l)&&(o=DD(c,null,n,i,a,s));let h=Jg($i(),n);_P(r,s,h,i,o)}}function DD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),d=l?c[1]:c,h=d===null,p=n[i+1];p===dr&&(p=h?$t:void 0);let m=h?Ql(p,r):d===r?p:void 0;if(l&&!xd(m)&&(m=Ql(c,r)),xd(m)&&(a=m,s))return a;let v=t[i+1];i=s?Ki(v):ls(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ql(c,r))}return a}function xd(t){return t!==void 0}function mO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=nr(ZD(t)))),t}function vO(t,e){return(t.flags&(e?8:16))!==0}function ps(t,e=""){let n=Fe(),r=zt(),i=t+Nt,o=r.firstCreatePass?h0(r,i,1,e,null):r.data[i],s=yO(r,n,o,e,t);n[i]=s,od()&&c0(r,n,s,o),ns(o,!1)}var yO=(t,e,n,r,i)=>(sd(!0),$M(e[ze],r));function _O(t,e,n,r=""){return hc(t,ec(),n)?e+Gl(n)+r:dr}function Ld(t,e,n){let r=Fe(),i=_O(r,t,e,n);return i!==dr&&EO(r,$i(),i),Ld}function EO(t,e,n){let r=Jg(e,t);qM(t[ze],r,n)}function _c(t,e,n){hm(e)&&(e=e());let r=Fe(),i=ec();if(hc(r,i,e)){let o=zt(),s=um();CP(s,r,t,e,r[ze],n)}return _c}function Vd(t,e){let n=hm(t);return n&&t.set(e),n}function Ec(t,e){let n=Fe(),r=zt(),i=Gt();return qC(r,n,n[ze],i,t,e),Ec}function IO(t,e,n){let r=zt();if(r.firstCreatePass){let i=kn(t);zm(n,r.data,r.blueprint,i,!0),zm(e,r.data,r.blueprint,i,!1)}}function zm(t,e,n,r,i){if(t=vt(t),Array.isArray(t))for(let o=0;o<t.length;o++)zm(t[o],e,n,r,i);else{let o=zt(),s=Fe(),a=Gt(),c=Pi(t)?t:vt(t.provide),l=Kg(t),d=a.providerIndexes&1048575,h=a.directiveStart,p=a.providerIndexes>>20;if(Pi(t)||!t.multi){let m=new zi(l,i,Ve,null),v=bm(c,e,i?d:d+p,h);v===-1?(Am(gd(a,s),o,c),xm(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[v]=m,s[v]=m)}else{let m=bm(c,e,d+p,h),v=bm(c,e,d,d+p),T=m>=0&&n[m],b=v>=0&&n[v];if(i&&!b||!i&&!T){Am(gd(a,s),o,c);let E=CO(i?DO:wO,n.length,i,r,l,t);!i&&b&&(n[v].providerFactory=E),xm(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)}else{let E=zC(n[i?v:m],l,!i&&r);xm(o,t,m>-1?m:v,E)}!i&&r&&b&&n[v].componentProviders++}}}function xm(t,e,n,r){let i=Pi(e),o=gw(e);if(i||o){let c=(o?vt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function zC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function bm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wO(t,e,n,r,i){return Gm(this.multi,[])}function DO(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=md(r,r[ce],this.providerFactory.index,i);s=c.slice(0,a),Gm(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Gm(o,s);return s}function Gm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function CO(t,e,n,r,i,o){let s=new zi(t,n,Ve,null);return s.multi=[],s.index=e,s.componentProviders=0,zC(s,i,r&&!n),s}function gs(t,e=[]){return n=>{n.providersResolver=(r,i)=>IO(r,i?i(t):t,e)}}var bd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},E0=(()=>{class t{compileModuleSync(n){return new Cd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=qg(n),o=JD(i.declarations).reduce((s,a)=>{let c=Gr(a);return c&&s.push(new cs(c)),s},[]);return new bd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xO=(()=>{class t{zone=H(ke);changeDetectionScheduler=H(qr);applicationRef=H(Xr);applicationErrorHandler=H(Wt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GC=new Y("",{factory:()=>!1});function I0({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ke(fe(z({},D0()),{scheduleInRootZone:n})),[{provide:ke,useFactory:t},{provide:or,multi:!0,useFactory:()=>{let r=H(xO,{optional:!0});return()=>r.initialize()}},{provide:or,multi:!0,useFactory:()=>{let r=H(bO);return()=>{r.initialize()}}},e===!0?{provide:pm,useValue:!0}:[],{provide:gm,useValue:n??sC},{provide:Wt,useFactory:()=>{let r=H(ke),i=H(it),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Mn),o.handleError(s))})}}}]}function w0(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=I0({ngZoneFactory:()=>{let i=D0(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Zi("NgZone_CoalesceEvent"),new ke(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return gn([{provide:GC,useValue:!0},{provide:tc,useValue:!1},r])}function D0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var bO=(()=>{class t{subscription=new He;initialized=!1;zone=H(ke);pendingTasks=H(On);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var WC=(()=>{class t{applicationErrorHandler=H(Wt);appRef=H(Xr);taskService=H(On);ngZone=H(ke);zonelessEnabled=H(tc);tracing=H(lc,{optional:!0});disableScheduling=H(pm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new He;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(H(gm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _d||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?iD:aC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,iD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TO(){return typeof $localize<"u"&&$localize.locale||vc}var C0=new Y("",{providedIn:"root",factory:()=>H(C0,{optional:!0,skipSelf:!0})||TO()});function Tt(t){return ew(t)}function ms(t,e){return gl(t,e?.equal)}var KC=class{[bt];constructor(e){this[bt]=e}destroy(){this[bt].destroy()}};var ZC=Symbol("InputSignalNode#UNSET"),jO=fe(z({},ml),{transformFn:void 0,applyValueToInputSignal(t,e){Oo(t,e)}});function JC(t,e){let n=Object.create(jO);n.value=t,n.transformFn=e?.transform;function r(){if(Mo(n),n.value===ZC){let i=null;throw new Q(-950,i)}return n.value}return r[bt]=n,r}var UO=new Y("");UO.__NG_ELEMENT_ID__=t=>{let e=Gt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new Q(204,!1)};function QC(t,e){return JC(t,e)}function HO(t){return JC(ZC,t)}var XC=(QC.required=HO,QC);var x0=new Y(""),$O=new Y("");function Ic(t){return!t.moduleRef}function qO(t){let e=Ic(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ke);return n.run(()=>{Ic(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Wt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ic(t)){let o=()=>e.destroy(),s=t.platformInjector.get(x0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(x0);s.add(o),t.moduleRef.onDestroy(()=>{ic(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return GO(r,n,()=>{let o=e.get(On),s=o.add(),a=e.get(m0);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(C0,vc);if($C(c||vc),!e.get($O,!0))return Ic(t)?e.get(Xr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ic(t)){let d=e.get(Xr);return t.rootComponent!==void 0&&d.bootstrap(t.rootComponent),d}else return zO?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var zO;function GO(t,e,n){try{let r=n();return Ji(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Bd=null;function WO(t=[],e){return _t.create({name:e,providers:[{provide:$a,useValue:"platform"},{provide:x0,useValue:new Set([()=>Bd=null])},...t]})}function KO(t=[]){if(Bd)return Bd;let e=WO(t);return Bd=e,UC(),QO(e),e}function QO(t){let e=t.get(Ad,null);ot(t,()=>{e?.forEach(n=>n())})}function b0(){return!1}var wc=(()=>{class t{static __NG_ELEMENT_ID__=YO}return t})();function YO(t){return ZO(Gt(),Fe(),(t&16)===16)}function ZO(t,e,n){if(Qr(t)&&!n){let r=on(t.index,e);return new Gi(r,r)}else if(t.type&175){let r=e[nn];return new Gi(r,e)}return null}function ex(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Pe(8);try{let o=i?.injector??KO(r),s=[I0({}),{provide:qr,useExisting:WC},Gw,...n||[]],a=new ac({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return qO({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Pe(9)}}function jd(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var rx=null;function sn(){return rx}function T0(t){rx??=t}var Dc=class{},A0=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>H(ix),providedIn:"platform"})}return t})();var ix=(()=>{class t extends A0{_location;_history;_doc=H(lt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sn().getBaseHref(this._doc)}onPopState(n){let r=sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ox(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function tx(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ti(t){return t&&t[0]!=="?"?`?${t}`:t}var Ud=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>H(ax),providedIn:"root"})}return t})(),sx=new Y(""),ax=(()=>{class t extends Ud{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??H(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ox(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(he(A0),he(sx,8))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vs=(()=>{class t{_subject=new nt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=eF(tx(nx(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ti(r))}normalize(n){return t.stripTrailingSlash(XO(this._basePath,nx(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ti;static joinWithSlash=ox;static stripTrailingSlash=tx;static \u0275fac=function(r){return new(r||t)(he(Ud))};static \u0275prov=X({token:t,factory:()=>JO(),providedIn:"root"})}return t})();function JO(){return new vs(he(Ud))}function XO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function nx(t){return t.replace(/\/index.html$/,"")}function eF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Hd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jr({type:t});static \u0275inj=ir({})}return t})();function S0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Cc=class{};var cx="browser";var xc=class{_doc;constructor(e){this._doc=e}manager},$d=(()=>{class t extends xc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(he(lt))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),zd=new Y(""),k0=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof $d));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof $d);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(he(zd),he(ke))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),R0="ng-app-id";function ux(t){for(let e of t)e.remove()}function lx(t,e){let n=e.createElement("style");return n.textContent=t,n}function nF(t,e,n,r){let i=t.head?.querySelectorAll(`style[${R0}="${e}"],link[${R0}="${e}"]`);if(i)for(let o of i)o.removeAttribute(R0),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function M0(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var O0=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,nF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,lx);r?.forEach(i=>this.addUsage(i,this.external,M0))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(ux(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ux(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,lx(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,M0(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(he(lt),he(Td),he(Sd,8),he(Zr))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),N0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},F0=/%COMP%/g;var fx="%COMP%",rF=`_nghost-${fx}`,iF=`_ngcontent-${fx}`,oF=!0,sF=new Y("",{providedIn:"root",factory:()=>oF});function aF(t){return iF.replace(F0,t)}function cF(t){return rF.replace(F0,t)}function hx(t,e){return e.map(n=>n.replace(F0,t))}var L0=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new bc(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof qd?i.applyToHost(n):i instanceof Tc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case cr.Emulated:o=new qd(c,l,r,this.appId,d,s,a,h,p);break;case cr.ShadowDom:return new P0(c,l,n,r,s,a,this.nonce,h,p);default:o=new Tc(c,l,r,d,s,a,h,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(he(k0),he(O0),he(Td),he(sF),he(lt),he(Zr),he(ke),he(Sd),he(lc,8))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),bc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(N0[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(dx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(dx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=N0[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=N0[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ur.DashCase|ur.Important)?e.style.setProperty(n,r,i&ur.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ur.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=sn().getGlobalEventTarget(this.doc,e),!e))throw new Q(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function dx(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var P0=class extends bc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=hx(i.id,d);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}let h=i.getExternalStyles?.();if(h)for(let p of h){let m=M0(p,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Tc=class extends bc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=l?hx(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&as.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},qd=class extends Tc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,l){let d=i+"-"+r.id;super(e,n,r,o,s,a,c,l,d),this.contentAttr=aF(d),this.hostAttr=cF(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Gd=class t extends Dc{supportsDOMEvents=!0;static makeCurrent(){T0(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=uF();return n==null?null:lF(n)}resetBaseElement(){Ac=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return S0(document.cookie,e)}},Ac=null;function uF(){return Ac=Ac||document.head.querySelector("base"),Ac?Ac.getAttribute("href"):null}function lF(t){return new URL(t,document.baseURI).pathname}var dF=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),px=["alt","control","meta","shift"],fF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},gx=(()=>{class t extends xc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),px.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=fF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),px.forEach(s=>{if(s!==i){let a=hF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(he(lt))};static \u0275prov=X({token:t,factory:t.\u0275fac})}return t})();function V0(t,e,n){let r=z({rootComponent:t,platformRef:n?.platformRef},pF(e));return ex(r)}function pF(t){return{appProviders:[..._F,...t?.providers??[]],platformProviders:yF}}function gF(){Gd.makeCurrent()}function mF(){return new Mn}function vF(){return Ym(document),document}var yF=[{provide:Zr,useValue:cx},{provide:Ad,useValue:gF,multi:!0},{provide:lt,useFactory:vF}];var _F=[{provide:$a,useValue:"root"},{provide:Mn,useFactory:mF},{provide:zd,useClass:$d,multi:!0,deps:[lt]},{provide:zd,useClass:gx,multi:!0,deps:[lt]},L0,O0,k0,{provide:Wi,useExisting:L0},{provide:Cc,useClass:dF},[]];var mx=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(he(lt))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ie="primary",$c=Symbol("RouteTitle"),$0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function to(t){return new $0(t)}function Cx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function IF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Bn(t[n],e[n]))return!1;return!0}function Bn(t,e){let n=t?q0(t):void 0,r=e?q0(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!xx(t[i],e[i]))return!1;return!0}function q0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function bx(t){return t.length>0?t[t.length-1]:null}function mr(t){return fg(t)?t:Ji(t)?$e(Promise.resolve(t)):ne(t)}var wF={exact:Ax,subset:Sx},Tx={exact:DF,subset:CF,ignored:()=>!0};function vx(t,e,n){return wF[n.paths](t.root,e.root,n.matrixParams)&&Tx[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function DF(t,e){return Bn(t,e)}function Ax(t,e,n){if(!Xi(t.segments,e.segments)||!Qd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Ax(t.children[r],e.children[r],n))return!1;return!0}function CF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xx(t[n],e[n]))}function Sx(t,e,n){return Rx(t,e,e.segments,n)}function Rx(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Xi(i,n)||e.hasChildren()||!Qd(i,n,r))}else if(t.segments.length===n.length){if(!Xi(t.segments,n)||!Qd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Sx(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Xi(t.segments,i)||!Qd(t.segments,i,r)||!t.children[ie]?!1:Rx(t.children[ie],e,o,r)}}function Qd(t,e,n){return e.every((r,i)=>Tx[n](t[i].parameters,r.parameters))}var Un=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){return TF.serialize(this)}},Ae=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yd(this)}},ni=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=to(this.parameters),this._parameterMap}toString(){return Mx(this)}};function xF(t,e){return Xi(t,e)&&t.every((n,r)=>Bn(n.parameters,e[r].parameters))}function Xi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function bF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}var qc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>new no,providedIn:"root"})}return t})(),no=class{parse(e){let n=new G0(e);return new Un(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Sc(e.root,!0)}`,r=RF(e.queryParams),i=typeof e.fragment=="string"?`#${AF(e.fragment)}`:"";return`${n}${r}${i}`}},TF=new no;function Yd(t){return t.segments.map(e=>Mx(e)).join("/")}function Sc(t,e){if(!t.hasChildren())return Yd(t);if(e){let n=t.children[ie]?Sc(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${Sc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=bF(t,(r,i)=>i===ie?[Sc(t.children[ie],!1)]:[`${i}:${Sc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${Yd(t)}/${n[0]}`:`${Yd(t)}/(${n.join("//")})`}}function Nx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wd(t){return Nx(t).replace(/%3B/gi,";")}function AF(t){return encodeURI(t)}function z0(t){return Nx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zd(t){return decodeURIComponent(t)}function yx(t){return Zd(t.replace(/\+/g,"%20"))}function Mx(t){return`${z0(t.path)}${SF(t.parameters)}`}function SF(t){return Object.entries(t).map(([e,n])=>`;${z0(e)}=${z0(n)}`).join("")}function RF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Wd(n)}=${Wd(i)}`).join("&"):`${Wd(n)}=${Wd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var NF=/^[^\/()?;#]+/;function B0(t){let e=t.match(NF);return e?e[0]:""}var MF=/^[^\/()?;=#]+/;function PF(t){let e=t.match(MF);return e?e[0]:""}var kF=/^[^=?&#]+/;function OF(t){let e=t.match(kF);return e?e[0]:""}var FF=/^[^&#]+/;function LF(t){let e=t.match(FF);return e?e[0]:""}var G0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new Ae(e,n)),r}parseSegment(){let e=B0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new ni(Zd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=PF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=B0(this.remaining);i&&(r=i,this.capture(r))}e[Zd(n)]=Zd(r)}parseQueryParam(e){let n=OF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=LF(this.remaining);s&&(r=s,this.capture(r))}let i=yx(n),o=yx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=B0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();n[o??ie]=Object.keys(s).length===1&&s[ie]?s[ie]:new Ae([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function Px(t){return t.segments.length>0?new Ae([],{[ie]:t}):t}function kx(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=kx(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ae(t.segments,e);return VF(n)}function VF(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new Ae(t.segments.concat(e.segments),e.children)}return t}function ws(t){return t instanceof Un}function Ox(t,e,n=null,r=null){let i=Fx(t);return Lx(i,e,n,r)}function Fx(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ae(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Px(r);return e??i}function Lx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return j0(i,i,i,n,r);let o=BF(e);if(o.toRoot())return j0(i,i,new Ae([],{}),n,r);let s=jF(o,i,t),a=s.processChildren?Nc(s.segmentGroup,s.index,o.commands):Bx(s.segmentGroup,s.index,o.commands);return j0(i,s.segmentGroup,a,n,r)}function Jd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function kc(t){return typeof t=="object"&&t!=null&&t.outlets}function j0(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;t===e?s=n:s=Vx(t,e,n);let a=Px(kx(s));return new Un(a,o,i)}function Vx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Vx(o,e,n)}),new Ae(t.segments,r)}var Xd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Jd(r[0]))throw new Q(4003,!1);let i=r.find(kc);if(i&&i!==bx(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function BF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Xd(n,e,r)}var Es=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function jF(t,e,n){if(t.isAbsolute)return new Es(e,!0,0);if(!n)return new Es(e,!1,NaN);if(n.parent===null)return new Es(n,!0,0);let r=Jd(t.commands[0])?0:1,i=n.segments.length-1+r;return UF(n,i,t.numberOfDoubleDots)}function UF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Es(r,!1,i-o)}function HF(t){return kc(t[0])?t[0].outlets:{[ie]:t}}function Bx(t,e,n){if(t??=new Ae([],{}),t.segments.length===0&&t.hasChildren())return Nc(t,e,n);let r=$F(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ae(t.segments.slice(0,r.pathIndex),{});return o.children[ie]=new Ae(t.segments.slice(r.pathIndex),t.children),Nc(o,0,i)}else return r.match&&i.length===0?new Ae(t.segments,{}):r.match&&!t.hasChildren()?W0(t,e,n):r.match?Nc(t,0,i):W0(t,e,n)}function Nc(t,e,n){if(n.length===0)return new Ae(t.segments,{});{let r=HF(n),i={};if(Object.keys(r).some(o=>o!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let o=Nc(t.children[ie],e,n);return new Ae(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Bx(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(t.segments,i)}}function $F(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(kc(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Ex(c,l,s))return o;r+=2}else{if(!Ex(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function W0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(kc(o)){let c=qF(o.outlets);return new Ae(r,c)}if(i===0&&Jd(n[0])){let c=t.segments[e];r.push(new ni(c.path,_x(n[0]))),i++;continue}let s=kc(o)?o.outlets[ie]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Jd(a)?(r.push(new ni(s,_x(a))),i+=2):(r.push(new ni(s,{})),i++)}return new Ae(r,{})}function qF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=W0(new Ae([],{}),0,r))}),e}function _x(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Ex(t,e,n){return t==n.path&&Bn(e,n.parameters)}var Mc="imperative",dt=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(dt||{}),Yt=class{id;url;constructor(e,n){this.id=e,this.url=n}},ro=class extends Yt{type=dt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pr=class extends Yt{urlAfterRedirects;type=dt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(kt||{}),Oc=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Oc||{}),jn=class extends Yt{reason;code;type=dt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gr=class extends Yt{reason;code;type=dt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ds=class extends Yt{error;target;type=dt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fc=class extends Yt{urlAfterRedirects;state;type=dt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ef=class extends Yt{urlAfterRedirects;state;type=dt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tf=class extends Yt{urlAfterRedirects;state;shouldActivate;type=dt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nf=class extends Yt{urlAfterRedirects;state;type=dt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rf=class extends Yt{urlAfterRedirects;state;type=dt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},of=class{route;type=dt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sf=class{route;type=dt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},af=class{snapshot;type=dt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cf=class{snapshot;type=dt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uf=class{snapshot;type=dt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lf=class{snapshot;type=dt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Lc=class{},Cs=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function zF(t){return!(t instanceof Lc)&&!(t instanceof Cs)}function GF(t,e){return t.providers&&!t._injector&&(t._injector=gc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function In(t){return t.outlet||ie}function WF(t,e){let n=t.filter(r=>In(r)===e);return n.push(...t.filter(r=>In(r)!==e)),n}function Ts(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var df=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ts(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new As(this.rootInjector)}},As=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new df(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(he(it))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ff=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=K0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=K0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Q0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Q0(e,this._root).map(n=>n.value)}};function K0(t,e){if(t===e.value)return e;for(let n of e.children){let r=K0(t,n);if(r)return r}return null}function Q0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Q0(t,n);if(r.length)return r.unshift(e),r}return[]}var Qt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _s(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Vc=class extends ff{snapshot;constructor(e,n){super(e),this.snapshot=n,rv(this,e)}toString(){return this.snapshot.toString()}};function jx(t){let e=KF(t),n=new mt([new ni("",{})]),r=new mt({}),i=new mt({}),o=new mt({}),s=new mt(""),a=new ri(n,r,o,s,i,ie,t,e.root);return a.snapshot=e.root,new Vc(new Qt(a,[]),e)}function KF(t){let e={},n={},r={},o=new eo([],e,r,"",n,ie,t,null,{});return new Bc("",new Qt(o,[]))}var ri=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ee(l=>l[$c]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ee(e=>to(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ee(e=>to(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:z(z({},e.params),t.params),data:z(z({},e.data),t.data),resolve:z(z(z(z({},t.data),e.data),i?.data),t._resolvedData)}:r={params:z({},t.params),data:z({},t.data),resolve:z(z({},t.data),t._resolvedData??{})},i&&Hx(i)&&(r.resolve[$c]=i.title),r}var eo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$c]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=to(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Bc=class extends ff{url;constructor(e,n){super(n),this.url=e,rv(this,n)}toString(){return Ux(this._root)}};function rv(t,e){e.value._routerState=t,e.children.forEach(n=>rv(t,n))}function Ux(t){let e=t.children.length>0?` { ${t.children.map(Ux).join(", ")} } `:"";return`${t.value}${e}`}function U0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Bn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Bn(e.params,n.params)||t.paramsSubject.next(n.params),IF(e.url,n.url)||t.urlSubject.next(n.url),Bn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Y0(t,e){let n=Bn(t.params,e.params)&&xF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Y0(t.parent,e.parent))}function Hx(t){return typeof t.title=="string"||t.title===null}var $x=new Y(""),zc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ie;activateEvents=new Ye;deactivateEvents=new Ye;attachEvents=new Ye;detachEvents=new Ye;routerOutletData=XC();parentContexts=H(As);location=H(pc);changeDetector=H(wc);inputBinder=H(vf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Z0(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Pt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qi]})}return t})(),Z0=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===ri?this.route:e===As?this.childContexts:e===$x?this.outletData:this.parent.get(e,n)}},vf=new Y("");var iv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=mc({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&hs(0,"router-outlet")},dependencies:[zc],encapsulation:2})}return t})();function ov(t){let e=t.children&&t.children.map(ov),n=e?fe(z({},t),{children:e}):z({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=iv),n}function QF(t,e,n){let r=jc(t,e._root,n?n._root:void 0);return new Vc(r,e)}function jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=YF(t,e,n);return new Qt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>jc(t,a)),s}}let r=ZF(e.value),i=e.children.map(o=>jc(t,o));return new Qt(r,i)}}function YF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jc(t,r,i);return jc(t,r)})}function ZF(t){return new ri(new mt(t.url),new mt(t.params),new mt(t.queryParams),new mt(t.fragment),new mt(t.data),t.outlet,t.component,t)}var xs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},qx="ngNavigationCancelingError";function pf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ws(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zx(!1,kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function zx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[qx]=!0,n.cancellationCode=e,n}function JF(t){return Gx(t)&&ws(t.url)}function Gx(t){return!!t&&t[qx]}var XF=(t,e,n,r)=>Ee(i=>(new J0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),J0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),U0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_s(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_s(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_s(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_s(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new lf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new cf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(U0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),U0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},gf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Is=class{component;route;constructor(e,n){this.component=e,this.route=n}};function e2(t,e,n){let r=t._root,i=e?e._root:null;return Rc(r,i,n,[r.value])}function t2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ss(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Pg(t)?t:e.get(t):r}function Rc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_s(e);return t.children.forEach(s=>{n2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pc(a,n.getContext(s),i)),i}function n2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=r2(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new gf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Rc(t,e,a?a.children:null,r,i):Rc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Is(a.outlet.component,s))}else s&&Pc(e,a,i),i.canActivateChecks.push(new gf(r)),o.component?Rc(t,null,a?a.children:null,r,i):Rc(t,null,n,r,i);return i}function r2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Xi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xi(t.url,e.url)||!Bn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y0(t,e)||!Bn(t.queryParams,e.queryParams);case"paramsChange":default:return!Y0(t,e)}}function Pc(t,e,n){let r=_s(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Pc(s,e.children.getContext(o),n):Pc(s,null,n):Pc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Is(e.outlet.component,i)):n.canDeactivateChecks.push(new Is(null,i)):n.canDeactivateChecks.push(new Is(null,i))}function Gc(t){return typeof t=="function"}function i2(t){return typeof t=="boolean"}function o2(t){return t&&Gc(t.canLoad)}function s2(t){return t&&Gc(t.canActivate)}function a2(t){return t&&Gc(t.canActivateChild)}function c2(t){return t&&Gc(t.canDeactivate)}function u2(t){return t&&Gc(t.canMatch)}function Wx(t){return t instanceof Jn||t?.name==="EmptyError"}var Kd=Symbol("INITIAL_VALUE");function bs(){return Bt(t=>Bl(t.map(e=>e.pipe(Xn(1),mg(Kd)))).pipe(Ee(e=>{for(let n of e)if(n!==!0){if(n===Kd)return Kd;if(n===!1||l2(n))return n}return!0}),Xt(e=>e!==Kd),Xn(1)))}function l2(t){return ws(t)||t instanceof xs}function d2(t,e){return rt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ne(fe(z({},n),{guardsResult:!0})):f2(s,r,i,t).pipe(rt(a=>a&&i2(a)?h2(r,o,t,e):ne(a)),Ee(a=>fe(z({},n),{guardsResult:a})))})}function f2(t,e,n,r){return $e(t).pipe(rt(i=>y2(i.component,i.route,n,e,r)),er(i=>i!==!0,!0))}function h2(t,e,n,r){return $e(e).pipe(Ko(i=>Wo(g2(i.route.parent,r),p2(i.route,r),v2(t,i.path,n),m2(t,i.route,n))),er(i=>i!==!0,!0))}function p2(t,e){return t!==null&&e&&e(new uf(t)),ne(!0)}function g2(t,e){return t!==null&&e&&e(new af(t)),ne(!0)}function m2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>Oa(()=>{let s=Ts(e)??n,a=Ss(o,s),c=s2(a)?a.canActivate(e,t):ot(s,()=>a(e,t));return mr(c).pipe(er())}));return ne(i).pipe(bs())}function v2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>t2(s)).filter(s=>s!==null).map(s=>Oa(()=>{let a=s.guards.map(c=>{let l=Ts(s.node)??n,d=Ss(c,l),h=a2(d)?d.canActivateChild(r,t):ot(l,()=>d(r,t));return mr(h).pipe(er())});return ne(a).pipe(bs())}));return ne(o).pipe(bs())}function y2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let c=Ts(e)??i,l=Ss(a,c),d=c2(l)?l.canDeactivate(t,e,n,r):ot(c,()=>l(t,e,n,r));return mr(d).pipe(er())});return ne(s).pipe(bs())}function _2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=Ss(s,t),c=o2(a)?a.canLoad(e,n):ot(t,()=>a(e,n));return mr(c)});return ne(o).pipe(bs(),Kx(r))}function Kx(t){return ig(ut(e=>{if(typeof e!="boolean")throw pf(t,e)}),Ee(e=>e===!0))}function E2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=Ss(s,t),c=u2(a)?a.canMatch(e,n):ot(t,()=>a(e,n));return mr(c)});return ne(o).pipe(bs(),Kx(r))}var Uc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Hc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ys(t){return Go(new Uc(t))}function I2(t){return Go(new Q(4e3,!1))}function w2(t){return Go(zx(!1,kt.GuardRejected))}var X0=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[ie])return I2(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,n,r,i,o){return D2(n,i,o).pipe(Ee(s=>{if(s instanceof Un)throw new Hc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Hc(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Un(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ae(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function D2(t,e,n){if(typeof t=="string")return ne(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:d,title:h}=e;return mr(ot(n,()=>r({params:l,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:h})))}var ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C2(t,e,n,r,i){let o=Qx(t,e,n);return o.matched?(r=GF(e,r),E2(r,e,n,i).pipe(Ee(s=>s===!0?o:z({},ev)))):ne(o)}function Qx(t,e,n){if(e.path==="**")return x2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?z({},ev):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Cx)(n,t,e);if(!i)return z({},ev);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?z(z({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function x2(t){return{matched:!0,parameters:t.length>0?bx(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ix(t,e,n,r){return n.length>0&&A2(t,n,r)?{segmentGroup:new Ae(e,T2(r,new Ae(n,t.children))),slicedSegments:[]}:n.length===0&&S2(t,n,r)?{segmentGroup:new Ae(t.segments,b2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function b2(t,e,n,r){let i={};for(let o of n)if(yf(t,e,o)&&!r[In(o)]){let s=new Ae([],{});i[In(o)]=s}return z(z({},r),i)}function T2(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&In(r)!==ie){let i=new Ae([],{});n[In(r)]=i}return n}function A2(t,e,n){return n.some(r=>yf(t,e,r)&&In(r)!==ie)}function S2(t,e,n){return n.some(r=>yf(t,e,r))}function yf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function R2(t,e,n){return e.length===0&&!t.children[n]}var tv=class{};function N2(t,e,n,r,i,o,s="emptyOnly"){return new nv(t,e,n,r,i,s,o).recognize()}var M2=31,nv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new X0(this.urlSerializer,this.urlTree)}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=Ix(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ee(({children:n,rootSnapshot:r})=>{let i=new Qt(r,n),o=new Bc("",i),s=Ox(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new eo([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,n).pipe(Ee(r=>({children:r,rootSnapshot:n})),Ur(r=>{if(r instanceof Hc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Uc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Ee(s=>s instanceof Qt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return $e(o).pipe(Ko(s=>{let a=r.children[s],c=WF(n,s);return this.processSegmentGroup(e,c,a,s,i)}),gg((s,a)=>(s.push(...a),s)),Hr(null),pg(),rt(s=>{if(s===null)return ys(r);let a=Yx(s);return P2(a),ne(a)}))}processSegment(e,n,r,i,o,s,a){return $e(n).pipe(Ko(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Ur(l=>{if(l instanceof Uc)return ne(null);throw l}))),er(c=>!!c),Ur(c=>{if(Wx(c))return R2(r,i,o)?ne(new tv):ys(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return In(r)!==s&&(s===ie||!yf(i,o,r))?ys(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):ys(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:p}=Qx(n,i,o);if(!c)return ys(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>M2&&(this.allowRedirects=!1));let m=new eo(o,l,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,wx(i),In(i),i.component??i._loadedComponent??null,i,Dx(i)),v=hf(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(v.params),m.data=Object.freeze(v.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,m,e).pipe(Bt(b=>this.applyRedirects.lineralizeSegments(i,b)),rt(b=>this.processSegment(e,r,n,b.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=C2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Bt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Bt(({routes:l})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:m}=c,v=new eo(p,h,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,wx(r),In(r),r.component??r._loadedComponent??null,r,Dx(r)),T=hf(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(T.params),v.data=Object.freeze(T.data);let{segmentGroup:b,slicedSegments:E}=Ix(n,p,m,l);if(E.length===0&&b.hasChildren())return this.processChildren(d,l,b,v).pipe(Ee(R=>new Qt(v,R)));if(l.length===0&&E.length===0)return ne(new Qt(v,[]));let C=In(r)===o;return this.processSegment(d,l,b,E,C?ie:o,!0,v).pipe(Ee(R=>new Qt(v,R instanceof Qt?[R]:[])))}))):ys(n)))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):_2(e,n,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,n).pipe(ut(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):w2(n))):ne({routes:[],injector:e})}};function P2(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function k2(t){let e=t.value.routeConfig;return e&&e.path===""}function Yx(t){let e=[],n=new Set;for(let r of t){if(!k2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Yx(r.children);e.push(new Qt(r.value,i))}return e.filter(r=>!n.has(r))}function wx(t){return t.data||{}}function Dx(t){return t.resolve||{}}function O2(t,e,n,r,i,o){return rt(s=>N2(t,e,n,r,s.extractedUrl,i,o).pipe(Ee(({state:a,tree:c})=>fe(z({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function F2(t,e){return rt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Zx(c))s.add(l);let a=0;return $e(s).pipe(Ko(c=>o.has(c)?L2(c,r,t,e):(c.data=hf(c,c.parent,t).resolve,ne(void 0))),ut(()=>a++),Qo(1),rt(c=>a===s.size?ne(n):Lt))})}function Zx(t){let e=t.children.map(n=>Zx(n)).flat();return[t,...e]}function L2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Hx(i)&&(o[$c]=i.title),Oa(()=>(t.data=hf(t,t.parent,n).resolve,V2(o,t,e,r).pipe(Ee(s=>(t._resolvedData=s,t.data=z(z({},t.data),s),null)))))}function V2(t,e,n,r){let i=q0(t);if(i.length===0)return ne({});let o={};return $e(i).pipe(rt(s=>B2(t[s],e,n,r).pipe(er(),ut(a=>{if(a instanceof xs)throw pf(new no,a);o[s]=a}))),Qo(1),Ee(()=>o),Ur(s=>Wx(s)?Lt:Go(s)))}function B2(t,e,n,r){let i=Ts(e)??r,o=Ss(t,i),s=o.resolve?o.resolve(e,n):ot(i,()=>o(e,n));return mr(s)}function H0(t){return Bt(e=>{let n=t(e);return n?$e(n).pipe(Ee(()=>e)):ne(e)})}var sv=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[$c]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>H(Jx),providedIn:"root"})}return t})(),Jx=(()=>{class t extends sv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(he(mx))};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wc=new Y("",{providedIn:"root",factory:()=>({})}),Kc=new Y(""),Xx=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=H(E0);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ne(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=mr(ot(n,()=>r.loadComponent())).pipe(Ee(tb),Bt(nb),ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Fa(()=>{this.componentLoaders.delete(r)})),o=new Ho(i,()=>new nt).pipe(Uo());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=eb(r,this.compiler,n,this.onLoadEndListener).pipe(Fa(()=>{this.childrenLoaders.delete(r)})),s=new Ho(o,()=>new nt).pipe(Uo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eb(t,e,n,r){return mr(ot(n,()=>t.loadChildren())).pipe(Ee(tb),Bt(nb),rt(i=>i instanceof Pd||Array.isArray(i)?ne(i):$e(e.compileModuleAsync(i))),Ee(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Kc,[],{optional:!0,self:!0}).flat()),{routes:s.map(ov),injector:o}}))}function j2(t){return t&&typeof t=="object"&&"default"in t}function tb(t){return j2(t)?t.default:t}function nb(t){return ne(t)}var _f=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>H(U2),providedIn:"root"})}return t})(),U2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rb=new Y("");var ib=new Y(""),ob=(()=>{class t{currentNavigation=Kt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new nt;transitionAbortWithErrorSubject=new nt;configLoader=H(Xx);environmentInjector=H(it);destroyRef=H(ar);urlSerializer=H(qc);rootContexts=H(As);location=H(vs);inputBindingEnabled=H(vf,{optional:!0})!==null;titleStrategy=H(sv);options=H(Wc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=H(_f);createViewTransition=H(rb,{optional:!0});navigationErrorHandler=H(ib,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new of(i)),r=i=>this.events.next(new sf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Tt(()=>{this.transitions?.next(fe(z({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new mt(null),this.transitions.pipe(Xt(r=>r!==null),Bt(r=>{let i=!1;return ne(r).pipe(Bt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",kt.SupersededByNewNavigation),Lt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?fe(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new gr(o.id,this.urlSerializer.serialize(o.rawUrl),"",Oc.IgnoredSameUrlNavigation)),o.resolve(!1),Lt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ne(o).pipe(Bt(c=>(this.events.next(new ro(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Lt:Promise.resolve(c))),O2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let l=new Fc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:h,extras:p}=o,m=new ro(c,this.urlSerializer.serialize(l),d,h);this.events.next(m);let v=jx(this.rootComponentType).snapshot;return this.currentTransition=r=fe(z({},o),{targetSnapshot:v,urlAfterRedirects:l,extras:fe(z({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(T=>(T.finalUrl=l,T)),ne(r)}else return this.events.next(new gr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Oc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Lt}),ut(o=>{let s=new ef(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Ee(o=>(this.currentTransition=r=fe(z({},o),{guards:e2(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),d2(this.environmentInjector,o=>this.events.next(o)),ut(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw pf(this.urlSerializer,o.guardsResult);let s=new tf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Xt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",kt.GuardRejected),!1)),H0(o=>{if(o.guards.canActivateChecks.length!==0)return ne(o).pipe(ut(s=>{let a=new nf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Bt(s=>{let a=!1;return ne(s).pipe(F2(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",kt.NoDataFromResolver)}}))}),ut(s=>{let a=new rf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),H0(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=Ts(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(ut(d=>{a.component=d}),Ee(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Bl(s(o.targetSnapshot.root)).pipe(Hr(null),Xn(1))}),H0(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?$e(a).pipe(Ee(()=>r)):ne(r)}),Ee(o=>{let s=QF(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=fe(z({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ut(()=>{this.events.next(new Lc)}),XF(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Xn(1),Ul(new ge(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Xt(()=>!i&&!r.targetRouterState),ut(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",kt.Aborted)}))),ut({next:o=>{i=!0,this.lastSuccessfulNavigation=Tt(this.currentNavigation),this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ul(this.transitionAbortWithErrorSubject.pipe(ut(o=>{throw o}))),Fa(()=>{i||this.cancelNavigationTransition(r,"",kt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ur(o=>{if(this.destroyed)return r.resolve(!1),Lt;if(i=!0,Gx(o))this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),JF(o)?this.events.next(new Cs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ds(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=ot(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof xs){let{message:c,cancellationCode:l}=pf(this.urlSerializer,a);this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Cs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Lt}))}))}cancelNavigationTransition(n,r,i){let o=new jn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Tt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function H2(t){return t!==Mc}var sb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>H($2),providedIn:"root"})}return t})(),mf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},$2=(()=>{class t extends mf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yi(t)))(i||t)}})();static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ab=(()=>{class t{urlSerializer=H(qc);options=H(Wc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=H(vs);urlHandlingStrategy=H(_f);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Un?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=jx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:()=>H(q2),providedIn:"root"})}return t})(),q2=(()=>{class t extends ab{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ro?this.updateStateMemento():n instanceof gr?this.commitTransition(r):n instanceof Fc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Lc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof jn&&n.code!==kt.SupersededByNewNavigation&&n.code!==kt.Redirect?this.restoreHistory(r):n instanceof Ds?this.restoreHistory(r,!0):n instanceof pr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=z(z({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=z(z({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yi(t)))(i||t)}})();static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function av(t,e){t.events.pipe(Xt(n=>n instanceof pr||n instanceof jn||n instanceof Ds||n instanceof gr),Ee(n=>n instanceof pr||n instanceof gr?0:(n instanceof jn?n.code===kt.Redirect||n.code===kt.SupersededByNewNavigation:!1)?2:1),Xt(n=>n!==2),Xn(1)).subscribe(()=>{e()})}var z2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ef=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=H(p0);stateManager=H(ab);options=H(Wc,{optional:!0})||{};pendingTasks=H(On);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=H(ob);urlSerializer=H(qc);location=H(vs);urlHandlingStrategy=H(_f);injector=H(it);_events=new nt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=H(sb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=H(Kc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!H(vf,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new He;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Tt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jn&&r.code!==kt.Redirect&&r.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pr)this.navigated=!0;else if(r instanceof Cs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||H2(i.source)},s);this.scheduleNavigation(a,Mc,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}zF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=z({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Wt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Tt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ov),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=z(z({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=i?i.snapshot:this.routerState.snapshot.root;h=Fx(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return Lx(h,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ws(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Mc,null,r)}navigate(n,r={skipLocationChange:!1}){return W2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(ja(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=z({},z2):r===!1?i=z({},G2):i=r,ws(n))return vx(this.currentUrlTree,n,i);let o=this.parseUrl(n);return vx(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,p)=>{a=h,c=p});let d=this.pendingTasks.add();return av(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function W2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}var Q2=new Y("");function cv(t,...e){return gn([{provide:Kc,multi:!0,useValue:t},[],{provide:ri,useFactory:Y2,deps:[Ef]},{provide:kd,multi:!0,useFactory:Z2},e.map(n=>n.\u0275providers)])}function Y2(t){return t.routerState.root}function Z2(){let t=H(_t);return e=>{let n=t.get(Xr);if(e!==n.components[0])return;let r=t.get(Ef),i=t.get(J2);t.get(X2)===1&&r.initialNavigation(),t.get(eL,null,{optional:!0})?.setUpPreloading(),t.get(Q2,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var J2=new Y("",{factory:()=>new nt}),X2=new Y("",{providedIn:"root",factory:()=>1});var eL=new Y("");var cb=()=>{};var db=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},If={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4,p=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(db(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||h==null)throw new lv;let p=o<<2|a>>4;if(r.push(p),l!==64){let m=a<<4&240|l>>2;if(r.push(m),h!==64){let v=l<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},lv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},rL=function(t){let e=db(t);return If.encodeByteArray(e,!0)},Yc=function(t){return rL(t).replace(/\./g,"")},wf=function(t){try{return If.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var iL=()=>fv().__FIREBASE_DEFAULTS__,oL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wf(t[1]);return e&&JSON.parse(e)},Df=()=>{try{return cb()||iL()||oL()||sL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fb=t=>{var e,n;return(n=(e=Df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hb=t=>{let e=fb(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hv=()=>{var t;return(t=Df())===null||t===void 0?void 0:t.config},pb=t=>{var e;return(e=Df())===null||e===void 0?void 0:e[`_${t}`]};var io=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function oo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function pv(t){return O(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function gb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yc(JSON.stringify(n)),Yc(JSON.stringify(s)),""].join(".")}var Qc={};function aL(){let t={prod:[],emulator:[]};for(let e of Object.keys(Qc))Qc[e]?t.emulator.push(e):t.prod.push(e);return t}function cL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var ub=!1;function gv(t,e){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Qc[t]===e||Qc[t]||ub)return;Qc[t]=e;function n(p){return`__firebase__banner__${p}`}let r="__firebase__banner",o=aL().prod.length>0;function s(){let p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function l(){let p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{ub=!0,s()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){let p=cL(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),T=n("learnmore"),b=document.getElementById(T)||document.createElement("a"),E=n("preprendIcon"),C=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){let R=p.element;a(R),d(b,T);let N=l();c(C,E),R.append(C,v,b,N),document.body.appendChild(R)}o?(v.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function uL(){var t;let e=(t=Df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _b(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eb(){return!uL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zc(){try{return typeof indexedDB=="object"}catch{return!1}}function Ib(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var lL="FirebaseError",an=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}},wn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?dL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new an(i,a,r)}};function dL(t,e){return t.replace(fL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var fL=/\{\$([^}]+)}/g;function so(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(lb(o)&&lb(s)){if(!so(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function lb(t){return t!==null&&typeof t=="object"}function mv(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wb(t,e){let n=new dv(t,e);return n.subscribe.bind(n)}var dv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=uv),i.error===void 0&&(i.error=uv),i.complete===void 0&&(i.complete=uv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function hL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uv(){}var yee=14400*1e3;function Dn(t){return t&&t._delegate?t._delegate:t}var Ot=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ao="[DEFAULT]";var vv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new io;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gL(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return O(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pL(t){return t===ao?void 0:t}function gL(t){return t.instantiationMode==="EAGER"}var Cf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new vv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var mL=[],ye=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ye||{}),vL={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},yL=ye.INFO,_L={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},EL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=_L[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Hn=class{constructor(e){this.name=e,this._logLevel=yL,this._logHandler=EL,this._userLogHandler=null,mL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var IL=(t,e)=>e.some(n=>t instanceof n),Db,Cb;function wL(){return Db||(Db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DL(){return Cb||(Cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xb=new WeakMap,_v=new WeakMap,bb=new WeakMap,yv=new WeakMap,Iv=new WeakMap;function CL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($n(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&xb.set(n,t)}).catch(()=>{}),Iv.set(e,t),e}function xL(t){if(_v.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_v.set(t,e)}var Ev={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _v.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Tb(t){Ev=t(Ev)}function bL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(xf(this),e,...n);return bb.set(r,e.sort?e.sort():[e]),$n(r)}:DL().includes(t)?function(...e){return t.apply(xf(this),e),$n(xb.get(this))}:function(...e){return $n(t.apply(xf(this),e))}}function TL(t){return typeof t=="function"?bL(t):(t instanceof IDBTransaction&&xL(t),IL(t,wL())?new Proxy(t,Ev):t)}function $n(t){if(t instanceof IDBRequest)return CL(t);if(yv.has(t))return yv.get(t);let e=TL(t);return e!==t&&(yv.set(t,e),Iv.set(e,t)),e}var xf=t=>Iv.get(t);function Sb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=$n(s);return r&&s.addEventListener("upgradeneeded",c=>{r($n(s.result),c.oldVersion,c.newVersion,$n(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var AL=["get","getKey","getAll","getAllKeys","count"],SL=["put","add","delete","clear"],wv=new Map;function Ab(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wv.get(e))return wv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=SL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AL.includes(n)))return;let o=function(s,...a){return O(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return wv.set(e,o),o}Tb(t=>fe(z({},t),{get:(e,n,r)=>Ab(e,n)||t.get(e,n,r),has:(e,n)=>!!Ab(e,n)||t.has(e,n)}));var Cv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function RL(t){let e=t.getComponent();return e?.type==="VERSION"}var xv="@firebase/app",Rb="0.13.2";var vr=new Hn("@firebase/app"),NL="@firebase/app-compat",ML="@firebase/analytics-compat",PL="@firebase/analytics",kL="@firebase/app-check-compat",OL="@firebase/app-check",FL="@firebase/auth",LL="@firebase/auth-compat",VL="@firebase/database",BL="@firebase/data-connect",jL="@firebase/database-compat",UL="@firebase/functions",HL="@firebase/functions-compat",$L="@firebase/installations",qL="@firebase/installations-compat",zL="@firebase/messaging",GL="@firebase/messaging-compat",WL="@firebase/performance",KL="@firebase/performance-compat",QL="@firebase/remote-config",YL="@firebase/remote-config-compat",ZL="@firebase/storage",JL="@firebase/storage-compat",XL="@firebase/firestore",eV="@firebase/ai",tV="@firebase/firestore-compat",nV="firebase",rV="11.10.0";var bv="[DEFAULT]",iV={[xv]:"fire-core",[NL]:"fire-core-compat",[PL]:"fire-analytics",[ML]:"fire-analytics-compat",[OL]:"fire-app-check",[kL]:"fire-app-check-compat",[FL]:"fire-auth",[LL]:"fire-auth-compat",[VL]:"fire-rtdb",[BL]:"fire-data-connect",[jL]:"fire-rtdb-compat",[UL]:"fire-fn",[HL]:"fire-fn-compat",[$L]:"fire-iid",[qL]:"fire-iid-compat",[zL]:"fire-fcm",[GL]:"fire-fcm-compat",[WL]:"fire-perf",[KL]:"fire-perf-compat",[QL]:"fire-rc",[YL]:"fire-rc-compat",[ZL]:"fire-gcs",[JL]:"fire-gcs-compat",[XL]:"fire-fst",[tV]:"fire-fst-compat",[eV]:"fire-vertex","fire-js":"fire-js",[nV]:"fire-js-all"};var Jc=new Map,oV=new Map,Tv=new Map;function Nb(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cn(t){let e=t.name;if(Tv.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Tv.set(e,t);for(let n of Jc.values())Nb(n,t);for(let n of oV.values())Nb(n,t);return!0}function bf(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yr(t){return t==null?!1:t.settings!==void 0}var sV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new wn("app","Firebase",sV);var Av=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};var Rs=rV;function Nv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:bv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=hv()),!n)throw ii.create("no-options");let o=Jc.get(i);if(o){if(so(n,o.options)&&so(r,o.config))return o;throw ii.create("duplicate-app",{appName:i})}let s=new Cf(i);for(let c of Tv.values())s.addComponent(c);let a=new Av(n,r,s);return Jc.set(i,a),a}function Ns(t=bv){let e=Jc.get(t);if(!e&&t===bv&&hv())return Nv();if(!e)throw ii.create("no-app",{appName:t});return e}function Tf(){return Array.from(Jc.values())}function Ge(t,e,n){var r;let i=(r=iV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}Cn(new Ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var aV="firebase-heartbeat-database",cV=1,Xc="firebase-heartbeat-store",Dv=null;function Ob(){return Dv||(Dv=Sb(aV,cV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),Dv}function uV(t){return O(this,null,function*(){try{let n=(yield Ob()).transaction(Xc),r=yield n.objectStore(Xc).get(Fb(t));return yield n.done,r}catch(e){if(e instanceof an)vr.warn(e.message);else{let n=ii.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}})}function Mb(t,e){return O(this,null,function*(){try{let r=(yield Ob()).transaction(Xc,"readwrite");yield r.objectStore(Xc).put(e,Fb(t)),yield r.done}catch(n){if(n instanceof an)vr.warn(n.message);else{let r=ii.create("idb-set",{originalErrorMessage:n?.message});vr.warn(r.message)}}})}function Fb(t){return`${t.name}!${t.options.appId}`}var lV=1024,dV=30,Sv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Rv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return O(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Pb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>dV){let s=hV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vr.warn(r)}})}getHeartbeatsHeader(){return O(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Pb(),{heartbeatsToSend:r,unsentEntries:i}=fV(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return vr.warn(n),""}})}};function Pb(){return new Date().toISOString().substring(0,10)}function fV(t,e=lV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Rv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return O(this,null,function*(){return Zc()?Ib().then(()=>!0).catch(()=>!1):!1})}read(){return O(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield uV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return O(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Mb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return O(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Mb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kb(t){return Yc(JSON.stringify({version:2,heartbeats:t})).length}function hV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function pV(t){Cn(new Ot("platform-logger",e=>new Cv(e),"PRIVATE")),Cn(new Ot("heartbeat",e=>new Sv(e),"PRIVATE")),Ge(xv,Rb,t),Ge(xv,Rb,"esm2017"),Ge("fire-js","")}pV("");var gV="firebase",mV="11.10.0";Ge(gV,mV,"app");function Lb(t){t===void 0&&(t=H(_t));let e=t.get(rs);return n=>new ge(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var uo=new Ri("ANGULARFIRE2_VERSION");function Sf(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ps=(t,e)=>{let n=e?[e]:Tf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ms=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Ms||{}),Vb=b0()&&typeof Zone<"u"?Ms.WARN:Ms.SILENT;var Af=class{zone;delegate;constructor(e,n=lg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},lo=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=H(ke);this.outsideAngular=n.runOutsideAngular(()=>new Af(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Af(typeof Zone>"u"?void 0:Zone.current,ug))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bb=!1;function vV(t,e){!Bb&&(Vb>Ms.SILENT||b0())&&(Bb=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Vb>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function yV(t){let e=H(ke,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function co(t){let e=H(ke,{optional:!0});return e?e.run(()=>t()):t()}var _V=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),ot(n,()=>co(()=>t.apply(void 0,r)))),xn=(t,e,n)=>(n||=e?Ms.WARN:Ms.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=H(lo),s=H(rs),a=H(it)}catch{return vV(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=co(()=>s.add())),i[l]=_V(i[l],r,a));let c=yV(()=>t.apply(this,i));return e?c instanceof ge?c.pipe(jr(o.outsideAngular),Br(o.insideAngular),Lb(a)):c instanceof Promise?co(()=>{let l=s.add();return new Promise((d,h)=>{c.then(p=>ot(a,()=>co(()=>d(p))),p=>ot(a,()=>co(()=>h(p)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:co(()=>c):c instanceof ge?c.pipe(jr(o.outsideAngular),Br(o.insideAngular)):co(()=>c)});var fo=class{constructor(e){return e}},eu=class{constructor(){return Tf()}};function EV(t){return t&&t.length===1?t[0]:new fo(Ns())}var Mv=new Y("angularfire2._apps"),IV={provide:fo,useFactory:EV,deps:[[new lr,Mv]]},wV={provide:eu,deps:[[new lr,Mv]]};function DV(t){return(e,n)=>{let r=n.get(Zr);Ge("angularfire",uo.full,"core"),Ge("angularfire",uo.full,"app"),Ge("angular",Sg.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new fo(i)}}function jb(t,...e){return gn([IV,wV,{provide:Mv,useFactory:DV(t),multi:!0,deps:[ke,_t,lo,...e]}])}var Ub=xn(Nv,!0);var CV=new Map,xV={activated:!1,tokenObservers:[]},bV={initialized:!1,enabled:!1};function bn(t){return CV.get(t)||Object.assign({},xV)}function zb(){return bV}var TV="https://content-firebaseappcheck.googleapis.com/v1";var AV="exchangeDebugToken",Hb={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Ite=1440*60*1e3;var Ov=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return O(this,null,function*(){this.stop();try{this.pending=new io,this.pending.promise.catch(n=>{}),yield SV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new io,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function SV(t){return new Promise(e=>{setTimeout(e,t)})}var RV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},oi=new wn("appCheck","AppCheck",RV);function Gb(t){if(!bn(t).activated)throw oi.create("use-before-activation",{appName:t.name})}function Wb(r,i){return O(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(m){throw oi.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw oi.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw oi.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let h=Number(d[1])*1e3,p=Date.now();return{token:l.token,expireTimeMillis:p+h,issuedAtTimeMillis:p}})}function Kb(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${TV}/projects/${n}/apps/${r}:${AV}?key=${i}`,body:{debug_token:e}}}var NV="firebase-app-check-database",MV=1,Fv="firebase-app-check-store";var Rf=null;function PV(){return Rf||(Rf=new Promise((t,e)=>{try{let n=indexedDB.open(NV,MV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(oi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Fv,{keyPath:"compositeKey"})}}}catch(n){e(oi.create("storage-open",{originalErrorMessage:n?.message}))}}),Rf)}function kV(t,e){return OV(FV(t),e)}function OV(t,e){return O(this,null,function*(){let r=(yield PV()).transaction(Fv,"readwrite"),o=r.objectStore(Fv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(oi.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function FV(t){return`${t.options.appId}-${t.name}`}var tu=new Hn("@firebase/app-check");function Pv(t,e){return Zc()?kV(t,e).catch(n=>{tu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Qb(){return zb().enabled}function Yb(){return O(this,null,function*(){let t=zb();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var LV={error:"UNKNOWN_ERROR"};function VV(t){return If.encodeString(JSON.stringify(t),!1)}function Lv(t,e=!1,n=!1){return O(this,null,function*(){let r=t.app;Gb(r);let i=bn(r),o=i.token,s;if(o&&!nu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(nu(l)?o=l:yield Pv(r,void 0))}if(!e&&o&&nu(o))return{token:o.token};let a=!1;if(Qb())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Wb(Kb(r,yield Yb()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Pv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?tu.warn(l.message):n&&tu.error(l),kv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield bn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?tu.warn(l.message):n&&tu.error(l),s=l}let c;return o?s?nu(o)?c={token:o.token,internalError:s}:c=kv(s):(c={token:o.token},i.token=o,yield Pv(r,o)):c=kv(s),a&&HV(r,c),c})}function BV(t){return O(this,null,function*(){let e=t.app;Gb(e);let{provider:n}=bn(e);if(Qb()){let r=yield Yb(),{token:i}=yield Wb(Kb(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function jV(t,e,n,r){let{app:i}=t,o=bn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&nu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),$b(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>$b(t))}function Zb(t,e){let n=bn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function $b(t){let{app:e}=t,n=bn(e),r=n.tokenRefresher;r||(r=UV(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function UV(t){let{app:e}=t;return new Ov(()=>O(null,null,function*(){let n=bn(e),r;if(n.token?r=yield Lv(t,!0):r=yield Lv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=bn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Hb.RETRIAL_MIN_WAIT,Hb.RETRIAL_MAX_WAIT)}function HV(t,e){let n=bn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function nu(t){return t.expireTimeMillis-Date.now()>0}function kv(t){return{token:VV(LV),error:t}}var Vv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=bn(this.app);for(let n of e)Zb(this.app,n.next);return Promise.resolve()}};function $V(t,e){return new Vv(t,e)}function qV(t){return{getToken:e=>Lv(t,e),getLimitedUseToken:()=>BV(t),addTokenListener:e=>jV(t,"INTERNAL",e),removeTokenListener:e=>Zb(t.app,e)}}var zV="@firebase/app-check",GV="0.10.1";var WV="app-check",qb="app-check-internal";function KV(){Cn(new Ot(WV,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return $V(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(qb).initialize()})),Cn(new Ot(qb,t=>{let e=t.getProvider("app-check").getImmediate();return qV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ge(zV,GV)}KV();var QV="app-check";var Nf=class{constructor(){return Ps(QV)}};var YV=["localhost","0.0.0.0","127.0.0.1"],kte=typeof window<"u"&&YV.includes(window.location.hostname);function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var sT=oT,aT=new wn("auth","Firebase",oT());var Of=new Hn("@firebase/auth");function JV(t,...e){Of.logLevel<=ye.WARN&&Of.warn(`Auth (${Rs}): ${t}`,...e)}function Pf(t,...e){Of.logLevel<=ye.ERROR&&Of.error(`Auth (${Rs}): ${t}`,...e)}function Jb(t,...e){throw Yv(t,...e)}function Qv(t,...e){return Yv(t,...e)}function cT(t,e,n){let r=Object.assign(Object.assign({},sT()),{[e]:n});return new wn("auth","Firebase",r).create(e,{appName:t.name})}function kf(t){return cT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aT.create(t,...e)}function Se(t,e,...n){if(!t)throw Yv(e,...n)}function ru(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Pf(e),new Error(e)}function Ff(t,e){t||ru(e)}function XV(){return Xb()==="http:"||Xb()==="https:"}function Xb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function eB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XV()||yb()||"connection"in navigator)?navigator.onLine:!0}function tB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var go=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ff(n>e,"Short delay should be less than long delay!"),this.isMobile=mb()||_b()}get(){return eB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function nB(t,e){Ff(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Lf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ru("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ru("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ru("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var iB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oB=new go(3e4,6e4);function uT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Hf(o,s,a,c){return O(this,arguments,function*(t,e,n,r,i={}){return lT(t,i,()=>O(null,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let h=mv(Object.assign({key:t.config.apiKey},d)).slice(1),p=yield t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:p},l);return vb()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&oo(t.emulatorConfig.host)&&(m.credentials="include"),Lf.fetch()(yield dT(t,t.config.apiHost,n,h),m)}))})}function lT(t,e,n){return O(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},rB),e);try{let i=new Uv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Mf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mf(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Mf(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Mf(t,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw cT(t,d,l);Jb(t,d)}}catch(i){if(i instanceof an)throw i;Jb(t,"network-request-failed",{message:String(i)})}})}function dT(t,e,n,r){return O(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?nB(t.config,i):`${t.config.apiScheme}://${i}`;return iB.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Uv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qv(this.auth,"network-request-failed")),oB.get())})}};function Mf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Qv(t,e,r);return i.customData._tokenResponse=n,i}function sB(t,e){return O(this,null,function*(){return Hf(t,"POST","/v1/accounts:delete",e)})}function Vf(t,e){return O(this,null,function*(){return Hf(t,"POST","/v1/accounts:lookup",e)})}function iu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Zv(t,e=!1){return O(this,null,function*(){let n=Dn(t),r=yield n.getIdToken(e),i=fT(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:iu(Bv(i.auth_time)),issuedAtTime:iu(Bv(i.iat)),expirationTime:iu(Bv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Bv(t){return Number(t)*1e3}function fT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{let i=wf(n);return i?JSON.parse(i):(Pf("Failed to decode base64 JWT payload"),null)}catch(i){return Pf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eT(t){let e=fT(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Hv(t,e,n=!1){return O(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof an&&aB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function aB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var $v=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>O(this,null,function*(){yield this.iteration()}),n)}iteration(){return O(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var su=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Bf(t){return O(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Hv(t,Vf(n,{idToken:r}));Se(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hT(o.providerUserInfo):[],a=cB(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,d=c?l:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new su(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function Jv(t){return O(this,null,function*(){let e=Dn(t);yield Bf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function cB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hT(t){return t.map(e=>{var{providerId:n}=e,r=dg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function uB(t,e){return O(this,null,function*(){let n=yield lT(t,{},()=>O(null,null,function*(){let r=mv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield dT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return t.emulatorConfig&&oo(t.emulatorConfig.host)&&(c.credentials="include"),Lf.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function lB(t,e){return O(this,null,function*(){return Hf(t,"POST","/v2/accounts:revokeToken",uT(t,e))})}var ou=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");let n=eT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return O(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return O(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield uB(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ru("not implemented")}};function si(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ho=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=dg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $v(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new su(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return O(this,null,function*(){let n=yield Hv(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Zv(this,e)}reload(){return Jv(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return O(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Bf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return O(this,null,function*(){if(yr(this.auth.app))return Promise.reject(kf(this.auth));let e=yield this.getIdToken();return yield Hv(this,sB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(l=n.createdAt)!==null&&l!==void 0?l:void 0,C=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:R,emailVerified:N,isAnonymous:k,providerData:P,stsTokenManager:x}=n;Se(R&&x,e,"internal-error");let y=ou.fromJSON(this.name,x);Se(typeof R=="string",e,"internal-error"),si(h,e.name),si(p,e.name),Se(typeof N=="boolean",e,"internal-error"),Se(typeof k=="boolean",e,"internal-error"),si(m,e.name),si(v,e.name),si(T,e.name),si(b,e.name),si(E,e.name),si(C,e.name);let I=new t({uid:R,auth:e,email:p,emailVerified:N,displayName:h,isAnonymous:k,photoURL:v,phoneNumber:m,tenantId:T,stsTokenManager:y,createdAt:E,lastLoginAt:C});return P&&Array.isArray(P)&&(I.providerData=P.map(A=>Object.assign({},A))),b&&(I._redirectEventId=b),I}static _fromIdTokenResponse(e,n,r=!1){return O(this,null,function*(){let i=new ou;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bf(o),o})}static _fromGetAccountInfoResponse(e,n,r){return O(this,null,function*(){let i=n.users[0];Se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?hT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ou;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new su(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var tT=new Map;function po(t){Ff(t instanceof Function,"Expected a class definition");let e=tT.get(t);return e?(Ff(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tT.set(t,e),e)}var dB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return O(this,null,function*(){return!0})}_set(n,r){return O(this,null,function*(){this.storage[n]=r})}_get(n){return O(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return O(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),qv=dB;function jv(t,e,n){return`firebase:${t}:${e}:${n}`}var jf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=jv(this.userKey,i.apiKey,o),this.fullPersistenceKey=jv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return O(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Vf(this.auth,{idToken:e}).catch(()=>{});return n?ho._fromGetAccountInfoResponse(this.auth,n,e):null}return ho._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return O(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return O(this,null,function*(){if(!n.length)return new t(po(qv),e,r);let i=(yield Promise.all(n.map(l=>O(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||po(qv),s=jv(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let d=yield l._get(s);if(d){let h;if(typeof d=="string"){let p=yield Vf(e,{idToken:d}).catch(()=>{});if(!p)break;h=yield ho._fromGetAccountInfoResponse(e,p,d)}else h=ho._fromJSON(e,d);l!==o&&(a=h),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>O(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function nT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vB(e))return"Blackberry";if(yB(e))return"Webos";if(hB(e))return"Safari";if((e.includes("chrome/")||pB(e))&&!e.includes("edge/"))return"Chrome";if(mB(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fB(t=Zt()){return/firefox\//i.test(t)}function hB(t=Zt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pB(t=Zt()){return/crios\//i.test(t)}function gB(t=Zt()){return/iemobile/i.test(t)}function mB(t=Zt()){return/android/i.test(t)}function vB(t=Zt()){return/blackberry/i.test(t)}function yB(t=Zt()){return/webos/i.test(t)}function pT(t,e=[]){let n;switch(t){case"Browser":n=nT(Zt());break;case"Worker":n=`${nT(Zt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rs}/${r}`}var zv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return O(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function _B(n){return O(this,arguments,function*(t,e={}){return Hf(t,"GET","/v2/passwordPolicy",uT(t,e))})}var EB=6,Gv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:EB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Wv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uf(this),this.idTokenSubscription=new Uf(this),this.beforeStateQueue=new zv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=po(n)),this._initializationPromise=this.queue(()=>O(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield jf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return O(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return O(this,null,function*(){try{let n=yield Vf(this,{idToken:e}),r=yield ho._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return O(this,null,function*(){var n;if(yr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return O(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return O(this,null,function*(){try{yield Bf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=tB()}_delete(){return O(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return O(this,null,function*(){if(yr(this.app))return Promise.reject(kf(this));let n=e?Dn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return O(this,null,function*(){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>O(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return O(this,null,function*(){return yr(this.app)?Promise.reject(kf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return yr(this.app)?Promise.reject(kf(this)):this.queue(()=>O(this,null,function*(){yield this.assertedPersistence.setPersistence(po(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return O(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return O(this,null,function*(){let e=yield _B(this),n=new Gv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return O(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield lB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return O(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return O(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&po(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=yield jf.create(this,[po(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return O(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>O(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return O(this,null,function*(){if(e===this.currentUser)return this.queue(()=>O(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return O(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return O(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return O(this,null,function*(){var e;if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&JV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function IB(t){return Dn(t)}var Uf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wb(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var wB={loadJS(){return O(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DB(t){wB=t}function CB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function xB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(po);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Gte=CB("rcb"),Wte=new go(3e4,6e4);var Kte=new go(2e3,1e4);var Qte=600*1e3;var Yte=new go(3e4,6e4);var Zte=new go(5e3,15e3);var Jte=encodeURIComponent("fac");var rT="@firebase/auth",iT="1.10.8";var Kv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return O(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function bB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TB(t){Cn(new Ot("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(t)},l=new Wv(r,i,o,c);return xB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new Ot("auth-internal",e=>{let n=IB(e.getProvider("auth").getImmediate());return(r=>new Kv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(rT,iT,bB(t)),Ge(rT,iT,"esm2017")}var AB=300,Xte=pb("authIdTokenMaxAge")||AB;function SB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Qv("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",SB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TB("Browser");var T4="auth";var $f=class{constructor(){return Ps(T4)}};var gT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mT={};var _r,Xv;(function(){var t;function e(x,y){function I(){}I.prototype=y.prototype,x.D=y.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(A,w,S){for(var D=Array(arguments.length-2),B=2;B<arguments.length;B++)D[B-2]=arguments[B];return y.prototype[w].apply(A,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,y,I){I||(I=0);var A=Array(16);if(typeof y=="string")for(var w=0;16>w;++w)A[w]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(w=0;16>w;++w)A[w]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=x.g[0],I=x.g[1],w=x.g[2];var S=x.g[3],D=y+(S^I&(w^S))+A[0]+3614090360&4294967295;y=I+(D<<7&4294967295|D>>>25),D=S+(w^y&(I^w))+A[1]+3905402710&4294967295,S=y+(D<<12&4294967295|D>>>20),D=w+(I^S&(y^I))+A[2]+606105819&4294967295,w=S+(D<<17&4294967295|D>>>15),D=I+(y^w&(S^y))+A[3]+3250441966&4294967295,I=w+(D<<22&4294967295|D>>>10),D=y+(S^I&(w^S))+A[4]+4118548399&4294967295,y=I+(D<<7&4294967295|D>>>25),D=S+(w^y&(I^w))+A[5]+1200080426&4294967295,S=y+(D<<12&4294967295|D>>>20),D=w+(I^S&(y^I))+A[6]+2821735955&4294967295,w=S+(D<<17&4294967295|D>>>15),D=I+(y^w&(S^y))+A[7]+4249261313&4294967295,I=w+(D<<22&4294967295|D>>>10),D=y+(S^I&(w^S))+A[8]+1770035416&4294967295,y=I+(D<<7&4294967295|D>>>25),D=S+(w^y&(I^w))+A[9]+2336552879&4294967295,S=y+(D<<12&4294967295|D>>>20),D=w+(I^S&(y^I))+A[10]+4294925233&4294967295,w=S+(D<<17&4294967295|D>>>15),D=I+(y^w&(S^y))+A[11]+2304563134&4294967295,I=w+(D<<22&4294967295|D>>>10),D=y+(S^I&(w^S))+A[12]+1804603682&4294967295,y=I+(D<<7&4294967295|D>>>25),D=S+(w^y&(I^w))+A[13]+4254626195&4294967295,S=y+(D<<12&4294967295|D>>>20),D=w+(I^S&(y^I))+A[14]+2792965006&4294967295,w=S+(D<<17&4294967295|D>>>15),D=I+(y^w&(S^y))+A[15]+1236535329&4294967295,I=w+(D<<22&4294967295|D>>>10),D=y+(w^S&(I^w))+A[1]+4129170786&4294967295,y=I+(D<<5&4294967295|D>>>27),D=S+(I^w&(y^I))+A[6]+3225465664&4294967295,S=y+(D<<9&4294967295|D>>>23),D=w+(y^I&(S^y))+A[11]+643717713&4294967295,w=S+(D<<14&4294967295|D>>>18),D=I+(S^y&(w^S))+A[0]+3921069994&4294967295,I=w+(D<<20&4294967295|D>>>12),D=y+(w^S&(I^w))+A[5]+3593408605&4294967295,y=I+(D<<5&4294967295|D>>>27),D=S+(I^w&(y^I))+A[10]+38016083&4294967295,S=y+(D<<9&4294967295|D>>>23),D=w+(y^I&(S^y))+A[15]+3634488961&4294967295,w=S+(D<<14&4294967295|D>>>18),D=I+(S^y&(w^S))+A[4]+3889429448&4294967295,I=w+(D<<20&4294967295|D>>>12),D=y+(w^S&(I^w))+A[9]+568446438&4294967295,y=I+(D<<5&4294967295|D>>>27),D=S+(I^w&(y^I))+A[14]+3275163606&4294967295,S=y+(D<<9&4294967295|D>>>23),D=w+(y^I&(S^y))+A[3]+4107603335&4294967295,w=S+(D<<14&4294967295|D>>>18),D=I+(S^y&(w^S))+A[8]+1163531501&4294967295,I=w+(D<<20&4294967295|D>>>12),D=y+(w^S&(I^w))+A[13]+2850285829&4294967295,y=I+(D<<5&4294967295|D>>>27),D=S+(I^w&(y^I))+A[2]+4243563512&4294967295,S=y+(D<<9&4294967295|D>>>23),D=w+(y^I&(S^y))+A[7]+1735328473&4294967295,w=S+(D<<14&4294967295|D>>>18),D=I+(S^y&(w^S))+A[12]+2368359562&4294967295,I=w+(D<<20&4294967295|D>>>12),D=y+(I^w^S)+A[5]+4294588738&4294967295,y=I+(D<<4&4294967295|D>>>28),D=S+(y^I^w)+A[8]+2272392833&4294967295,S=y+(D<<11&4294967295|D>>>21),D=w+(S^y^I)+A[11]+1839030562&4294967295,w=S+(D<<16&4294967295|D>>>16),D=I+(w^S^y)+A[14]+4259657740&4294967295,I=w+(D<<23&4294967295|D>>>9),D=y+(I^w^S)+A[1]+2763975236&4294967295,y=I+(D<<4&4294967295|D>>>28),D=S+(y^I^w)+A[4]+1272893353&4294967295,S=y+(D<<11&4294967295|D>>>21),D=w+(S^y^I)+A[7]+4139469664&4294967295,w=S+(D<<16&4294967295|D>>>16),D=I+(w^S^y)+A[10]+3200236656&4294967295,I=w+(D<<23&4294967295|D>>>9),D=y+(I^w^S)+A[13]+681279174&4294967295,y=I+(D<<4&4294967295|D>>>28),D=S+(y^I^w)+A[0]+3936430074&4294967295,S=y+(D<<11&4294967295|D>>>21),D=w+(S^y^I)+A[3]+3572445317&4294967295,w=S+(D<<16&4294967295|D>>>16),D=I+(w^S^y)+A[6]+76029189&4294967295,I=w+(D<<23&4294967295|D>>>9),D=y+(I^w^S)+A[9]+3654602809&4294967295,y=I+(D<<4&4294967295|D>>>28),D=S+(y^I^w)+A[12]+3873151461&4294967295,S=y+(D<<11&4294967295|D>>>21),D=w+(S^y^I)+A[15]+530742520&4294967295,w=S+(D<<16&4294967295|D>>>16),D=I+(w^S^y)+A[2]+3299628645&4294967295,I=w+(D<<23&4294967295|D>>>9),D=y+(w^(I|~S))+A[0]+4096336452&4294967295,y=I+(D<<6&4294967295|D>>>26),D=S+(I^(y|~w))+A[7]+1126891415&4294967295,S=y+(D<<10&4294967295|D>>>22),D=w+(y^(S|~I))+A[14]+2878612391&4294967295,w=S+(D<<15&4294967295|D>>>17),D=I+(S^(w|~y))+A[5]+4237533241&4294967295,I=w+(D<<21&4294967295|D>>>11),D=y+(w^(I|~S))+A[12]+1700485571&4294967295,y=I+(D<<6&4294967295|D>>>26),D=S+(I^(y|~w))+A[3]+2399980690&4294967295,S=y+(D<<10&4294967295|D>>>22),D=w+(y^(S|~I))+A[10]+4293915773&4294967295,w=S+(D<<15&4294967295|D>>>17),D=I+(S^(w|~y))+A[1]+2240044497&4294967295,I=w+(D<<21&4294967295|D>>>11),D=y+(w^(I|~S))+A[8]+1873313359&4294967295,y=I+(D<<6&4294967295|D>>>26),D=S+(I^(y|~w))+A[15]+4264355552&4294967295,S=y+(D<<10&4294967295|D>>>22),D=w+(y^(S|~I))+A[6]+2734768916&4294967295,w=S+(D<<15&4294967295|D>>>17),D=I+(S^(w|~y))+A[13]+1309151649&4294967295,I=w+(D<<21&4294967295|D>>>11),D=y+(w^(I|~S))+A[4]+4149444226&4294967295,y=I+(D<<6&4294967295|D>>>26),D=S+(I^(y|~w))+A[11]+3174756917&4294967295,S=y+(D<<10&4294967295|D>>>22),D=w+(y^(S|~I))+A[2]+718787259&4294967295,w=S+(D<<15&4294967295|D>>>17),D=I+(S^(w|~y))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+y&4294967295,x.g[1]=x.g[1]+(w+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+w&4294967295,x.g[3]=x.g[3]+S&4294967295}r.prototype.u=function(x,y){y===void 0&&(y=x.length);for(var I=y-this.blockSize,A=this.B,w=this.h,S=0;S<y;){if(w==0)for(;S<=I;)i(this,x,S),S+=this.blockSize;if(typeof x=="string"){for(;S<y;)if(A[w++]=x.charCodeAt(S++),w==this.blockSize){i(this,A),w=0;break}}else for(;S<y;)if(A[w++]=x[S++],w==this.blockSize){i(this,A),w=0;break}}this.h=w,this.o+=y},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var y=1;y<x.length-8;++y)x[y]=0;var I=8*this.o;for(y=x.length-8;y<x.length;++y)x[y]=I&255,I/=256;for(this.u(x),x=Array(16),y=I=0;4>y;++y)for(var A=0;32>A;A+=8)x[I++]=this.g[y]>>>A&255;return x};function o(x,y){var I=a;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=y(x)}function s(x,y){this.h=y;for(var I=[],A=!0,w=x.length-1;0<=w;w--){var S=x[w]|0;A&&S==y||(I[w]=S,A=!1)}this.g=I}var a={};function c(x){return-128<=x&&128>x?o(x,function(y){return new s([y|0],0>y?-1:0)}):new s([x|0],0>x?-1:0)}function l(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return b(l(-x));for(var y=[],I=1,A=0;x>=I;A++)y[A]=x/I|0,I*=4294967296;return new s(y,0)}function d(x,y){if(x.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(x.charAt(0)=="-")return b(d(x.substring(1),y));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(y,8)),A=h,w=0;w<x.length;w+=8){var S=Math.min(8,x.length-w),D=parseInt(x.substring(w,w+S),y);8>S?(S=l(Math.pow(y,S)),A=A.j(S).add(l(D))):(A=A.j(I),A=A.add(l(D)))}return A}var h=c(0),p=c(1),m=c(16777216);t=s.prototype,t.m=function(){if(T(this))return-b(this).m();for(var x=0,y=1,I=0;I<this.g.length;I++){var A=this.i(I);x+=(0<=A?A:4294967296+A)*y,y*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(v(this))return"0";if(T(this))return"-"+b(this).toString(x);for(var y=l(Math.pow(x,6)),I=this,A="";;){var w=N(I,y).g;I=E(I,w.j(y));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=w,v(I))return S+A;for(;6>S.length;)S="0"+S;A=S+A}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function v(x){if(x.h!=0)return!1;for(var y=0;y<x.g.length;y++)if(x.g[y]!=0)return!1;return!0}function T(x){return x.h==-1}t.l=function(x){return x=E(this,x),T(x)?-1:v(x)?0:1};function b(x){for(var y=x.g.length,I=[],A=0;A<y;A++)I[A]=~x.g[A];return new s(I,~x.h).add(p)}t.abs=function(){return T(this)?b(this):this},t.add=function(x){for(var y=Math.max(this.g.length,x.g.length),I=[],A=0,w=0;w<=y;w++){var S=A+(this.i(w)&65535)+(x.i(w)&65535),D=(S>>>16)+(this.i(w)>>>16)+(x.i(w)>>>16);A=D>>>16,S&=65535,D&=65535,I[w]=D<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function E(x,y){return x.add(b(y))}t.j=function(x){if(v(this)||v(x))return h;if(T(this))return T(x)?b(this).j(b(x)):b(b(this).j(x));if(T(x))return b(this.j(b(x)));if(0>this.l(m)&&0>x.l(m))return l(this.m()*x.m());for(var y=this.g.length+x.g.length,I=[],A=0;A<2*y;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var w=0;w<x.g.length;w++){var S=this.i(A)>>>16,D=this.i(A)&65535,B=x.i(w)>>>16,J=x.i(w)&65535;I[2*A+2*w]+=D*J,C(I,2*A+2*w),I[2*A+2*w+1]+=S*J,C(I,2*A+2*w+1),I[2*A+2*w+1]+=D*B,C(I,2*A+2*w+1),I[2*A+2*w+2]+=S*B,C(I,2*A+2*w+2)}for(A=0;A<y;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=y;A<2*y;A++)I[A]=0;return new s(I,0)};function C(x,y){for(;(x[y]&65535)!=x[y];)x[y+1]+=x[y]>>>16,x[y]&=65535,y++}function R(x,y){this.g=x,this.h=y}function N(x,y){if(v(y))throw Error("division by zero");if(v(x))return new R(h,h);if(T(x))return y=N(b(x),y),new R(b(y.g),b(y.h));if(T(y))return y=N(x,b(y)),new R(b(y.g),y.h);if(30<x.g.length){if(T(x)||T(y))throw Error("slowDivide_ only works with positive integers.");for(var I=p,A=y;0>=A.l(x);)I=k(I),A=k(A);var w=P(I,1),S=P(A,1);for(A=P(A,2),I=P(I,2);!v(A);){var D=S.add(A);0>=D.l(x)&&(w=w.add(I),S=D),A=P(A,1),I=P(I,1)}return y=E(x,w.j(y)),new R(w,y)}for(w=h;0<=x.l(y);){for(I=Math.max(1,Math.floor(x.m()/y.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),S=l(I),D=S.j(y);T(D)||0<D.l(x);)I-=A,S=l(I),D=S.j(y);v(S)&&(S=p),w=w.add(S),x=E(x,D)}return new R(w,x)}t.A=function(x){return N(this,x).h},t.and=function(x){for(var y=Math.max(this.g.length,x.g.length),I=[],A=0;A<y;A++)I[A]=this.i(A)&x.i(A);return new s(I,this.h&x.h)},t.or=function(x){for(var y=Math.max(this.g.length,x.g.length),I=[],A=0;A<y;A++)I[A]=this.i(A)|x.i(A);return new s(I,this.h|x.h)},t.xor=function(x){for(var y=Math.max(this.g.length,x.g.length),I=[],A=0;A<y;A++)I[A]=this.i(A)^x.i(A);return new s(I,this.h^x.h)};function k(x){for(var y=x.g.length+1,I=[],A=0;A<y;A++)I[A]=x.i(A)<<1|x.i(A-1)>>>31;return new s(I,x.h)}function P(x,y){var I=y>>5;y%=32;for(var A=x.g.length-I,w=[],S=0;S<A;S++)w[S]=0<y?x.i(S+I)>>>y|x.i(S+I+1)<<32-y:x.i(S+I);return new s(w,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Xv=mT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=d,_r=mT.Integer=s}).apply(typeof gT<"u"?gT:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Er={};var ey,A4,ks,ty,au,zf,ny,ry,iy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var _=0;_<u.length-1;_++){var M=u[_];if(!(M in g))break e;g=g[M]}u=u[u.length-1],_=g[u],f=f(_),f!=_&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function o(u,f){u instanceof String&&(u+="");var g=0,_=!1,M={next:function(){if(!_&&g<u.length){var F=g++;return{value:f(F,u[F]),done:!1}}return _=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(u){return u||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function l(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,g){return u.call.apply(u.bind,arguments)}function h(u,f,g){if(!u)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,_),u.apply(f,M)}}return function(){return u.apply(f,arguments)}}function p(u,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),u.apply(this,_)}}function v(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(_,M,F){for(var G=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)G[Me-2]=arguments[Me];return f.prototype[M].apply(_,G)}}function T(u){let f=u.length;if(0<f){let g=Array(f);for(let _=0;_<f;_++)g[_]=u[_];return g}return[]}function b(u,f){for(let g=1;g<arguments.length;g++){let _=arguments[g];if(c(_)){let M=u.length||0,F=_.length||0;u.length=M+F;for(let G=0;G<F;G++)u[M+G]=_[G]}else u.push(_)}}class E{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function C(u){return/^[\s\xa0]*$/.test(u)}function R(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var k=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function P(u,f,g){for(let _ in u)f.call(g,u[_],_,u)}function x(u,f){for(let g in u)f.call(void 0,u[g],g,u)}function y(u){let f={};for(let g in u)f[g]=u[g];return f}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,f){let g,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(g in _)u[g]=_[g];for(let F=0;F<I.length;F++)g=I[F],Object.prototype.hasOwnProperty.call(_,g)&&(u[g]=_[g])}}function w(u){var f=1;u=u.split(":");let g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function S(u){a.setTimeout(()=>{throw u},0)}function D(){var u=L;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class B{constructor(){this.h=this.g=null}add(f,g){let _=J.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}}var J=new E(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let te,le=!1,L=new B,j=()=>{let u=a.Promise.resolve(void 0);te=()=>{u.then($)}};var $=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(g){S(g)}var f=J;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}le=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u})();function Ke(u,f){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,_=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(k){e:{try{N(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ke.aa.h.call(this)}}v(Ke,de);var pe={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dn="closure_listenable_"+(1e6*Math.random()|0),Ar=0;function ha(u,f,g,_,M){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=M,this.key=++Ar,this.da=this.fa=!1}function Sn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function It(u){this.src=u,this.g={},this.h=0}It.prototype.add=function(u,f,g,_,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var G=Sr(u,f,_,M);return-1<G?(f=u[G],g||(f.fa=!1)):(f=new ha(f,this.src,F,!!_,M),f.fa=g,u.push(f)),f};function pt(u,f){var g=f.type;if(g in u.g){var _=u.g[g],M=Array.prototype.indexOf.call(_,f,void 0),F;(F=0<=M)&&Array.prototype.splice.call(_,M,1),F&&(Sn(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Sr(u,f,g,_){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==f&&F.capture==!!g&&F.ha==_)return M}return-1}var Wn="closure_lm_"+(1e6*Math.random()|0),Rr={};function Nr(u,f,g,_,M){if(_&&_.once)return Ft(u,f,g,_,M);if(Array.isArray(f)){for(var F=0;F<f.length;F++)Nr(u,f[F],g,_,M);return null}return g=pa(g),u&&u[dn]?u.K(f,g,l(_)?!!_.capture:!!_,M):Do(u,f,g,!1,_,M)}function Do(u,f,g,_,M,F){if(!f)throw Error("Invalid event type");var G=l(M)?!!M.capture:!!M,Me=Rn(u);if(Me||(u[Wn]=Me=new It(u)),g=Me.add(f,g,_,G,F),g.proxy)return g;if(_=vi(),g.proxy=_,_.src=u,_.listener=g,u.addEventListener)Ne||(M=G),M===void 0&&(M=!1),u.addEventListener(f.toString(),_,M);else if(u.attachEvent)u.attachEvent(yi(f.toString()),_);else if(u.addListener&&u.removeListener)u.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return g}function vi(){function u(g){return f.call(u.src,u.listener,g)}let f=Vu;return u}function Ft(u,f,g,_,M){if(Array.isArray(f)){for(var F=0;F<f.length;F++)Ft(u,f[F],g,_,M);return null}return g=pa(g),u&&u[dn]?u.L(f,g,l(_)?!!_.capture:!!_,M):Do(u,f,g,!0,_,M)}function Rt(u,f,g,_,M){if(Array.isArray(f))for(var F=0;F<f.length;F++)Rt(u,f[F],g,_,M);else _=l(_)?!!_.capture:!!_,g=pa(g),u&&u[dn]?(u=u.i,f=String(f).toString(),f in u.g&&(F=u.g[f],g=Sr(F,g,_,M),-1<g&&(Sn(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete u.g[f],u.h--)))):u&&(u=Rn(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Sr(f,g,_,M)),(g=-1<u?f[u]:null)&&Jt(g))}function Jt(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[dn])pt(f.i,u);else{var g=u.type,_=u.proxy;f.removeEventListener?f.removeEventListener(g,_,u.capture):f.detachEvent?f.detachEvent(yi(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=Rn(f))?(pt(g,u),g.h==0&&(g.src=null,f[Wn]=null)):Sn(u)}}}function yi(u){return u in Rr?Rr[u]:Rr[u]="on"+u}function Vu(u,f){if(u.da)u=!0;else{f=new Ke(f,this);var g=u.listener,_=u.ha||u.src;u.fa&&Jt(u),u=g.call(_,f)}return u}function Rn(u){return u=u[Wn],u instanceof It?u:null}var Kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pa(u){return typeof u=="function"?u:(u[Kn]||(u[Kn]=function(f){return u.handleEvent(f)}),u[Kn])}function tt(){V.call(this),this.i=new It(this),this.M=this,this.F=null}v(tt,V),tt.prototype[dn]=!0,tt.prototype.removeEventListener=function(u,f,g,_){Rt(this,u,f,g,_)};function ct(u,f){var g,_=u.F;if(_)for(g=[];_;_=_.F)g.push(_);if(u=u.M,_=f.type||f,typeof f=="string")f=new de(f,u);else if(f instanceof de)f.target=f.target||u;else{var M=f;f=new de(_,u),A(f,M)}if(M=!0,g)for(var F=g.length-1;0<=F;F--){var G=f.g=g[F];M=fn(G,_,!0,f)&&M}if(G=f.g=u,M=fn(G,_,!0,f)&&M,M=fn(G,_,!1,f)&&M,g)for(F=0;F<g.length;F++)G=f.g=g[F],M=fn(G,_,!1,f)&&M}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],_=0;_<g.length;_++)Sn(g[_]);delete u.g[f],u.h--}}this.F=null},tt.prototype.K=function(u,f,g,_){return this.i.add(String(u),f,!1,g,_)},tt.prototype.L=function(u,f,g,_){return this.i.add(String(u),f,!0,g,_)};function fn(u,f,g,_){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,F=0;F<f.length;++F){var G=f[F];if(G&&!G.da&&G.capture==g){var Me=G.listener,gt=G.ha||G.src;G.fa&&pt(u.i,G),M=Me.call(gt,_)!==!1&&M}}return M&&!_.defaultPrevented}function Mr(u,f,g){if(typeof u=="function")g&&(u=p(u,g));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Bu(u){u.g=Mr(()=>{u.g=null,u.i&&(u.i=!1,Bu(u))},u.l);let f=u.h;u.h=null,u.m.apply(null,f)}class ju extends V{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Bu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){V.call(this),this.h=u,this.g={}}v(Pr,V);var Uu=[];function Hu(u){P(u.g,function(f,g){this.g.hasOwnProperty(g)&&Jt(f)},u),u.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),Hu(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Co=a.JSON.stringify,Np=a.JSON.parse,$u=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ga(){}ga.prototype.h=null;function ma(u){return u.h||(u.h=u.i())}function qu(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function va(){de.call(this,"d")}v(va,de);function xo(){de.call(this,"c")}v(xo,de);var Qn={},zu=null;function Ei(){return zu=zu||new tt}Qn.La="serverreachability";function Gu(u){de.call(this,Qn.La,u)}v(Gu,de);function kr(u){let f=Ei();ct(f,new Gu(f))}Qn.STAT_EVENT="statevent";function wt(u,f){de.call(this,Qn.STAT_EVENT,u),this.stat=f}v(wt,de);function Le(u){let f=Ei();ct(f,new wt(f,u))}Qn.Ma="timingevent";function ya(u,f){de.call(this,Qn.Ma,u),this.size=f}v(ya,de);function Ii(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function _a(){this.g=!0}_a.prototype.xa=function(){this.g=!1};function gR(u,f,g,_,M,F){u.info(function(){if(u.g)if(F)for(var G="",Me=F.split("&"),gt=0;gt<Me.length;gt++){var Te=Me[gt].split("=");if(1<Te.length){var Dt=Te[0];Te=Te[1];var Ct=Dt.split("_");G=2<=Ct.length&&Ct[1]=="type"?G+(Dt+"="+Te+"&"):G+(Dt+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+f+`
`+g+`
`+G})}function mR(u,f,g,_,M,F,G){u.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+f+`
`+g+`
`+F+" "+G})}function bo(u,f,g,_){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+yR(u,g)+(_?" "+_:"")})}function vR(u,f){u.info(function(){return"TIMEOUT: "+f})}_a.prototype.info=function(){};function yR(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var _=g[u];if(!(2>_.length)){var M=_[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return Co(g)}catch{return f}}var Wu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ME={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mp;function Ku(){}v(Ku,ga),Ku.prototype.g=function(){return new XMLHttpRequest},Ku.prototype.i=function(){return{}},Mp=new Ku;function Or(u,f,g,_){this.j=u,this.i=f,this.l=g,this.R=_||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new PE}function PE(){this.i=null,this.g="",this.h=!1}var kE={},Pp={};function kp(u,f,g){u.L=1,u.v=Ju(Yn(f)),u.m=g,u.P=!0,OE(u,null)}function OE(u,f){u.F=Date.now(),Qu(u),u.A=Yn(u.v);var g=u.A,_=u.R;Array.isArray(_)||(_=[String(_)]),QE(g.i,"t",_),u.C=0,g=u.j.J,u.h=new PE,u.g=hI(u.j,g?f:null,!u.m),0<u.O&&(u.M=new ju(p(u.Y,u,u.g),u.O)),f=u.U,g=u.g,_=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Uu[0]=M.toString()),M=Uu);for(var F=0;F<M.length;F++){var G=Nr(g,M[F],_||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),kr(),gR(u.i,u.u,u.A,u.l,u.R,u.m)}Or.prototype.ca=function(u){u=u.target;let f=this.M;f&&Zn(u)==3?f.j():this.Y(u)},Or.prototype.Y=function(u){try{if(u==this.g)e:{let Ct=Zn(this.g);var f=this.g.Ba();let So=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||nI(this.g)))){this.J||Ct!=4||f==7||(f==8||0>=So?kr(3):kr(2)),Op(this);var g=this.g.Z();this.X=g;t:if(FE(this)){var _=nI(this.g);u="";var M=_.length,F=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),Ea(this);var G="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,u+=this.h.i.decode(_[f],{stream:!(F&&f==M-1)});_.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,mR(this.i,this.u,this.A,this.l,this.R,Ct,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,gt=this.g;if((Me=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Me)){var Te=Me;break t}}Te=null}if(g=Te)bo(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fp(this,g);else{this.o=!1,this.s=3,Le(12),wi(this),Ea(this);break e}}if(this.P){g=!0;let hn;for(;!this.J&&this.C<G.length;)if(hn=_R(this,G),hn==Pp){Ct==4&&(this.s=4,Le(14),g=!1),bo(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==kE){this.s=4,Le(15),bo(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else bo(this.i,this.l,hn,null),Fp(this,hn);if(FE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||G.length!=0||this.h.h||(this.s=1,Le(16),g=!1),this.o=this.o&&g,!g)bo(this.i,this.l,G,"[Invalid Chunked Response]"),wi(this),Ea(this);else if(0<G.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Hp(Dt),Dt.M=!0,Le(11))}}else bo(this.i,this.l,G,null),Fp(this,G);Ct==4&&wi(this),this.o&&!this.J&&(Ct==4?uI(this.j,this):(this.o=!1,Qu(this)))}else FR(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),wi(this),Ea(this)}}}catch{}finally{}};function FE(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _R(u,f){var g=u.C,_=f.indexOf(`
`,g);return _==-1?Pp:(g=Number(f.substring(g,_)),isNaN(g)?kE:(_+=1,_+g>f.length?Pp:(f=f.slice(_,_+g),u.C=_+g,f)))}Or.prototype.cancel=function(){this.J=!0,wi(this)};function Qu(u){u.S=Date.now()+u.I,LE(u,u.I)}function LE(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ii(p(u.ba,u),f)}function Op(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Or.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(vR(this.i,this.A),this.L!=2&&(kr(),Le(17)),wi(this),this.s=2,Ea(this)):LE(this,this.S-u)};function Ea(u){u.j.G==0||u.J||uI(u.j,u)}function wi(u){Op(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Hu(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Fp(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||Lp(g.h,u))){if(!u.K&&Lp(g.h,u)&&g.G==3){try{var _=g.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)rl(g),tl(g);else break e;Up(g),Le(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ii(p(g.Za,g),6e3));if(1>=jE(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ci(g,11)}else if((u.K||g.g==u)&&rl(g),!C(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let Te=M[f];if(g.T=Te[0],Te=Te[1],g.G==2)if(Te[0]=="c"){g.K=Te[1],g.ia=Te[2];let Dt=Te[3];Dt!=null&&(g.la=Dt,g.j.info("VER="+g.la));let Ct=Te[4];Ct!=null&&(g.Aa=Ct,g.j.info("SVER="+g.Aa));let So=Te[5];So!=null&&typeof So=="number"&&0<So&&(_=1.5*So,g.L=_,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;let hn=u.g;if(hn){let ol=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ol){var F=_.h;F.g||ol.indexOf("spdy")==-1&&ol.indexOf("quic")==-1&&ol.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Vp(F,F.h),F.h=null))}if(_.D){let $p=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;$p&&(_.ya=$p,Oe(_.I,_.D,$p))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),_=g;var G=u;if(_.qa=fI(_,_.J?_.ia:null,_.W),G.K){UE(_.h,G);var Me=G,gt=_.L;gt&&(Me.I=gt),Me.B&&(Op(Me),Qu(Me)),_.g=G}else aI(_);0<g.i.length&&nl(g)}else Te[0]!="stop"&&Te[0]!="close"||Ci(g,7);else g.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Ci(g,7):jp(g):Te[0]!="noop"&&g.l&&g.l.ta(Te),g.v=0)}}kr(4)}catch{}}var ER=class{constructor(u,f){this.g=u,this.map=f}};function VE(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function BE(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function jE(u){return u.h?1:u.g?u.g.size:0}function Lp(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Vp(u,f){u.g?u.g.add(f):u.h=f}function UE(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}VE.prototype.cancel=function(){if(this.i=HE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function HE(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(let g of u.g.values())f=f.concat(g.D);return f}return T(u.i)}function IR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],g=u.length,_=0;_<g;_++)f.push(u[_]);return f}f=[],g=0;for(_ in u)f[g++]=u[_];return f}function wR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(let _ in u)f[g++]=_;return f}}}function $E(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=wR(u),_=IR(u),M=_.length,F=0;F<M;F++)f.call(void 0,_[F],g&&g[F],u)}var qE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DR(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var _=u[g].indexOf("="),M=null;if(0<=_){var F=u[g].substring(0,_);M=u[g].substring(_+1)}else F=u[g];f(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Di(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Di){this.h=u.h,Yu(this,u.j),this.o=u.o,this.g=u.g,Zu(this,u.s),this.l=u.l;var f=u.i,g=new Da;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),zE(this,g),this.m=u.m}else u&&(f=String(u).match(qE))?(this.h=!1,Yu(this,f[1]||"",!0),this.o=Ia(f[2]||""),this.g=Ia(f[3]||"",!0),Zu(this,f[4]),this.l=Ia(f[5]||"",!0),zE(this,f[6]||"",!0),this.m=Ia(f[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}Di.prototype.toString=function(){var u=[],f=this.j;f&&u.push(wa(f,GE,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(wa(f,GE,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(wa(g,g.charAt(0)=="/"?bR:xR,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",wa(g,AR)),u.join("")};function Yn(u){return new Di(u)}function Yu(u,f,g){u.j=g?Ia(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Zu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function zE(u,f,g){f instanceof Da?(u.i=f,SR(u.i,u.h)):(g||(f=wa(f,TR)),u.i=new Da(f,u.h))}function Oe(u,f,g){u.i.set(f,g)}function Ju(u){return Oe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ia(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wa(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,CR),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function CR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var GE=/[#\/\?@]/g,xR=/[#\?:]/g,bR=/[#\?]/g,TR=/[#\?@]/g,AR=/#/g;function Da(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Fr(u){u.g||(u.g=new Map,u.h=0,u.i&&DR(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Da.prototype,t.add=function(u,f){Fr(this),this.i=null,u=To(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function WE(u,f){Fr(u),f=To(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function KE(u,f){return Fr(u),f=To(u,f),u.g.has(f)}t.forEach=function(u,f){Fr(this),this.g.forEach(function(g,_){g.forEach(function(M){u.call(f,M,_,this)},this)},this)},t.na=function(){Fr(this);let u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let _=0;_<f.length;_++){let M=u[_];for(let F=0;F<M.length;F++)g.push(f[_])}return g},t.V=function(u){Fr(this);let f=[];if(typeof u=="string")KE(this,u)&&(f=f.concat(this.g.get(To(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},t.set=function(u,f){return Fr(this),this.i=null,u=To(this,u),KE(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function QE(u,f,g){WE(u,f),0<g.length&&(u.i=null,u.g.set(To(u,f),T(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var _=f[g];let F=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var M=F;G[_]!==""&&(M+="="+encodeURIComponent(String(G[_]))),u.push(M)}}return this.i=u.join("&")};function To(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function SR(u,f){f&&!u.j&&(Fr(u),u.i=null,u.g.forEach(function(g,_){var M=_.toLowerCase();_!=M&&(WE(this,_),QE(this,M,g))},u)),u.j=f}function RR(u,f){let g=new _a;if(a.Image){let _=new Image;_.onload=m(Lr,g,"TestLoadImage: loaded",!0,f,_),_.onerror=m(Lr,g,"TestLoadImage: error",!1,f,_),_.onabort=m(Lr,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=m(Lr,g,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=u}else f(!1)}function NR(u,f){let g=new _a,_=new AbortController,M=setTimeout(()=>{_.abort(),Lr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:_.signal}).then(F=>{clearTimeout(M),F.ok?Lr(g,"TestPingServer: ok",!0,f):Lr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Lr(g,"TestPingServer: error",!1,f)})}function Lr(u,f,g,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(g)}catch{}}function MR(){this.g=new $u}function PR(u,f,g){let _=g||"";try{$E(u,function(M,F){let G=M;l(M)&&(G=Co(M)),f.push(_+F+"="+encodeURIComponent(G))})}catch(M){throw f.push(_+"type="+encodeURIComponent("_badmap")),M}}function Ca(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Ca,ga),Ca.prototype.g=function(){return new Xu(this.l,this.j)},Ca.prototype.i=(function(u){return function(){return u}})({});function Xu(u,f){tt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Xu,tt),t=Xu.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,ba(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;YE(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function YE(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?xa(this):ba(this),this.readyState==3&&YE(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,xa(this))},t.Qa=function(u){this.g&&(this.response=u,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ba(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function ba(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ZE(u){let f="";return P(u,function(g,_){f+=_,f+=":",f+=g,f+=`\r
`}),f}function Bp(u,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=ZE(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Oe(u,f,g))}function Ue(u){tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ue,tt);var kR=/^https?$/i,OR=["POST","PUT"];t=Ue.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mp.g(),this.v=this.o?ma(this.o):ma(Mp),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(F){JE(this,F);return}if(u=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)g.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let F of _.keys())g.set(F,_.get(F));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(OR,f,void 0))||_||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,G]of g)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tI(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){JE(this,F)}};function JE(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,XE(u),el(u)}function XE(u){u.A||(u.A=!0,ct(u,"complete"),ct(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ct(this,"complete"),ct(this,"abort"),el(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),el(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eI(this):this.bb())},t.bb=function(){eI(this)};function eI(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Zn(u)!=4||u.Z()!=2)){if(u.u&&Zn(u)==4)Mr(u.Ea,0,u);else if(ct(u,"readystatechange"),Zn(u)==4){u.h=!1;try{let G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=G===0){var M=String(u.D).match(qE)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),_=!kR.test(M?M.toLowerCase():"")}g=_}if(g)ct(u,"complete"),ct(u,"success");else{u.m=6;try{var F=2<Zn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",XE(u)}}finally{el(u)}}}}function el(u,f){if(u.g){tI(u);let g=u.g,_=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||ct(u,"ready");try{g.onreadystatechange=_}catch{}}}function tI(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Np(f)}};function nI(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function FR(u){let f={};u=(u.g&&2<=Zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<u.length;_++){if(C(u[_]))continue;var g=w(u[_]);let M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let F=f[M]||[];f[M]=F,F.push(g)}x(f,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function rI(u){this.Aa=0,this.i=[],this.j=new _a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,u),this.cb=Ta("retryDelaySeedMs",1e4,u),this.Wa=Ta("forwardChannelMaxRetries",2,u),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new VE(u&&u.concurrentRequestLimit),this.Da=new MR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rI.prototype,t.la=8,t.G=1,t.connect=function(u,f,g,_){Le(0),this.W=u,this.H=f||{},g&&_!==void 0&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=fI(this,null,this.W),nl(this)};function jp(u){if(iI(u),u.G==3){var f=u.U++,g=Yn(u.I);if(Oe(g,"SID",u.K),Oe(g,"RID",f),Oe(g,"TYPE","terminate"),Aa(u,g),f=new Or(u,u.j,f),f.L=2,f.v=Ju(Yn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=hI(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Qu(f)}dI(u)}function tl(u){u.g&&(Hp(u),u.g.cancel(),u.g=null)}function iI(u){tl(u),u.u&&(a.clearTimeout(u.u),u.u=null),rl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function nl(u){if(!BE(u.h)&&!u.s){u.s=!0;var f=u.Ga;te||j(),le||(te(),le=!0),L.add(f,u),u.B=0}}function LR(u,f){return jE(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ii(p(u.Ga,u,f),lI(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let M=new Or(this,this.j,u),F=this.o;if(this.S&&(F?(F=y(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var _=this.i[g];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=sI(this,M,f),g=Yn(this.I),Oe(g,"RID",u),Oe(g,"CVER",22),this.D&&Oe(g,"X-HTTP-Session-Id",this.D),Aa(this,g),F&&(this.O?f="headers="+encodeURIComponent(String(ZE(F)))+"&"+f:this.m&&Bp(g,this.m,F)),Vp(this.h,M),this.Ua&&Oe(g,"TYPE","init"),this.P?(Oe(g,"$req",f),Oe(g,"SID","null"),M.T=!0,kp(M,g,null)):kp(M,g,f),this.G=2}}else this.G==3&&(u?oI(this,u):this.i.length==0||BE(this.h)||oI(this))};function oI(u,f){var g;f?g=f.l:g=u.U++;let _=Yn(u.I);Oe(_,"SID",u.K),Oe(_,"RID",g),Oe(_,"AID",u.T),Aa(u,_),u.m&&u.o&&Bp(_,u.m,u.o),g=new Or(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=sI(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Vp(u.h,g),kp(g,_,f)}function Aa(u,f){u.H&&P(u.H,function(g,_){Oe(f,_,g)}),u.l&&$E({},function(g,_){Oe(f,_,g)})}function sI(u,f,g){g=Math.min(u.i.length,g);var _=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){let G=["count="+g];F==-1?0<g?(F=M[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Me=!0;for(let gt=0;gt<g;gt++){let Te=M[gt].g,Dt=M[gt].map;if(Te-=F,0>Te)F=Math.max(0,M[gt].g-100),Me=!1;else try{PR(Dt,G,"req"+Te+"_")}catch{_&&_(Dt)}}if(Me){_=G.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,_}function aI(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;te||j(),le||(te(),le=!0),L.add(f,u),u.v=0}}function Up(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ii(p(u.Fa,u),lI(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,cI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ii(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),tl(this),cI(this))};function Hp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function cI(u){u.g=new Or(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Yn(u.qa);Oe(f,"RID","rpc"),Oe(f,"SID",u.K),Oe(f,"AID",u.T),Oe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Oe(f,"TO",u.ja),Oe(f,"TYPE","xmlhttp"),Aa(u,f),u.m&&u.o&&Bp(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Ju(Yn(f)),g.m=null,g.P=!0,OE(g,u)}t.Za=function(){this.C!=null&&(this.C=null,tl(this),Up(this),Le(19))};function rl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function uI(u,f){var g=null;if(u.g==f){rl(u),Hp(u),u.g=null;var _=2}else if(Lp(u.h,f))g=f.D,UE(u.h,f),_=1;else return;if(u.G!=0){if(f.o)if(_==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=u.B;_=Ei(),ct(_,new ya(_,g)),nl(u)}else aI(u);else if(M=f.s,M==3||M==0&&0<f.X||!(_==1&&LR(u,f)||_==2&&Up(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),M){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function lI(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function Ci(u,f){if(u.j.info("Error code "+f),f==2){var g=p(u.fb,u),_=u.Xa;let M=!_;_=new Di(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yu(_,"https"),Ju(_),M?RR(_.toString(),g):NR(_.toString(),g)}else Le(2);u.G=0,u.l&&u.l.sa(f),dI(u),iI(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function dI(u){if(u.G=0,u.ka=[],u.l){let f=HE(u.h);(f.length!=0||u.i.length!=0)&&(b(u.ka,f),b(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function fI(u,f,g){var _=g instanceof Di?Yn(g):new Di(g);if(_.g!="")f&&(_.g=f+"."+_.g),Zu(_,_.s);else{var M=a.location;_=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var F=new Di(null);_&&Yu(F,_),f&&(F.g=f),M&&Zu(F,M),g&&(F.l=g),_=F}return g=u.D,f=u.ya,g&&f&&Oe(_,g,f),Oe(_,"VER",u.la),Aa(u,_),_}function hI(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Ue(new Ca({eb:g})):new Ue(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pI(){}t=pI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function il(){}il.prototype.g=function(u,f){return new jt(u,f)};function jt(u,f){tt.call(this),this.g=new rI(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!C(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!C(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Ao(this)}v(jt,tt),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){jp(this.g)},jt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Co(u),u=g);f.i.push(new ER(f.Ya++,u)),f.G==3&&nl(f)},jt.prototype.N=function(){this.g.l=null,delete this.j,jp(this.g),delete this.g,jt.aa.N.call(this)};function gI(u){va.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(let g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}v(gI,va);function mI(){xo.call(this),this.status=1}v(mI,xo);function Ao(u){this.g=u}v(Ao,pI),Ao.prototype.ua=function(){ct(this.g,"a")},Ao.prototype.ta=function(u){ct(this.g,new gI(u))},Ao.prototype.sa=function(u){ct(this.g,new mI)},Ao.prototype.ra=function(){ct(this.g,"b")},il.prototype.createWebChannel=il.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,iy=Er.createWebChannelTransport=function(){return new il},ry=Er.getStatEventTarget=function(){return Ei()},ny=Er.Event=Qn,zf=Er.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wu.NO_ERROR=0,Wu.TIMEOUT=8,Wu.HTTP_ERROR=6,au=Er.ErrorCode=Wu,ME.COMPLETE="complete",ty=Er.EventType=ME,qu.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",tt.prototype.listen=tt.prototype.K,ks=Er.WebChannel=qu,A4=Er.FetchXmlHttpFactory=Ca,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,ey=Er.XhrIo=Ue}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});var vT="@firebase/firestore",yT="4.8.0";var ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");var sa="11.10.0";var _o=new Hn("@firebase/firestore");function Os(){return _o.logLevel}function W(t,...e){if(_o.logLevel<=ye.DEBUG){let n=e.map(W_);_o.debug(`Firestore (${sa}): ${t}`,...n)}}function Dr(t,...e){if(_o.logLevel<=ye.ERROR){let n=e.map(W_);_o.error(`Firestore (${sa}): ${t}`,...n)}}function li(t,...e){if(_o.logLevel<=ye.WARN){let n=e.map(W_);_o.warn(`Firestore (${sa}): ${t}`,...n)}}function W_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uA(t,r,n)}function uA(t,e,n){let r=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Dr(r),new Error(r)}function je(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||uA(e,i,r)}function xe(t,e){return t}var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends an{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var wr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Zf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ly=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}},dy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},fy=class{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>O(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new Zf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new ft(e)}},hy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},py=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new hy(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gy=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function S4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function lA(){return new TextEncoder}var Xf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=S4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function my(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return me(r,i);{let o=lA(),s=R4(o.encode(_T(t,n)),o.encode(_T(e,n)));return s!==0?s:me(r,i)}}n+=r>65535?2:1}return me(t.length,e.length)}function _T(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function R4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return me(t[n],e[n]);return me(t.length,e.length)}function Ws(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ET="__name__",eh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return me(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):my(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}},qe=class t extends eh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},N4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,un=class t extends eh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return N4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ET}static keyField(){return new t([ET])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new K(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ee=class t{constructor(e){this.path=e}static fromPath(e){return new t(qe.fromString(e))}static fromName(e){return new t(qe.fromString(e).popFirst(5))}static empty(){return new t(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new qe(e.slice()))}};function M4(t,e,n){if(!n)throw new K(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P4(t,e,n,r){if(e===!0&&r===!0)throw new K(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IT(t){if(ee.isDocumentKey(t))throw new K(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function vy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Th(t);throw new K(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function et(t,e){let n={typeString:t};return e&&(n.value=e),n}function Au(t,e){if(!dA(t))throw new K(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new K(q.INVALID_ARGUMENT,n);return!0}var wT=-62135596800,DT=1e6,st=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*DT);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wT)throw new K(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DT}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-wT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:et("string",st._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};var ue=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new st(0,0))}static max(){return new t(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var pu=-1,yy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};yy.UNKNOWN_ID=-1;function k4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Eo(i,ee.empty(),e)}function O4(t){return new Eo(t.readTime,t.key,pu)}var Eo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ue.min(),ee.empty(),pu)}static max(){return new t(ue.max(),ee.empty(),pu)}};function F4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var L4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_y=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ah(t){return O(this,null,function*(){if(t.code!==q.FAILED_PRECONDITION||t.message!==L4)throw t;W("LocalStore","Unexpectedly lost primary lease")})}var U=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function V4(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function aa(t){return t.name==="IndexedDbTransactionError"}var K_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),B4=-1;function Sh(t){return t==null}function gu(t){return t===0&&1/t==-1/0}function j4(t){return typeof t=="number"&&Number.isInteger(t)&&!gu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var fA="";function U4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CT(e)),e=H4(t.get(n),e);return CT(e)}function H4(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case fA:n+="";break;default:n+=o}}return n}function CT(t){return t+fA+""}var $4="remoteDocuments",hA="owner";var pA="mutationQueues";var gA="mutations";var mA="documentMutations",q4="remoteDocumentsV14";var vA="remoteDocumentGlobal";var yA="targets";var _A="targetDocuments";var EA="targetGlobal",IA="collectionParents";var wA="clientMetadata";var DA="bundles";var CA="namedQueries";var z4="indexConfiguration";var G4="indexState";var W4="indexEntries";var xA="documentOverlays";var K4="globals";var Q4=[pA,gA,mA,$4,yA,hA,EA,_A,wA,vA,IA,DA,CA],rre=[...Q4,xA],Y4=[pA,gA,mA,q4,yA,hA,EA,_A,wA,vA,IA,DA,CA,xA],Z4=Y4,J4=[...Z4,z4,G4,W4];var ire=[...J4,K4];function xT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ca(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var We=class t{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bs(this.root,e,this.comparator,!0)}},Bs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}};qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new th(this.data.getIterator())}getIteratorFrom(e){return new th(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},th=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mo=class t{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(un.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var nh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var St=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nh("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};St.EMPTY_BYTE_STRING=new St("");var X4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(t){if(je(!!t,39018),typeof t=="string"){let e=0,n=X4.exec(t);if(je(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}var TA="server_timestamp",AA="__type__",SA="__previous_value__",RA="__local_write_time__";function Q_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[AA])===null||n===void 0?void 0:n.stringValue)===TA}function Rh(t){let e=t.mapValue.fields[SA];return Q_(e)?Rh(e):e}function mu(t){let e=Cr(t.mapValue.fields[RA].timestampValue);return new st(e.seconds,e.nanos)}var Ey=class{constructor(e,n,r,i,o,s,a,c,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=d}},rh="(default)",ih=class t{constructor(e,n){this.projectId=e,this.database=n||rh}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Y_="__type__",NA="__max__",Gf={mapValue:{fields:{__type__:{stringValue:NA}}}},Z_="__vector__",Ks="value";function di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q_(t)?4:PA(t)?9007199254740991:MA(t)?10:11:re(28295,{value:t})}function Gn(t,e){if(t===e)return!0;let n=di(t);if(n!==di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mu(t).isEqual(mu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Cr(i.timestampValue),a=Cr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return xr(i.bytesValue).isEqual(xr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Be(i.geoPointValue.latitude)===Be(o.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Be(i.integerValue)===Be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Be(i.doubleValue),a=Be(o.doubleValue);return s===a?gu(s)===gu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xT(s)!==xT(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Gn(s[c],a[c])))return!1;return!0})(t,e);default:return re(52216,{left:t})}}function vu(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function Qs(t,e){if(t===e)return 0;let n=di(t),r=di(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Be(o.integerValue||o.doubleValue),c=Be(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return bT(t.timestampValue,e.timestampValue);case 4:return bT(mu(t),mu(e));case 5:return my(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=xr(o),c=xr(s);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=me(a[l],c[l]);if(d!==0)return d}return me(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=me(Be(o.latitude),Be(s.latitude));return a!==0?a:me(Be(o.longitude),Be(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TT(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,l,d;let h=o.fields||{},p=s.fields||{},m=(a=h[Ks])===null||a===void 0?void 0:a.arrayValue,v=(c=p[Ks])===null||c===void 0?void 0:c.arrayValue,T=me(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((d=v?.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:TT(m,v)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Gf.mapValue&&s===Gf.mapValue)return 0;if(o===Gf.mapValue)return 1;if(s===Gf.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){let p=my(c[h],d[h]);if(p!==0)return p;let m=Qs(a[c[h]],l[d[h]]);if(m!==0)return m}return me(c.length,d.length)})(t.mapValue,e.mapValue);default:throw re(23264,{le:n})}}function bT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=Cr(t),r=Cr(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function TT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Qs(n[i],r[i]);if(o)return o}return me(n.length,r.length)}function Ys(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Cr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return xr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Iy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Iy(n.fields[s])}`;return i+"}"})(t.mapValue):re(61005,{value:t})}function Qf(t){switch(di(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Rh(t);return e?16+Qf(e):16;case 5:return 2*t.stringValue.length;case 6:return xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Qf(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ca(r.fields,(o,s)=>{i+=o.length+Qf(s)}),i})(t.mapValue);default:throw re(13486,{value:t})}}function AT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wy(t){return!!t&&"integerValue"in t}function J_(t){return!!t&&"arrayValue"in t}function ST(t){return!!t&&"nullValue"in t}function RT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oy(t){return!!t&&"mapValue"in t}function MA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Y_])===null||n===void 0?void 0:n.stringValue)===Z_}function uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ca(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NA}var sre={mapValue:{fields:{[Y_]:{stringValue:Z_},[Ks]:{arrayValue:{}}}}};var Ir=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=un.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=uu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());oy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];oy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ca(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(uu(this.value))}};var Tn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ue.min(),ue.min(),ue.min(),Ir.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ue.min(),ue.min(),Ir.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ue.min(),ue.min(),Ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Zs=class{constructor(e,n){this.position=e,this.inclusive=n}};function NT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=Qs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function MT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}var Js=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function e8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var oh=class{},Xe=class t extends oh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cy(e,n,r):n==="array-contains"?new Ty(e,r):n==="in"?new Ay(e,r):n==="not-in"?new Sy(e,r):n==="array-contains-any"?new Ry(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xy(e,r):new by(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qs(n,this.value)):n!==null&&di(this.value)===di(n)&&this.matchesComparison(Qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},An=class t extends oh{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return kA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function kA(t){return t.op==="and"}function OA(t){return t8(t)&&kA(t)}function t8(t){for(let e of t.filters)if(e instanceof An)return!1;return!0}function Dy(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Ys(t.value);if(OA(t))return t.filters.map(e=>Dy(e)).join(",");{let e=t.filters.map(n=>Dy(n)).join(",");return`${t.op}(${e})`}}function FA(t,e){return t instanceof Xe?(function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)})(t,e):t instanceof An?(function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&FA(s,i.filters[a]),!0):!1})(t,e):void re(19439)}function LA(t){return t instanceof Xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ys(n.value)}`})(t):t instanceof An?(function(n){return n.op.toString()+" {"+n.getFilters().map(LA).join(" ,")+"}"})(t):"Filter"}var Cy=class extends Xe{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){let n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}},xy=class extends Xe{constructor(e,n){super(e,"in",n),this.keys=VA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},by=class extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=VA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function VA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}var Ty=class extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return J_(n)&&vu(n.arrayValue,this.value)}},Ay=class extends Xe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}},Sy=class extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}},Ry=class extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!J_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vu(this.value.arrayValue,r))}};var Ny=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function PT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Ny(t,e,n,r,i,o,s)}function X_(t){let e=xe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ys(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ys(r)).join(",")),e.Pe=n}return e.Pe}function eE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!e8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MT(t.startAt,e.startAt)&&MT(t.endAt,e.endAt)}function My(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Io=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function n8(t,e,n,r,i,o,s,a){return new Io(t,e,n,r,i,o,s,a)}function BA(t){return new Io(t)}function kT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jA(t){return t.collectionGroup!==null}function lu(t){let e=xe(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ht(un.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Js(o,r))}),n.has(un.keyField().canonicalString())||e.Te.push(new Js(un.keyField(),r))}return e.Te}function zn(t){let e=xe(t);return e.Ie||(e.Ie=r8(e,lu(t))),e.Ie}function r8(t,e){if(t.limitType==="F")return PT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Js(i.field,o)});let n=t.endAt?new Zs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zs(t.startAt.position,t.startAt.inclusive):null;return PT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Py(t,e){let n=t.filters.concat([e]);return new Io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ky(t,e,n){return new Io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nh(t,e){return eE(zn(t),zn(e))&&t.limitType===e.limitType}function UA(t){return`${X_(zn(t))}|lt:${t.limitType}`}function Fs(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LA(i)).join(", ")}]`),Sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ys(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ys(i)).join(",")),`Target(${r})`})(zn(t))}; limitType=${t.limitType})`}function Mh(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let l=NT(s,a,c);return s.inclusive?l<=0:l<0})(r.startAt,lu(r),i)||r.endAt&&!(function(s,a,c){let l=NT(s,a,c);return s.inclusive?l>=0:l>0})(r.endAt,lu(r),i))})(t,e)}function i8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HA(t){return(e,n)=>{let r=!1;for(let i of lu(t)){let o=o8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function o8(t,e,n){let r=t.field.isKeyField()?ee.comparator(e.key,n.key):(function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Qs(c,l):re(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}var br=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return bA(this.inner)}size(){return this.innerSize}};var s8=new We(ee.comparator);function fi(){return s8}var $A=new We(ee.comparator);function cu(...t){let e=$A;for(let n of t)e=e.insert(n.key,n);return e}function a8(t){let e=$A;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vo(){return du()}function qA(){return du()}function du(){return new br(t=>t.toString(),(t,e)=>t.isEqual(e))}var are=new We(ee.comparator),c8=new ht(ee.comparator);function be(...t){let e=c8;for(let n of t)e=e.add(n);return e}var u8=new ht(me);function l8(){return u8}function tE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gu(e)?"-0":e}}function zA(t){return{integerValue:""+t}}function d8(t,e){return j4(e)?zA(e):tE(t,e)}var Xs=class{constructor(){this._=void 0}};function f8(t,e,n){return t instanceof yu?(function(i,o){let s={fields:{[AA]:{stringValue:TA},[RA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Q_(o)&&(o=Rh(o)),o&&(s.fields[SA]=o),{mapValue:s}})(n,e):t instanceof ea?GA(t,e):t instanceof ta?WA(t,e):(function(i,o){let s=p8(i,o),a=OT(s)+OT(i.Ee);return wy(s)&&wy(i.Ee)?zA(a):tE(i.serializer,a)})(t,e)}function h8(t,e,n){return t instanceof ea?GA(t,e):t instanceof ta?WA(t,e):n}function p8(t,e){return t instanceof _u?(function(r){return wy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var yu=class extends Xs{},ea=class extends Xs{constructor(e){super(),this.elements=e}};function GA(t,e){let n=KA(e);for(let r of t.elements)n.some(i=>Gn(i,r))||n.push(r);return{arrayValue:{values:n}}}var ta=class extends Xs{constructor(e){super(),this.elements=e}};function WA(t,e){let n=KA(e);for(let r of t.elements)n=n.filter(i=>!Gn(i,r));return{arrayValue:{values:n}}}var _u=class extends Xs{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function OT(t){return Be(t.integerValue||t.doubleValue)}function KA(t){return J_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g8(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ea&&i instanceof ea||r instanceof ta&&i instanceof ta?Ws(r.elements,i.elements,Gn):r instanceof _u&&i instanceof _u?Gn(r.Ee,i.Ee):r instanceof yu&&i instanceof yu})(t.transform,e.transform)}var fu=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Eu=class{};function QA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Oy(t.key,fu.none()):new Iu(t.key,t.data,fu.none());{let n=t.data,r=Ir.empty(),i=new ht(un.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new na(t.key,r,new mo(i.toArray()),fu.none())}}function m8(t,e,n){t instanceof Iu?(function(i,o,s){let a=i.value.clone(),c=LT(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof na?(function(i,o,s){if(!Yf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=LT(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(YA(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function hu(t,e,n,r){return t instanceof Iu?(function(o,s,a,c){if(!Yf(o.precondition,s))return a;let l=o.value.clone(),d=VT(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof na?(function(o,s,a,c){if(!Yf(o.precondition,s))return a;let l=VT(o.fieldTransforms,c,s),d=s.data;return d.setAll(YA(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))})(t,e,n,r):(function(o,s,a){return Yf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function FT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ws(r,i,(o,s)=>g8(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Iu=class extends Eu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},na=class extends Eu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function YA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function LT(t,e,n){let r=new Map;je(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,h8(s,a,n[i]))}return r}function VT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,f8(o,s,e))}return r}var Oy=class extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Fy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&m8(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=qA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=QA(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,r)=>FT(n,r))&&Ws(this.baseMutations,e.baseMutations,(n,r)=>FT(n,r))}};var Ly=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Vy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ze,Ce;function ZA(t){if(t===void 0)return Dr("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ze.OK:return q.OK;case Ze.CANCELLED:return q.CANCELLED;case Ze.UNKNOWN:return q.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return q.INTERNAL;case Ze.UNAVAILABLE:return q.UNAVAILABLE;case Ze.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ze.NOT_FOUND:return q.NOT_FOUND;case Ze.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ze.ABORTED:return q.ABORTED;case Ze.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ze.DATA_LOSS:return q.DATA_LOSS;default:return re(39323,{code:t})}}(Ce=Ze||(Ze={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var BT=null;var v8=new _r([4294967295,4294967295],0);function jT(t){let e=lA().encode(t),n=new Xv;return n.update(e),new Uint8Array(n.digest())}function UT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _r([n,r],0),new _r([i,o],0)]}var By=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yo(`Invalid padding: ${n}`);if(r<0)throw new yo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=_r.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(_r.fromNumber(r)));return i.compare(v8)===1&&(i=new _r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=jT(e),[r,i]=UT(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=jT(e),[r,i]=UT(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},yo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ue.min(),i,new We(me),fi(),be())}},wu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,be(),be(),be())}};var Us=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},ah=class{constructor(e,n){this.targetId=e,this.De=n}},ch=class{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},uh=class{constructor(){this.ve=0,this.Ce=HT(),this.Fe=St.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=be(),n=be(),r=be();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:o})}}),new wu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=HT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},jy=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=fi(),this.je=Wf(),this.Je=Wf(),this.He=new We(me)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(My(o))if(r===0){let s=new ee(o.path);this.Xe(n,s,Tn.newNoDocument(s,ue.min()))}else je(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}BT?.ct((function(d,h,p,m,v){var T,b,E,C,R,N;let k={localCacheCount:d,existenceFilterCount:h.count,databaseId:p.database,projectId:p.projectId},P=h.unchangedNames;return P&&(k.bloomFilter={applied:v===0,hashCount:(T=P?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(C=(E=(b=P?.bits)===null||b===void 0?void 0:b.bitmap)===null||E===void 0?void 0:E.length)!==null&&C!==void 0?C:0,padding:(N=(R=P?.bits)===null||R===void 0?void 0:R.padding)!==null&&N!==void 0?N:0,mightContain:x=>{var y;return(y=m?.mightContain(x))!==null&&y!==void 0&&y}}),k})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=xr(r).toUint8Array()}catch(c){if(c instanceof nh)return li("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new By(s,i,o)}catch(c){return li(c instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&My(a.target)){let c=new ee(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Tn.newNoDocument(c,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=be();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new sh(e,n,this.He,this.ze,r);return this.ze=fi(),this.je=Wf(),this.Je=Wf(),this.He=new We(me),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new uh,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new ht(me),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new ht(me),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new uh),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function Wf(){return new We(ee.comparator)}function HT(){return new We(ee.comparator)}var y8={asc:"ASCENDING",desc:"DESCENDING"},_8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E8={and:"AND",or:"OR"},Uy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Hy(t,e){return t.useProto3Json||Sh(e)?e:{value:e}}function $y(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hs(t){return je(!!t,49232),ue.fromTimestamp((function(n){let r=Cr(n);return new st(r.seconds,r.nanos)})(t))}function XA(t,e){return qy(t,e).canonicalString()}function qy(t,e){let n=(function(i){return new qe(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function eS(t){let e=qe.fromString(t);return je(oS(e),10190,{key:e.toString()}),e}function sy(t,e){let n=eS(e);if(n.get(1)!==t.databaseId.projectId)throw new K(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(nS(n))}function tS(t,e){return XA(t.databaseId,e)}function I8(t){let e=eS(t);return e.length===4?qe.emptyPath():nS(e)}function $T(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nS(t){return je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function w8(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:re(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,d){return l.useProto3Json?(je(d===void 0||typeof d=="string",58123),St.fromBase64String(d||"")):(je(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),St.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let d=l.code===void 0?q.UNKNOWN:ZA(l.code);return new K(d,l.message||"")})(s);n=new ch(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=sy(t,r.document.name),o=Hs(r.document.updateTime),s=r.document.createTime?Hs(r.document.createTime):ue.min(),a=new Ir({mapValue:{fields:r.document.fields}}),c=Tn.newFoundDocument(i,o,s,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new Us(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=sy(t,r.document),o=r.readTime?Hs(r.readTime):ue.min(),s=Tn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=sy(t,r.document),o=r.removedTargetIds||[];n=new Us([],o,i,null)}else{if(!("filter"in e))return re(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Vy(i,o),a=r.targetId;n=new ah(a,s)}}return n}function D8(t,e){return{documents:[tS(t,e.path)]}}function C8(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tS(t,i);let o=(function(l){if(l.length!==0)return iS(An.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(d=>(function(p){return{field:Ls(p.field),direction:T8(p.dir)}})(d))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Hy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function x8(t){let e=I8(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){je(r===1,65062);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=(function(h){let p=rS(h);return p instanceof An&&OA(p)?p.getFilters():[p]})(n.where));let s=[];n.orderBy&&(s=(function(h){return h.map(p=>(function(v){return new Js(Vs(v.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(p))})(n.orderBy));let a=null;n.limit&&(a=(function(h){let p;return p=typeof h=="object"?h.value:h,Sh(p)?null:p})(n.limit));let c=null;n.startAt&&(c=(function(h){let p=!!h.before,m=h.values||[];return new Zs(m,p)})(n.startAt));let l=null;return n.endAt&&(l=(function(h){let p=!h.before,m=h.values||[];return new Zs(m,p)})(n.endAt)),n8(e,i,s,o,a,"F",c,l)}function b8(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Vs(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Vs(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Vs(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Vs(n.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xe.create(Vs(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return An.create(n.compositeFilter.filters.map(r=>rS(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}})(n.compositeFilter.op))})(t):re(30097,{filter:t})}function T8(t){return y8[t]}function A8(t){return _8[t]}function S8(t){return E8[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Vs(t){return un.fromServerFormat(t.fieldPath)}function iS(t){return t instanceof Xe?(function(n){if(n.op==="=="){if(RT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(ST(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(ST(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:A8(n.op),value:n.value}}})(t):t instanceof An?(function(n){let r=n.getFilters().map(i=>iS(i));return r.length===1?r[0]:{compositeFilter:{op:S8(n.op),filters:r}}})(t):re(54877,{filter:t})}function oS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Du=class t{constructor(e,n,r,i,o=ue.min(),s=ue.min(),a=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var zy=class{constructor(e){this.gt=e}};function R8(t){let e=x8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ky(e,e.limit,"L"):e}var lh=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Be(e.integerValue));else if("doubleValue"in e){let r=Be(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),gu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Cr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(xr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?PA(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):MA(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):re(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Ks,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Be(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),ee.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};lh.Ut=new lh;var Gy=class{constructor(){this.Dn=new Wy}addToCollectionParentIndex(e,n){return this.Dn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Eo.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}},Wy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(qe.comparator)).toArray()}};var cre=new Uint8Array(0);var qT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sS=41943040,cn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(sS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);var Cu=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var zT="LruGarbageCollector",N8=1048576;function GT([t,e],[n,r]){let i=me(t,n);return i===0?me(e,r):i}var Ky=class{constructor(e){this.Tr=e,this.buffer=new ht(GT),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();GT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Qy=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){W(zT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>O(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){aa(n)?W(zT,"Ignoring IndexedDB error during garbage collection: ",n):yield Ah(n)}yield this.Rr(3e5)}))}},Yy=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(K_.ue);let r=new Ky(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(qT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qT):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),Os()<=ye.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}};function M8(t,e){return new Yy(t,e)}var Zy=class{constructor(){this.changes=new br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Xy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hu(r.mutation,i,mo.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){let i=vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=cu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=fi(),s=du(),a=(function(){return du()})();return n.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof na)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),hu(d.mutation,l,d.mutation.getFieldMask(),st.now())):s.set(l.key,mo.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),n.forEach((l,d)=>{var h;return a.set(l,new Jy(d,(h=s.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=du(),i=new We((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let d=r.get(c)||mo.empty();d=a.applyToLocalView(l,d),r.set(c,d);let h=(i.get(a.batchId)||be()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,h=qA();d.forEach(p=>{if(!o.has(p)){let m=QA(n.get(p),r.get(p));m!==null&&h.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,h))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(vo()),a=pu,c=o;return s.next(l=>U.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,be())).next(d=>({batchId:a,changes:a8(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=cu();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,c=>{let l=(function(h,p){return new Io(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,Tn.newInvalidDocument(d)))});let a=cu();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&hu(d.mutation,l,mo.empty(),st.now()),Mh(n,l)&&(a=a.insert(c,l))}),a})}};var e_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return U.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Hs(i.createTime)}})(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:R8(i.bundledQuery),readTime:Hs(i.readTime)}})(n)),U.resolve()}};var t_=class{constructor(){this.overlays=new We(ee.comparator),this.kr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){let r=vo();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){let i=vo(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new We((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=vo(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=vo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return U.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ly(n,r));let o=this.kr.get(n);o===void 0&&(o=be(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var n_=class{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}};var xu=class{constructor(){this.qr=new ht(Je.Qr),this.$r=new ht(Je.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Je(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Je(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new ee(new qe([])),r=new Je(n,e),i=new Je(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new ee(new qe([])),r=new Je(n,e),i=new Je(n,e+1),o=be();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Je(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Je=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ee.comparator(e.key,n.key)||me(e.Hr,n.Hr)}static Ur(e,n){return me(e.Hr,n.Hr)||ee.comparator(e.key,n.key)}};var r_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new ht(Je.Qr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Fy(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?B4:this.er-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Je(n,0),i=new Je(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(me);return n.forEach(i=>{let o=new Je(i,0),s=new Je(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),U.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new Je(new ee(o),0),a=new ht(me);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},s),U.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return U.forEach(n.mutations,i=>{let o=new Je(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Je(n,0),i=this.Yr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var i_=class{constructor(e){this.ni=e,this.docs=(function(){return new We(ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tn.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=fi(),s=n.path,a=new ee(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||F4(O4(d),r)<=0||(i.has(d.key)||Mh(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){re(9500)}ri(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new o_(this)}getSize(e){return U.resolve(this.size)}},o_=class extends Zy{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var s_=class{constructor(e){this.persistence=e,this.ii=new br(n=>X_(n),eE),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.si=0,this.oi=new xu,this.targetCount=0,this._i=Cu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),U.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Cu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.hr(n),U.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),U.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.oi.containsKey(n))}};var dh=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new K_(0),this.ci=!1,this.ci=!0,this.li=new n_,this.referenceDelegate=e(this),this.hi=new s_(this),this.indexManager=new Gy,this.remoteDocumentCache=(function(i){return new i_(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new zy(n),this.Ti=new e_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new r_(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);let i=new a_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return U.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},a_=class extends _y{constructor(e){super(),this.currentSequenceNumber=e}},c_=class t{constructor(e){this.persistence=e,this.Ai=new xu,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw re(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.mi,r=>{let i=ee.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ue.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return U.or([()=>U.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},fh=class t{constructor(e,n){this.persistence=e,this.gi=new br(r=>U4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=M8(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return U.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ue.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qf(e.data.value)),n}Sr(e,n,r){return U.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var u_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=be(),i=be();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var l_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var d_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Eb()?8:V4(Zt())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new l_;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Os()<=ye.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Os()<=ye.DEBUG&&W("QueryEngine","Query:",Fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Os()<=ye.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):U.resolve())}ps(e,n){if(kT(n))return U.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ky(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=be(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(n,a);return this.Ds(n,l,s,c.readTime)?this.ps(e,ky(n,null,"F")):this.vs(e,l,n,c)}))})))}ys(e,n,r,i){return kT(n)||i.isEqual(ue.min())?U.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?U.resolve(null):(Os()<=ye.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(n)),this.vs(e,s,n,k4(i,pu)).next(a=>a))})}bs(e,n){let r=new ht(HA(e));return n.forEach((i,o)=>{Mh(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Os()<=ye.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.gs.getDocumentsMatchingQuery(e,n,Eo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var nE="LocalStore",P8=3e8,f_=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new We(me),this.Ms=new br(o=>X_(o),eE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xy(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function k8(t,e,n,r){return new f_(t,e,n,r)}function aS(t,e){return O(this,null,function*(){let n=xe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=be();for(let l of i){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function cS(t){let e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function O8(t,e){let n=xe(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((d,h)=>{let p=i.get(h);if(!p)return;a.push(n.hi.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(o,d.addedDocuments,h)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(St.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),(function(T,b,E){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=P8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(p,m,d)&&a.push(n.hi.updateTargetData(o,m))});let c=fi(),l=be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(F8(o,s,e.documentUpdates).next(d=>{c=d.Ls,l=d.ks})),!r.isEqual(ue.min())){let d=n.hi.getLastRemoteSnapshotVersion(o).next(h=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.Fs=i,o))}function F8(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=fi();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ue.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):W(nE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function L8(t,e){let n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Du(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function h_(t,e,n){return O(this,null,function*(){let r=xe(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!aa(s))throw s;W(nE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function WT(t,e,n){let r=xe(t),i=ue.min(),o=be();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,l,d){let h=xe(c),p=h.Ms.get(d);return p!==void 0?U.resolve(h.Fs.get(p)):h.hi.getTargetData(l,d)})(r,s,zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ue.min(),n?o:be())).next(a=>(V8(r,i8(e),a),{documents:a,qs:o})))}function V8(t,e,n){let r=t.xs.get(e)||ue.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var hh=class{constructor(){this.activeTargetIds=l8()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var p_=class{constructor(){this.Fo=new hh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new hh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var g_=class{xo(e){}shutdown(){}};var KT="ConnectivityMonitor",ph=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){W(KT,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){W(KT,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kf=null;function m_(){return Kf===null?Kf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kf++,"0x"+Kf.toString(16)}var ay="RestConnection",B8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},v_=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=m_(),a=this.Go(e,n.toUriEncodedString());W(ay,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:l}=new URL(a),d=oo(l);return this.jo(e,a,c,r,d).then(h=>(W(ay,`Received RPC '${e}' ${s}: `,h),h),h=>{throw li(ay,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=B8[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var y_=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var At="WebChannelConnection",__=class extends v_{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=m_();return new Promise((a,c)=>{let l=new ey;l.setWithCredentials(!0),l.listenOnce(ty.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case au.NO_ERROR:let h=l.getResponseJson();W(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case au.TIMEOUT:W(At,`RPC '${e}' ${s} timed out`),c(new K(q.DEADLINE_EXCEEDED,"Request time out"));break;case au.HTTP_ERROR:let p=l.getStatus();if(W(At,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let T=(function(E){let C=E.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(C)>=0?C:q.UNKNOWN})(v.status);c(new K(T,v.message))}else c(new K(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new K(q.UNAVAILABLE,"Connection failed."));break;default:re(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{W(At,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);W(At,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",d,r,15)})}P_(e,n,r){let i=m_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iy(),a=ry(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=o.join("");W(At,`Creating RPC '${e}' stream ${i}: ${d}`,c);let h=s.createWebChannel(d,c);this.T_(h);let p=!1,m=!1,v=new y_({Ho:b=>{m?W(At,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(p||(W(At,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),W(At,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},Yo:()=>h.close()}),T=(b,E,C)=>{b.listen(E,R=>{try{C(R)}catch(N){setTimeout(()=>{throw N},0)}})};return T(h,ks.EventType.OPEN,()=>{m||(W(At,`RPC '${e}' stream ${i} transport opened.`),v.s_())}),T(h,ks.EventType.CLOSE,()=>{m||(m=!0,W(At,`RPC '${e}' stream ${i} transport closed`),v.__(),this.I_(h))}),T(h,ks.EventType.ERROR,b=>{m||(m=!0,li(At,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),v.__(new K(q.UNAVAILABLE,"The operation could not be completed")))}),T(h,ks.EventType.MESSAGE,b=>{var E;if(!m){let C=b.data[0];je(!!C,16349);let R=C,N=R?.error||((E=R[0])===null||E===void 0?void 0:E.error);if(N){W(At,`RPC '${e}' stream ${i} received error:`,N);let k=N.status,P=(function(I){let A=Ze[I];if(A!==void 0)return ZA(A)})(k),x=N.message;P===void 0&&(P=q.INTERNAL,x="Unknown error status: "+k+" with message "+N.message),m=!0,v.__(new K(P,x)),h.close()}else W(At,`RPC '${e}' stream ${i} received:`,C),v.a_(C)}}),T(a,ny.STAT_EVENT,b=>{b.stat===zf.PROXY?W(At,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===zf.NOPROXY&&W(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.o_()},0),v}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function cy(){return typeof document<"u"?document:null}function Ph(t){return new Uy(t,!0)}var gh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var QT="PersistentStream",E_=class{constructor(e,n,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new gh(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return O(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return O(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return O(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new K(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>O(this,null,function*(){this.state=0,this.start()}))}G_(e){return W(QT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(W(QT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},I_=class extends E_{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=w8(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?Hs(s.readTime):ue.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=$T(this.serializer),n.addTarget=(function(o,s){let a,c=s.target;if(a=My(c)?{documents:D8(o,c)}:{query:C8(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JA(o,s.resumeToken);let l=Hy(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=$y(o,s.snapshotVersion.toTimestamp());let l=Hy(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=b8(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=$T(this.serializer),n.removeTarget=e,this.k_(n)}};var w_=class{},D_=class extends w_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new K(q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,qy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(q.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,qy(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(q.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},C_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Dr(n),this._a=!1):W("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ra="RemoteStore",x_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>O(this,null,function*(){Ru(this)&&(W(ra,"Restarting streams for network reachability change."),yield(function(c){return O(this,null,function*(){let l=xe(c);l.Ia.add(4),yield Su(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield kh(l)})})(this))}))}),this.Aa=new C_(r,i)}};function kh(t){return O(this,null,function*(){if(Ru(t))for(let e of t.da)yield e(!0)})}function Su(t){return O(this,null,function*(){for(let e of t.da)yield e(!1)})}function uS(t,e){let n=xe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),sE(n)?oE(n):ua(n).x_()&&iE(n,e))}function rE(t,e){let n=xe(t),r=ua(n);n.Ta.delete(e),r.x_()&&lS(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ru(n)&&n.Aa.set("Unknown"))}function iE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ua(t).H_(e)}function lS(t,e){t.Ra.$e(e),ua(t).Y_(e)}function oE(t){t.Ra=new jy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ua(t).start(),t.Aa.aa()}function sE(t){return Ru(t)&&!ua(t).M_()&&t.Ta.size>0}function Ru(t){return xe(t).Ia.size===0}function dS(t){t.Ra=void 0}function j8(t){return O(this,null,function*(){t.Aa.set("Online")})}function U8(t){return O(this,null,function*(){t.Ta.forEach((e,n)=>{iE(t,e)})})}function H8(t,e){return O(this,null,function*(){dS(t),sE(t)?(t.Aa.la(e),oE(t)):t.Aa.set("Unknown")})}function $8(t,e,n){return O(this,null,function*(){if(t.Aa.set("Online"),e instanceof ch&&e.state===2&&e.cause)try{yield(function(i,o){return O(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(t,e)}catch(r){W(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield YT(t,r)}else if(e instanceof Us?t.Ra.Ye(e):e instanceof ah?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ue.min()))try{let r=yield cS(t.localStore);n.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(l);d&&o.Ta.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(St.EMPTY_BYTE_STRING,d.snapshotVersion)),lS(o,c);let h=new Du(d.target,c,l,d.sequenceNumber);iE(o,h)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n))}catch(r){W(ra,"Failed to raise snapshot:",r),yield YT(t,r)}})}function YT(t,e,n){return O(this,null,function*(){if(!aa(e))throw e;t.Ia.add(1),yield Su(t),t.Aa.set("Offline"),n||(n=()=>cS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>O(null,null,function*(){W(ra,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield kh(t)}))})}function ZT(t,e){return O(this,null,function*(){let n=xe(t);n.asyncQueue.verifyOperationInProgress(),W(ra,"RemoteStore received new credentials");let r=Ru(n);n.Ia.add(3),yield Su(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield kh(n)})}function q8(t,e){return O(this,null,function*(){let n=xe(t);e?(n.Ia.delete(2),yield kh(n)):e||(n.Ia.add(2),yield Su(n),n.Aa.set("Unknown"))})}function ua(t){return t.Va||(t.Va=(function(n,r,i){let o=xe(n);return o.ia(),new I_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:j8.bind(null,t),e_:U8.bind(null,t),n_:H8.bind(null,t),J_:$8.bind(null,t)}),t.da.push(e=>O(null,null,function*(){e?(t.Va.N_(),sE(t)?oE(t):t.Aa.set("Unknown")):(yield t.Va.stop(),dS(t))}))),t.Va}var b_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function fS(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),aa(t))return new K(q.UNAVAILABLE,`${e}: ${t}`);throw t}var mh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=cu(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var vh=class{constructor(){this.fa=new We(ee.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):re(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ia=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,mh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var T_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},A_=class{constructor(){this.queries=JT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=xe(n),o=i.queries;i.queries=JT(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new K(q.ABORTED,"Firestore shutting down"))}};function JT(){return new br(t=>UA(t),Nh)}function z8(t,e){return O(this,null,function*(){let n=xe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new T_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=fS(s,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&aE(n)})}function G8(t,e){return O(this,null,function*(){let n=xe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function W8(t,e){let n=xe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&aE(n)}function K8(t,e,n){let r=xe(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function aE(t){t.Da.forEach(e=>{e.next()})}var S_,XT;(XT=S_||(S_={})).Fa="default",XT.Cache="cache";var R_=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==S_.Cache}};var yh=class{constructor(e){this.key=e}},_h=class{constructor(e){this.key=e}},N_=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=be(),this.mutatedKeys=be(),this.Xa=HA(e),this.eu=new mh(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new vh,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{let p=i.get(d),m=Mh(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),b=!1;p&&m?p.data.isEqual(m.data)?v!==T&&(r.track({type:3,doc:m}),b=!0):this.iu(p,m)||(r.track({type:2,doc:m}),b=!0,(c&&this.Xa(m,c)>0||l&&this.Xa(m,l)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),b=!0):p&&!m&&(r.track({type:1,doc:p}),b=!0,(c||l)&&(a=!0)),b&&(m?(s=s.add(m),o=T?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,h)=>(function(m,v){let T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{At:b})}};return T(m)-T(v)})(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new ia(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new vh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=be(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new _h(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new yh(r))}),n}uu(e){this.Ha=e.qs,this.Za=be();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ia.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},cE="SyncEngine",M_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},P_=class{constructor(e){this.key=e,this.lu=!1}},k_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new br(a=>UA(a),Nh),this.Tu=new Map,this.Iu=new Set,this.du=new We(ee.comparator),this.Eu=new Map,this.Au=new xu,this.Ru={},this.Vu=new Map,this.mu=Cu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Q8(t,e,n=!0){return O(this,null,function*(){let r=vS(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield hS(r,e,n,!0),i})}function Y8(t,e){return O(this,null,function*(){let n=vS(t);yield hS(n,e,!0,!1)})}function hS(t,e,n,r){return O(this,null,function*(){let i=yield L8(t.localStore,zn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield Z8(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&uS(t.remoteStore,i),a})}function Z8(t,e,n,r,i){return O(this,null,function*(){t.gu=(h,p,m)=>(function(T,b,E,C){return O(this,null,function*(){let R=b.view.nu(E);R.Ds&&(R=yield WT(T.localStore,b.query,!1).then(({documents:x})=>b.view.nu(x,R)));let N=C&&C.targetChanges.get(b.targetId),k=C&&C.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(R,T.isPrimaryClient,N,k);return tA(T,b.targetId,P._u),P.snapshot})})(t,h,p,m);let o=yield WT(t.localStore,e,!0),s=new N_(e,o.qs),a=s.nu(o.documents),c=wu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);tA(t,n,l._u);let d=new M_(e,n,s);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function J8(t,e,n){return O(this,null,function*(){let r=xe(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Nh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield h_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rE(r.remoteStore,i.targetId),O_(r,i.targetId)}).catch(Ah))):(O_(r,i.targetId),yield h_(r.localStore,i.targetId,!0))})}function X8(t,e){return O(this,null,function*(){let n=xe(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rE(n.remoteStore,r.targetId))})}function pS(t,e){return O(this,null,function*(){let n=xe(t);try{let r=yield O8(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?je(s.lu,14607):i.removedDocuments.size>0&&(je(s.lu,42227),s.lu=!1))}),yield mS(n,r,e)}catch(r){yield Ah(r)}})}function eA(t,e,n){let r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=xe(s);c.onlineState=a;let l=!1;c.queries.forEach((d,h)=>{for(let p of h.wa)p.va(a)&&(l=!0)}),l&&aE(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function e6(t,e,n){return O(this,null,function*(){let r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new We(ee.comparator);s=s.insert(o,Tn.newNoDocument(o,ue.min()));let a=be().add(o),c=new sh(ue.min(),new Map,new We(me),s,a);yield pS(r,c),r.du=r.du.remove(o),r.Eu.delete(e),uE(r)}else yield h_(r.localStore,e,!1).then(()=>O_(r,e,n)).catch(Ah)})}function O_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||gS(t,r)})}function gS(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(rE(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),uE(t))}function tA(t,e,n){for(let r of n)r instanceof yh?(t.Au.addReference(r.key,e),t6(t,r)):r instanceof _h?(W(cE,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||gS(t,r.key)):re(19791,{yu:r})}function t6(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(W(cE,"New document in limbo: "+n),t.Iu.add(r),uE(t))}function uE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new ee(qe.fromString(e)),r=t.mu.next();t.Eu.set(r,new P_(n)),t.du=t.du.insert(n,r),uS(t.remoteStore,new Du(zn(BA(n.path)),r,"TargetPurposeLimboResolution",K_.ue))}}function mS(t,e,n){return O(this,null,function*(){let r=xe(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,n).then(l=>{var d;if((l||n)&&r.isPrimaryClient){let h=l?!l.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);let h=u_.Es(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(c,l){return O(this,null,function*(){let d=xe(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(l,p=>U.forEach(p.Is,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>U.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!aa(h))throw h;W(nE,"Failed to update sequence numbers: "+h)}for(let h of l){let p=h.targetId;if(!h.fromCache){let m=d.Fs.get(p),v=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(v);d.Fs=d.Fs.insert(p,T)}}})})(r.localStore,o))})}function n6(t,e){return O(this,null,function*(){let n=xe(t);if(!n.currentUser.isEqual(e)){W(cE,"User change. New user:",e.toKey());let r=yield aS(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new K(q.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield mS(n,r.Bs)}})}function r6(t,e){let n=xe(t),r=n.Eu.get(e);if(r&&r.lu)return be().add(r.key);{let i=be(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function vS(t){let e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e6.bind(null,e),e.hu.J_=W8.bind(null,e.eventManager),e.hu.pu=K8.bind(null,e.eventManager),e}var yS=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return O(this,null,function*(){this.serializer=Ph(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return k8(this.persistence,new d_,n.initialUser,this.serializer)}Du(n){return new dh(c_.Vi,this.serializer)}bu(n){return new p_}terminate(){return O(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),F_=class extends yS{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){je(this.persistence.referenceDelegate instanceof fh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Qy(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new dh(r=>fh.Vi(r,n),this.serializer)}};var i6=(()=>{class t{initialize(n,r){return O(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=n6.bind(null,this.syncEngine),yield q8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return(function(){return new A_})()}createDatastore(n){let r=Ph(n.databaseInfo.databaseId),i=(function(s){return new __(s)})(n.databaseInfo);return(function(s,a,c,l){return new D_(s,a,c,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,c){return new x_(i,o,s,a,c)})(this.localStore,this.datastore,n.asyncQueue,r=>eA(this.syncEngine,r,0),(function(){return ph.C()?new ph:new g_})())}createSyncEngine(n,r){return(function(o,s,a,c,l,d,h){let p=new k_(o,s,a,c,l,d);return h&&(p.fu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return O(this,null,function*(){var n,r;yield(function(o){return O(this,null,function*(){let s=xe(o);W(ra,"RemoteStore shutting down."),s.Ia.add(5),yield Su(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var L_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var hi="FirestoreClient",V_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=Xf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>O(this,null,function*(){W(hi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W(hi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>O(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=fS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function uy(t,e){return O(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),W(hi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>O(null,null,function*(){r.isEqual(i)||(yield aS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{li("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{W("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{li("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function nA(t,e){return O(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield o6(t);W(hi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ZT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ZT(e.remoteStore,i)),t._onlineComponents=e})}function o6(t){return O(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(hi,"Using user provided OfflineComponentProvider");try{yield uy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;li("Error using user provided cache. Falling back to memory cache: "+n),yield uy(t,new yS)}}else W(hi,"Using default OfflineComponentProvider"),yield uy(t,new F_(void 0));return t._offlineComponents})}function s6(t){return O(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(hi,"Using user provided OnlineComponentProvider"),yield nA(t,t._uninitializedComponentsProvider._online)):(W(hi,"Using default OnlineComponentProvider"),yield nA(t,new i6))),t._onlineComponents})}function a6(t){return O(this,null,function*(){let e=yield s6(t),n=e.eventManager;return n.onListen=Q8.bind(null,e.syncEngine),n.onUnlisten=J8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Y8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X8.bind(null,e.syncEngine),n})}function c6(t,e,n={}){let r=new wr;return t.asyncQueue.enqueueAndForget(()=>O(null,null,function*(){return(function(o,s,a,c,l){let d=new L_({next:p=>{d.Ou(),s.enqueueAndForget(()=>G8(o,h)),p.fromCache&&c.source==="server"?l.reject(new K(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),h=new R_(a,d,{includeMetadataChanges:!0,ka:!0});return z8(o,h)})(yield a6(t),t.asyncQueue,e,n,r)})),r.promise}function _S(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var rA=new Map;var ES="firestore.googleapis.com",iA=!0,Eh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ES,this.ssl=iA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:iA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N8)throw new K(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_S((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ly;switch(r.type){case"firstParty":return new py(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return O(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=rA.get(n);r&&(W("ComponentProvider","Removing Datastore"),rA.delete(n),r.terminate())})(this),Promise.resolve()}};function lE(t,e,n,r={}){var i;t=vy(t,bu);let o=oo(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(pv(`https://${c}`),gv("Firestore",!0)),s.host!==ES&&s.host!==c&&li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!so(l,a)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=ft.MOCK_USER;else{d=gb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ft(p)}t._authCredentials=new dy(new Zf(d,h))}}var oa=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ln=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Au(n,t._jsonSchema))return new t(e,r||null,new ee(qe.fromString(n.referencePath)))}};ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:et("string",ln._jsonSchemaVersion),referencePath:et("string")};var $s=class t extends oa{constructor(e,n,r){super(e,n,BA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ee(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function IS(t,e,...n){if(t=Dn(t),M4("collection","path",e),t instanceof bu){let r=qe.fromString(e,...n);return IT(r),new $s(t,null,r)}{if(!(t instanceof ln||t instanceof $s))throw new K(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return IT(r),new $s(t.firestore,null,r)}}var oA="AsyncQueue",Ih=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new gh(this,"async_queue_retry"),this.oc=()=>{let r=cy();r&&W(oA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=cy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=cy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new wr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return O(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!aa(e))throw e;W(oA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Dr("INTERNAL UNHANDLED ERROR: ",sA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=b_.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&re(47125,{hc:sA(this.tc)})}verifyOperationInProgress(){}Pc(){return O(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function sA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var wh=class extends bu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ih,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return O(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ih(e),this._firestoreClient=void 0,yield e}})}};function wS(t,e){let n=typeof t=="object"?t:Ns(),r=typeof t=="string"?t:e||rh,i=bf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hb("firestore");o&&lE(i,...o)}return i}function u6(t){if(t._terminated)throw new K(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l6(t),t._firestoreClient}function l6(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,c,l,d){return new Ey(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_S(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new V_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(t._componentsProvider))}var ai=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(St.fromBase64String(e))}catch(n){throw new K(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:et("string",ai._jsonSchemaVersion),bytes:et("string")};var Dh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ch=class{constructor(e){this._methodName=e}};var ci=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Au(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:et("string",ci._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};var ui=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new K(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:et("string",ui._jsonSchemaVersion),vectorValues:et("object")};var d6=/^__.*__$/;function DS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ec:t})}}var B_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return U_(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(DS(this.Ec)&&d6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},j_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}Dc(e,n,r,i=!1){return new B_({Ec:e,methodName:n,bc:r,path:un.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function f6(t){let e=t._freezeSettings(),n=Ph(t._databaseId);return new j_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h6(t,e,n,r=!1){return dE(n,t.Dc(r?4:3,e))}function dE(t,e){if(CS(t=Dn(t)))return g6("Unsupported field value:",e,t),p6(t,e);if(t instanceof Ch)return(function(r,i){if(!DS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=dE(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=st.fromDate(r);return{timestampValue:$y(i.serializer,o)}}if(r instanceof st){let o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$y(i.serializer,o)}}if(r instanceof ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:JA(i.serializer,r._byteString)};if(r instanceof ln){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:XA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ui)return(function(s,a){return{mapValue:{fields:{[Y_]:{stringValue:Z_},[Ks]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return tE(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Th(r)}`)})(t,e)}function p6(t,e){let n={};return bA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(t,(r,i)=>{let o=dE(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function CS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof ci||t instanceof ai||t instanceof ln||t instanceof Ch||t instanceof ui)}function g6(t,e,n){if(!CS(n)||!dA(n)){let r=Th(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}var m6=new RegExp("[~\\*/\\[\\]]");function v6(t,e,n){if(e.search(m6)>=0)throw U_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dh(...e.split("."))._internalPath}catch{throw U_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function U_(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new K(q.INVALID_ARGUMENT,a+t+c)}var xh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new H_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(fE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},H_=class extends xh{data(){return super.data()}};function fE(t,e){return typeof e=="string"?v6(t,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function y6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tu=class{},$_=class extends Tu{};function xS(t,e,...n){let r=[];e instanceof Tu&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(c=>c instanceof q_).length,a=o.filter(c=>c instanceof bh).length;if(s>1||s>0&&a>0)throw new K(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var bh=class t extends $_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return TS(e._query,n),new oa(e.firestore,e.converter,Py(e._query,n))}_parse(e){let n=f6(e.firestore);return(function(o,s,a,c,l,d,h){let p;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){cA(h,d);let v=[];for(let T of h)v.push(aA(c,o,T));p={arrayValue:{values:v}}}else p=aA(c,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||cA(h,d),p=h6(a,s,h,d==="in"||d==="not-in");return Xe.create(l,d,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function bS(t,e,n){let r=e,i=fE("where",t);return bh._create(i,r,n)}var q_=class t extends Tu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)TS(s,c),s=Py(s,c)})(e._query,n),new oa(e.firestore,e.converter,Py(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function aA(t,e,n){if(typeof(n=Dn(n))=="string"){if(n==="")throw new K(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jA(e)&&n.indexOf("/")!==-1)throw new K(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(qe.fromString(n));if(!ee.isDocumentKey(r))throw new K(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AT(t,new ee(r))}if(n instanceof ln)return AT(t,n._key);throw new K(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function cA(t,e){if(!Array.isArray(t)||t.length===0)throw new K(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TS(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new K(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var z_=class{convertValue(e,n="none"){switch(di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ca(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ks].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Be(s.doubleValue));return new ui(o)}convertGeoPoint(e){return new ci(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Rh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){let n=Cr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=qe.fromString(e);je(oS(r),9688,{name:e});let i=new ih(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Dr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var js=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},qs=class t extends xh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new zs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(fE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:et("string",qs._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};var zs=class extends qs{data(e={}){return super.data(e)}},Gs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new js(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zs(this._firestore,this._userDataWriter,r.key,r,new js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new zs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new js(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new zs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new js(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:_6(a.type),doc:c,oldIndex:l,newIndex:d}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function _6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}Gs._jsonSchemaVersion="firestore/querySnapshot/1.0",Gs._jsonSchema={type:et("string",Gs._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};var G_=class extends z_{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}};function AS(t){t=vy(t,oa);let e=vy(t.firestore,wh),n=u6(e),r=new G_(e);return y6(t._query),c6(n,t._query).then(i=>new Gs(e,r,t,i))}(function(e,n=!0){(function(i){sa=i})(Rs),Cn(new Ot("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new wh(new fy(r.getProvider("auth-internal")),new gy(s,r.getProvider("app-check-internal")),(function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(l.options.projectId,d)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ge(vT,yT,e),Ge(vT,yT,"esm2017")})();var wo=class{constructor(e){return e}},SS="firestore",hE=class{constructor(){return Ps(SS)}};var pE=new Y("angularfire2.firestore-instances");function E6(t,e){let n=Sf(SS,t,e);return n&&new wo(n)}function I6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new wo(r)}}var w6={provide:hE,deps:[[new lr,pE]]},D6={provide:wo,useFactory:E6,deps:[[new lr,pE],fo]};function RS(t,...e){return Ge("angularfire",uo.full,"fst"),gn([D6,w6,{provide:pE,useFactory:I6(t),multi:!0,deps:[ke,_t,lo,eu,[new lr,$f],[new lr,Nf],...e]}])}var gE=xn(IS,!0,2);var NS=xn(lE,!0);var mE=xn(AS,!0);var vE=xn(wS,!0);var MS=xn(xS,!0,2);var yE=xn(bS,!0,2);var PS={production:!1,firebaseConfig:{apiKey:"AIzaSyDxfeuR6QJqu3OObOPTWLhhlzOgSSL1O1s",authDomain:"volley-a86b5.firebaseapp.com",projectId:"volley-a86b5",storageBucket:"volley-a86b5.firebasestorage.app",messagingSenderId:"562442165643",appId:"1:562442165643:web:f36ff9d75f3a886114e38e"},debugAppCheck:!0};var kS=[];var _E={providers:[dm(),w0({eventCoalescing:!0}),jb(()=>{let t=Ub(PS.firebaseConfig),e=vE(t);return(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(console.log("Connect\xE9 \xE0 l'\xE9mulateur Firestore sur localhost:8080"),NS(e,"127.0.0.1",8080)),t}),RS(()=>vE()),cv(kS)]};var pR=GR($1());var J1=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Ve(fc),Ve(fs))};static \u0275dir=Pt({type:t})}return t})(),x6=(()=>{class t extends J1{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yi(t)))(i||t)}})();static \u0275dir=Pt({type:t,features:[Ln]})}return t})(),X1=new Y("");var b6={provide:X1,useExisting:rr(()=>Tp),multi:!0};function T6(){let t=sn()?sn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var A6=new Y(""),Tp=(()=>{class t extends J1{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!T6())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Ve(fc),Ve(fs),Ve(A6,8))};static \u0275dir=Pt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fr("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[gs([b6]),Ln]})}return t})();function S6(t){return t==null||R6(t)===0}function R6(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var CE=new Y(""),eR=new Y("");function N6(t){return S6(t.value)?{required:!0}:null}function q1(t){return null}function tR(t){return t!=null}function nR(t){return Ji(t)?$e(t):t}function rR(t){let e={};return t.forEach(n=>{e=n!=null?z(z({},e),n):e}),Object.keys(e).length===0?null:e}function iR(t,e){return e.map(n=>n(t))}function M6(t){return!t.validate}function oR(t){return t.map(e=>M6(e)?e:n=>e.validate(n))}function P6(t){if(!t)return null;let e=t.filter(tR);return e.length==0?null:function(n){return rR(iR(n,e))}}function xE(t){return t!=null?P6(oR(t)):null}function k6(t){if(!t)return null;let e=t.filter(tR);return e.length==0?null:function(n){let r=iR(n,e).map(nR);return hg(r).pipe(Ee(rR))}}function bE(t){return t!=null?k6(oR(t)):null}function z1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function O6(t){return t._rawValidators}function F6(t){return t._rawAsyncValidators}function wE(t){return t?Array.isArray(t)?t:[t]:[]}function Ep(t,e){return Array.isArray(t)?t.includes(e):t===e}function G1(t,e){let n=wE(e);return wE(t).forEach(i=>{Ep(n,i)||n.push(i)}),n}function W1(t,e){return wE(e).filter(n=>!Ep(t,n))}var Ip=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},fa=class extends Ip{name;get formDirective(){return null}get path(){return null}},Lu=class extends Ip{_parent=null;name=null;valueAccessor=null},wp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},L6={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Yie=fe(z({},L6),{"[class.ng-submitted]":"isSubmitted"}),sR=(()=>{class t extends wp{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Ve(Lu,2))};static \u0275dir=Pt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&yc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ln]})}return t})(),aR=(()=>{class t extends wp{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Ve(fa,10))};static \u0275dir=Pt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&yc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ln]})}return t})();var Mu="VALID",_p="INVALID",la="PENDING",Pu="DISABLED",mi=class{},Dp=class extends mi{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ou=class extends mi{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Fu=class extends mi{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},da=class extends mi{status;source;constructor(e,n){super(),this.status=e,this.source=n}},DE=class extends mi{source;constructor(e){super(),this.source=e}},Cp=class extends mi{source;constructor(e){super(),this.source=e}};function cR(t){return(Ap(t)?t.validators:t)||null}function V6(t){return Array.isArray(t)?xE(t):t||null}function uR(t,e){return(Ap(e)?e.asyncValidators:t)||null}function B6(t){return Array.isArray(t)?bE(t):t||null}function Ap(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function j6(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function U6(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var xp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Tt(this.statusReactive)}set status(e){Tt(()=>this.statusReactive.set(e))}_status=ms(()=>this.statusReactive());statusReactive=Kt(void 0);get valid(){return this.status===Mu}get invalid(){return this.status===_p}get pending(){return this.status==la}get disabled(){return this.status===Pu}get enabled(){return this.status!==Pu}errors;get pristine(){return Tt(this.pristineReactive)}set pristine(e){Tt(()=>this.pristineReactive.set(e))}_pristine=ms(()=>this.pristineReactive());pristineReactive=Kt(!0);get dirty(){return!this.pristine}get touched(){return Tt(this.touchedReactive)}set touched(e){Tt(()=>this.touchedReactive.set(e))}_touched=ms(()=>this.touchedReactive());touchedReactive=Kt(!1);get untouched(){return!this.touched}_events=new nt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(G1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(G1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(W1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(W1(e,this._rawAsyncValidators))}hasValidator(e){return Ep(this._rawValidators,e)}hasAsyncValidator(e){return Ep(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(z({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Fu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Fu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(z({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ou(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ou(!0,r))}markAsPending(e={}){this.status=la;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new da(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(z({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pu,this.errors=null,this._forEachChild(i=>{i.disable(fe(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dp(this.value,r)),this._events.next(new da(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(z({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Mu,this._forEachChild(r=>{r.enable(fe(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(z({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mu||this.status===la)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dp(this.value,n)),this._events.next(new da(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(z({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pu:Mu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=la,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=nR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new da(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Pu:this.errors?_p:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(la)?la:this._anyControlsHaveStatus(_p)?_p:Mu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ou(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Fu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ap(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=V6(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=B6(this._rawAsyncValidators)}},bp=class extends xp{constructor(e,n,r){super(cR(n),uR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){U6(this,!0,e),Object.keys(e).forEach(r=>{j6(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Cp(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var TE=new Y("",{providedIn:"root",factory:()=>AE}),AE="always";function H6(t,e){return[...e.path,t]}function lR(t,e,n=AE){dR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),q6(t,e),G6(t,e),z6(t,e),$6(t,e)}function K1(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function $6(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function dR(t,e){let n=O6(t);e.validator!==null?t.setValidators(z1(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=F6(t);e.asyncValidator!==null?t.setAsyncValidators(z1(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();K1(e._rawValidators,i),K1(e._rawAsyncValidators,i)}function q6(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&fR(t,e)})}function z6(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&fR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function fR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function G6(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function W6(t,e){t==null,dR(t,e)}function K6(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Q6(t){return Object.getPrototypeOf(t.constructor)===x6}function Y6(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Z6(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Tp?n=o:Q6(o)?r=o:i=o}),i||r||n||null}var J6={provide:fa,useExisting:rr(()=>SE)},ku=Promise.resolve(),SE=(()=>{class t extends fa{callSetDisabledState;get submitted(){return Tt(this.submittedReactive)}_submitted=ms(()=>this.submittedReactive());submittedReactive=Kt(!1);_directives=new Set;form;ngSubmit=new Ye;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new bp({},xE(n),bE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ku.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),lR(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ku.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ku.then(()=>{let r=this._findContainer(n.path),i=new bp({});W6(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ku.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ku.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Y6(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new DE(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(Ve(CE,10),Ve(eR,10),Ve(TE,8))};static \u0275dir=Pt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&fr("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[gs([J6]),Ln]})}return t})();function Q1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Y1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var X6=class extends xp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(cR(n),uR(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ap(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Y1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Cp(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Q1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Q1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Y1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ej={provide:Lu,useExisting:rr(()=>RE)},Z1=Promise.resolve(),RE=(()=>{class t extends Lu{_changeDetectorRef;callSetDisabledState;control=new X6;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ye;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Z6(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),K6(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Z1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&jd(r);Z1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?H6(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Ve(fa,9),Ve(CE,10),Ve(eR,10),Ve(X1,10),Ve(wc,8),Ve(TE,8))};static \u0275dir=Pt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[gs([ej]),Ln,Qi]})}return t})();var hR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Pt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var tj=(()=>{class t{_validator=q1;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):q1,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Pt({type:t,features:[Qi]})}return t})();var nj={provide:CE,useExisting:rr(()=>NE),multi:!0};var NE=(()=>{class t extends tj{required;inputName="required";normalizeInput=jd;createValidator=n=>N6;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yi(t)))(i||t)}})();static \u0275dir=Pt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Od("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[gs([nj]),Ln]})}return t})();var rj=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jr({type:t});static \u0275inj=ir({})}return t})();var Sp=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:TE,useValue:n.callSetDisabledState??AE}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jr({type:t});static \u0275inj=ir({imports:[rj]})}return t})();function oj(t,e){if(t&1){let n=Fd();En(0,"form",5),fr("ngSubmit",function(){Ui(n);let i=ei();return Hi(i.login())}),En(1,"input",6),Ec("ngModelChange",function(i){Ui(n);let o=ei();return Vd(o.username,i)||(o.username=i),Hi(i)}),Vn(),En(2,"input",7),Ec("ngModelChange",function(i){Ui(n);let o=ei();return Vd(o.password,i)||(o.password=i),Hi(i)}),Vn(),En(3,"button",8),ps(4,"Connexion"),Vn()()}if(t&2){let n=ei();uc(),_c("ngModel",n.username),uc(),_c("ngModel",n.password)}}function sj(t,e){if(t&1){let n=Fd();ps(0),En(1,"form",5),fr("ngSubmit",function(){Ui(n);let i=ei();return Hi(i.disconnect())}),En(2,"button",8),ps(3,"D\xE9connexion"),Vn()()}if(t&2){let n=ei();Ld(" Bienvenue ",n.username," ! ")}}var Rp=class t{constructor(e){this.firestore=e}title=Kt("volley");username="";password="";isConnected=!1;testFirestore(){return O(this,null,function*(){console.log("Test de connexion \xE0 Firestore...");try{let e=gE(this.firestore,"Equipes"),r=(yield mE(e)).docs.map(i=>z({id:i.id},i.data()));console.log("\u{1F4C4} Documents lus :",r),alert("Connexion \xE0 Firestore r\xE9ussie !")}catch(e){console.error("Erreur Firestore :",e),alert("Erreur de connexion \xE0 Firestore. Voir la console.")}})}login(){return O(this,null,function*(){console.log("Tentative de connexion pour",this.username,this.password);let e=pR.SHA256(this.password).toString();console.log("Hash :",e);let n=gE(this.firestore,"Equipes"),r=MS(n,yE("Nom_Equipe","==",this.username),yE("Mot2Passe","==",e)),i=yield mE(r);if(console.log("R\xE9sultat de la requ\xEAte :",i.docs[0].data()),i.empty)throw new Error("Nom ou mot de passe incorrect");return this.isConnected=!0,i.docs[0].data()})}disconnect(){return O(this,null,function*(){this.isConnected=!1})}static \u0275fac=function(n){return new(n||t)(Ve(wo))};static \u0275cmp=mc({type:t,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"main"],[1,"content"],[1,"right-side"],[1,"pill-group"],[3,"click"],[3,"ngSubmit"],["name","username","required","",3,"ngModelChange","ngModel"],["name","password","type","password","required","",3,"ngModelChange","ngModel"],["type","submit"]],template:function(n,r){n&1&&(En(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),fr("click",function(){return r.testFirestore()}),ps(5,"Se connecter Firebase"),Vn(),v0(6,oj,5,2,"form")(7,sj,4,1),Vn()()()(),hs(8,"router-outlet")),n&2&&(uc(6),_0(r.isConnected==!1?6:7))},dependencies:[zc,Sp,hR,Tp,sR,aR,NE,RE,SE,Hd],encapsulation:2})};V0(Rp,fe(z({},_E),{providers:[..._E.providers||[],Yl(Sp)]})).catch(t=>console.error(t));
